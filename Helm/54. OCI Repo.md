## **âœ… Helm Chartë¥¼ OCI Registryì— Push & ì‚¬ìš©í•˜ê¸°**

### **1. ë¡œì»¬ OCI Registry ì‹¤í–‰í•˜ê¸°**

Dockerë¡œ **í¬íŠ¸ 5000**ì—ì„œ ì‹¤í–‰:

```
docker run -d --name oci-registry -p 5000:5000 registry
```

- -d: ë°±ê·¸ë¼ìš´ë“œ ëª¨ë“œ
- --name oci-registry: ì»¨í…Œì´ë„ˆ ì´ë¦„ ì§€ì •
- -p 5000:5000: í¬íŠ¸ ë§¤í•‘
- registry: [ê³µì‹ Docker Registry ì´ë¯¸ì§€](https://hub.docker.com/_/registry)

> ì‹¤í–‰ í™•ì¸:

```
docker ps
```

---

### **2. Helm OCI ê¸°ëŠ¥ í™œì„±í™”**

```
export HELM_EXPERIMENTAL_OCI=1
```

> Windows:

```
$env:HELM_EXPERIMENTAL_OCI=1
```

---

### **3. Helm Chart íŒ¨í‚¤ì§•**

Helm ì°¨íŠ¸ ë””ë ‰í† ë¦¬ì—ì„œ ì‹¤í–‰:

```
helm package first-chart
```

ê²°ê³¼: first-chart-0.1.0.tgz ìƒì„±

---

### **4. OCI Registryì— Push**

```
helm push first-chart-0.1.0.tgz oci://localhost:5000/helm-charts
```

- oci:// ì ‘ë‘ì–´ë¡œ OCI Registry ëª…ì‹œ
- localhost:5000: ë¡œì»¬ ë ˆì§€ìŠ¤íŠ¸ë¦¬
- helm-charts: ì°¨íŠ¸ë¥¼ ì €ì¥í•  repository ì´ë¦„

---

### **5. Chart ë©”íƒ€ì •ë³´ ì¡°íšŒ**

```
helm show all oci://localhost:5000/helm-charts/first-chart --version 0.1.0
```

---

### **6. Chart Pull (ë‹¤ìš´ë¡œë“œ)**

```
helm pull oci://localhost:5000/helm-charts/first-chart --version 0.1.0
```

---

### **7. í…œí”Œë¦¿ ë Œë”ë§ í™•ì¸**

```
helm template oci://localhost:5000/helm-charts/first-chart --version 0.1.0
```

---

### **8. ì„¤ì¹˜**

```
helm install my-release oci://localhost:5000/helm-charts/first-chart --version 0.1.0
```

---

### **9. ì—…ê·¸ë ˆì´ë“œ**

```
helm upgrade my-release oci://localhost:5000/helm-charts/first-chart --version 0.2.0
```

---

### **10. ë¦¬ëª¨íŠ¸ OCI Registry ì‚¬ìš© (ì˜ˆ: Docker Hub)**

#### **1) ë¡œê·¸ì¸**

```
helm registry login <registry-url>
```

- ì˜ˆ: helm registry login ghcr.io
- ì‚¬ìš©ìëª…/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ë¨
#### **2) ë¡œê·¸ì•„ì›ƒ**

```
helm registry logout <registry-url>
```

---

### **ğŸ’¡ ì°¸ê³ **

- Helm 3ë¶€í„° **OCI ì§€ì›ì€ Experimental ê¸°ëŠ¥**ì´ë¯€ë¡œ ì‚¬ìš© ì „ í™˜ê²½ ë³€ìˆ˜ ì„¤ì • í•„ìš”
- oci:// ê²½ë¡œëŠ” ë°˜ë“œì‹œ Helmì´ OCI Registryë¡œ ì¸ì‹í•˜ë„ë¡ í•´ì¤Œ
- ë¦¬ëª¨íŠ¸ ë ˆì§€ìŠ¤íŠ¸ë¦¬ë„ ë™ì¼í•œ ë°©ì‹ìœ¼ë¡œ ì‚¬ìš© ê°€ëŠ¥ (ë‹¨ ë¡œê·¸ì¸ í•„ìš”)
