# **ğŸ¯ Helm Custom Template ì •ì˜ ë° ì‚¬ìš©**

## **1. Helpers íŒŒì¼ì— ì»¤ìŠ¤í…€ í…œí”Œë¦¿ ì¶”ê°€í•˜ê¸°**

- templates/_helpers.tpl íŒŒì¼ì„ ì—´ì–´ì„œ ê¸°ì¡´ í…œí”Œë¦¿ì„ ë³µì‚¬
- ë§¨ ìœ„ì— ë¶™ì—¬ë„£ê³  ì£¼ì„ ì¶”ê°€ (# My custom template ë“±)
- í…œí”Œë¦¿ ì •ì˜ëŠ” defineê³¼ end ë¸”ë¡ ì‚¬ì´ì— ì‘ì„±

```jinja2
{{/* My custom template */}}
{{- define "firstchart.myTemplate" -}}
- {{ .Values.myValue }}
{{- end -}}
```

> âœ¨ **firstchart**ëŠ” ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì—­í•  (ì¤‘ë³µ ë°©ì§€)

---

## **2. Values íŒŒì¼ì— ê°’ ì¶”ê°€í•˜ê¸°**

- values.yaml íŒŒì¼ ëì— ìƒˆ ê°’ ì¶”ê°€

```
myValue: test
```

- ì´ ê°’ì€ í…œí”Œë¦¿ì—ì„œ .Values.myValue ë¡œ ì°¸ì¡°í•  ìˆ˜ ìˆìŒ

---

## **3. í…œí”Œë¦¿ í˜¸ì¶œ ë°©ë²•**

- ì˜ˆë¥¼ ë“¤ì–´ deployment.yaml íŒŒì¼ ë§¨ ìœ„ kind: ì•„ë˜ì— ì¶”ê°€:

```jinja2
kind: Deployment

{{ template "firstchart.myTemplate" . }}
```

- ë˜ëŠ” includeë¥¼ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŒ.

```jinja2
{{ include "firstchart.myTemplate" . }}
```

**ì°¨ì´ì  ìš”ì•½**

|**ë°©ë²•**|**íŠ¹ì§•**|
|---|---|
|template|ê·¸ëƒ¥ ì¶œë ¥. íŒŒì´í”„ë¼ì¸(`|
|include|ê²°ê³¼ë¥¼ ë‹¤ë¥¸ í•¨ìˆ˜ë¡œ íŒŒì´í•‘(`|

---

## **4. Helm Template ëª…ë ¹ì–´ë¡œ í…ŒìŠ¤íŠ¸í•˜ê¸°**

```sh
helm template firstchart
```

- ìƒì„±ëœ YAML íŒŒì¼ì—ì„œ test ê°’ì´ ì •ìƒ ì¶œë ¥ë˜ë©´ ì„±ê³µ! ğŸ‰

---

## **5. ê¸°ë³¸ê°’ ì„¤ì •í•˜ê¸° (Optional)**

- values.yamlì— myValueê°€ ì—†ì„ ê²½ìš° ê¸°ë³¸ê°’ ì§€ì • ê°€ëŠ¥:

```jinja2
{{ default .Chart.Name .Values.myValue }}
```

- ê°’ì´ ì—†ìœ¼ë©´ .Chart.Name (ì˜ˆ: firstchart)ì„ ê¸°ë³¸ê°’ìœ¼ë¡œ ì‚¬ìš©.

**ë³€ê²½ í›„ helpers.tpl ì˜ˆì‹œ:**

```jinja2
{{/* My custom template with default */}}
{{- define "firstchart.myTemplate" -}}
- {{ default .Chart.Name .Values.myValue }}
{{- end -}}
```

---

# **âœ¨ ìš”ì•½**

- **define/end** ë¸”ë¡ ì‚¬ì´ì— í…œí”Œë¦¿ ì •ì˜
- **Values íŒŒì¼**ì—ì„œ ê°’ ë°›ì•„ì„œ ì‚¬ìš©
- **template/include** ë¡œ í˜¸ì¶œ (includeëŠ” íŒŒì´í”„ë¼ì¸ ê°€ëŠ¥)
- **default í•¨ìˆ˜**ë¡œ ê¸°ë³¸ê°’ ì§€ì • ê°€ëŠ¥
