
# **π” Helm μ„¤μΉ μ‹ μ»¤μ¤ν…€ μ„¤μ •κ°’ μ μ©ν•κΈ° (--set , --values)**

MySQLμ„ HelmμΌλ΅ μ„¤μΉν•  λ• κΈ°λ³Έ μ„¤μ •μ„ μ‚¬μ©ν•λ©΄ μλ™μΌλ΅ λΉ„λ°€λ²νΈκ°€ μƒμ„±λ©λ‹λ‹¤.
ν•μ§€λ§ μ΄λ² κ°•μμ—μ„λ” **μ§μ ‘ λΉ„λ°€λ²νΈλ¥Ό μ§€μ •**ν•΄μ„ μ„¤μΉν•λ” λ°©λ²•μ„ λ°°μ›λ‹λ‹¤.

---

## **π› οΈ 1. ν΄λ¬μ¤ν„° μ΄κΈ°ν™”**

> π’΅ μ΄μ „ ν΄λ¬μ¤ν„°λ¥Ό κΉ¨λ—μ΄ μ§€μ°κ³  μƒλ΅ μ‹μ‘ν•λ” κ²½μ°

```
minikube delete     # κΈ°μ΅΄ ν΄λ¬μ¤ν„° μ‚­μ 
minikube start      # μƒλ΅μ΄ ν΄λ¬μ¤ν„° μ‹μ‘
```

---

## **π§ 2. μ»¤μ¤ν…€ μ„¤μ • μ μ© λ°©λ²•**

### **β… λ°©λ²• 1:  --set

### Β **μµμ…μΌλ΅ μ§μ ‘ μ§€μ •**

```
helm install mydb bitnami/mysql --set auth.rootPassword=Test1234
```

> κ°„λ‹¨ν μ‹¤μµν•κ±°λ‚ λΉ λ¥΄κ² ν…μ¤νΈν•  λ•λ” μ΄ λ°©μ‹λ„ κ°€λ¥ν•μ§€λ§, **κ¶μ¥λμ§€ μ•λ” λ°©μ‹**μ…λ‹λ‹¤.

---

### **β… λ°©λ²• 2:  --values

### Β **μµμ…μΌλ΅ YAML μ„¤μ • νμΌ μ‚¬μ© (κ¶μ¥)**

#### **β‘ **Β  values.yaml

#### Β **νμΌ μƒμ„±**

```
# values.yaml
auth:
  rootPassword: "Test1234"
```

> auth.rootPassword β†’ YAMLμ—μ„λ” auth: μ•„λμ— rootPassword:λ΅ ν‘ν„λ¨

#### **β‘΅ Helm μ„¤μΉ λ…λ Ήμ–΄**

```
helm install mydb bitnami/mysql --values ./values.yaml
```

> μ„¤μ • νμΌμ€ ν”„λ΅μ νΈ λ‚΄μ Helm ν΄λ” λ“±μ— μ €μ¥ν•΄μ„ **GitμΌλ΅ κ΄€λ¦¬ν•λ” κ²ƒμ΄ μΆ‹μ**

---

## **π”— 3. μ—°κ²° ν…μ¤νΈ**

Helm μ„¤μΉκ°€ μ™„λ£λλ©΄, μ•λ‚΄ λ©”μ‹μ§€μ— λ‚μ¤λ” λ…λ Ήμ–΄λ΅ MySQL ν΄λΌμ΄μ–ΈνΈ Podμ— μ ‘μ†ν•κ³  λ΅κ·ΈμΈν•©λ‹λ‹¤.

### **β‘  MySQL ν΄λΌμ΄μ–ΈνΈ Pod μ‹¤ν–‰**

```sh
$ kubectl run mydb-mysql-client --rm -i --tty --restart='Never' --image bitnami/mysql:8.0.33-debian-11-r0 --namespace default --command -- mysql -h mydb-mysql.default.svc.cluster.local -uroot -p'Test1234'
```

μ •μƒμ μΌλ΅ μ ‘μ†λλ©΄ μ•„λμ²λΌ MySQL ν”„λ΅¬ν”„νΈμ— μ§„μ…ν•©λ‹λ‹¤.

```
mysql> show databases;
```


---

## **π“ μ •λ¦¬**

|**λ©μ **|**λ…λ Ήμ–΄**|
|---|---|
|κ°„λ‹¨ν• ν…μ¤νΈμ© μ»¤μ¤ν…€ μ„¤μ •|--set auth.rootPassword=Test1234|
|κ¶μ¥ λ°©μ‹ - YAML νμΌ μ‚¬μ©|--values ./values.yaml|
|ν΄λΌμ΄μ–ΈνΈλ΅ μ ‘μ†|kubectl runμΌλ΅ mysql μ ‘μ†|
|λΉ„λ°€λ²νΈ μ…λ ¥|values.yamlμ—μ„ μ„¤μ •ν• κ°’ μ…λ ¥|

---

## **π§  ν**

- --values λ°©μ‹μ€ ν€ ν‘μ—…, Git μ €μ¥, μ¬ν„ κ°€λ¥ν• μ„¤μΉ λ“±μ—μ„ μ λ¦¬ν•©λ‹λ‹¤.
- λ‹¤μ–‘ν• μ„¤μ •μ„ κ΄€λ¦¬ν•  λ•λ” values.dev.yaml, values.prod.yamlμ²λΌ νμΌμ„ λ¶„λ¦¬ν•λ©΄ μΆ‹μµλ‹λ‹¤.
- Helm μ°¨νΈλ§λ‹¤ μ„¤μ • κ°€λ¥ν• ν•­λ©μ€ λ‹¤λ¥΄λ―€λ΅, ν•­μƒ κ³µμ‹ λ¬Έμ„λ‚ helm show values bitnami/mysqlλ΅ ν™•μΈν•μ„Έμ”.
