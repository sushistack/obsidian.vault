![](Pasted%20image%2020241114095023.png)

`server.properties` 에 `log.dirs` 를 설정할 수 있다.
프로듀서로부터 보내진 메지시는 카프카 브로커 내의 파일시스템에 바이트 코드로 쓰여진다.
각 파티션은 각각의 `000.log` 파일을 갖는다. 이 로그 파일들은 바로 파티션된 커밋 로그라고 불리기도 합니다.

메시지가 로그파일에 기록된 후, 생성된 레코드가 커밋됩니다.

여기서 **커밋(commit)**은 메시지가 영구적으로 저장되고, 클라이언트(프로듀서)에게 성공적으로 저장되었다는 신호

• Kafka의 핵심 설계 철학은 **commit log** 기반입니다.
• 메시지를 받으면, 브로커는 해당 메시지를 **파티션별 로그(log) 파일**에 **순차적으로 기록**합니다.
• 로그 파일은 파티션 단위로 관리되며, 디스크에 지속적으로 저장됩니다.
• Kafka는 디스크 I/O를 최적화하기 위해 **순차적 쓰기**를 사용하므로, 높은 쓰기 성능을 제공합니다.
• 이때 메시지는 `오프셋(offset)`을 부여받습니다. 오프셋은 파티션 내에서 메시지의 고유한 위치를 나타냅니다.


![](Pasted%20image%2020241114100818.png)

