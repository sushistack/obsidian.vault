
### API 변경

페이코 앱이 오픈 됨과 동시에 가장 처음 보이는 화면의 API의 구조를 개선하고 안정적으로 변경한 프로젝트라고 할 수 있습니다. 안정적이라고 말씀드리는 이유는 해당 API에 대한 구조를 개선한 새로운 버전을 실제 트래픽으로 테스트할 수 있는 쉐도우 테스트를 통해서 변경했기 때문입니다.

간략하게 설명 드리면, (특정 트래픽 혹은 서버 에서만)기존 v1 로직과는 별개로 새로운 스레드에서 v2 버전의 로직을 실행하게 합니다. 
v1은 그대로 응답을 내려주고, v2 는 v1의 응답과 비교를 해서 응답의 일치여부를 확인하는 로직을 구현하여 리포트를 1일 1회 전달하는 방식을 사용했습니다.

단위 테스트도 열심히 작성했고, 알파환경에서 테스트를 진행했을 때는 이슈가 없어, 자신감 있게 배포를 진행했습니다. 그러나 배포 최초에는 일치율이 굉장히 낮았었고, 점진적으로 시간을 들여서 일치율을 올리는데 노력을 기우렸습니다.

=> 이런식으로 배포를 진행한 이유는?

1. 앱 오픈 시, 요청되는 api 이기 때문에, 안정성이 최우선적으로 보장이 되었어야 했습니다.
2. 또한 v1과 v2의 응답의 일치성이 보장되어야 했습니다.
3. 데이터 구조와 서비스로직의 복잡도가 높아서 유닛/통합 테스트를 진행한다고 해도 데이터 모든 유저의 케이스를 대응하기는 어려웠습니다.

=> 어려웠던 점

1. 저를 제외한 많은 개발자들이 각자의 생각과 방식으로 개발이 되어 있어서 기존 코드를 이해하는데 굉장한 시간이 필요했습니다.
2. 개선 작업을 진행하면서 내부적인 구조를 팀원 분들에게 공유하고 의견을 취하는 부분에서도 굉장히 많은 시간과 이야기가 오갔던 것 같습니다.
3. 응답의 순서에 대한 랜덤성 데이터들이 있어서 이런 부분들을 예외처리하는데 어려움이 조금 있었습니다.

---


즐거운 점
=> 제가 코드를 작성하는 것도 좋아하지만, 다른 분이 작성한 코드를 보는 것도 좋아합니다. 그래서 코드리뷰를 진행하면 굉장히 많은 내용을 적게 되는데, 이게 또 리뷰를 받으시는 분에게는 부담이 될 수 있잖아요? 리뷰를 남길 때, 질문인지, 단순 의견인지, 꼭 고쳐야하는 내용인지를 명확하게 해서 리뷰하는 편입니다.

리더십을 발휘했던 경험
=> 제가 작성해둔 프로젝트 외에도 다양한 프로젝트를 진행했던 경험이 있었는데요, 3년차 즘에 새로입사하신 분과 함께 작은 프로젝트를 진행했던 경험이 있습니다. 처음으로 제가 전체적인 부분을 담당하면서 같이 개발하시는 분도 함께 챙겨야하는 부분이 어려웠었습니다. 

팀원과의 갈등
=> 네이밍이나 데이터를 저장하는 방식에 대한 의견 충돌이 발생한 적이 많았던 것 같습니다. 충돌이 발생할 때마다 사람들은 정말 다양한 생각을 갖고 있구나 싶으면서도 그럴 수 있다고 생각하게 된 것 같습니다. 결론적으로는 보통 다른 분들에게 요청을 해서 투표를 통해서 해결  했던 경우가 많았던 것 같아요

남들과 다르게 행동했던 것
=> 프론트엔드 관련된 작업을 하면서 css 리소스를 어디 위치시키느냐에 대한 의견이 저만 달랐던 경험이 있었습니다. 지금 생각해보면 제가 주장했던 내용이 좀 이상했던 것 같습니다.