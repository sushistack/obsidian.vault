## IAC

IAC(Infrastructure as Code, 코드형 인프라)는 클라우드 인프라를 관리하고 프로비저닝하는 방식을 소프트웨어 개발처럼 코드로 처리하는 접근 방식입니다. 즉, 서버, 네트워크, 데이터베이스, 스토리지 등 인프라 자원을 수동으로 설정하지 않고 코드로 정의하여 자동화하는 것입니다.

  

IAC는 다음과 같은 이점을 제공합니다:

  

1. **자동화**: 인프라를 자동으로 프로비저닝하고 관리할 수 있습니다.

2. **버전 관리**: 코드로 인프라를 정의하므로, 소스 코드 관리 시스템을 통해 버전 관리가 가능합니다.

3. **재사용성**: 동일한 인프라를 여러 환경에 쉽게 배포할 수 있습니다.

4. **일관성**: 코드로 모든 설정을 동일하게 적용하여 오류나 편차를 줄일 수 있습니다.

  

**IAC의 주요 개념:**

  

• **선언형 vs 명령형**: IAC는 선언형(What)을 주로 사용하며, 최종 상태를 정의하면 시스템이 그 상태에 맞춰 설정을 적용합니다. 명령형(How)은 순서와 절차를 세세하게 지정하는 방식입니다.

• _선언형_: “서버가 3대 필요하다”라고 선언하면 시스템이 자동으로 이 상태를 만들어줍니다.

• _명령형_: “서버를 3대 만들고 설정을 적용하라”는 식으로 절차를 코드로 작성합니다.

• **Mutable vs Immutable 인프라**: Mutable은 인프라 자원을 수정하는 방식이고, Immutable은 기존 자원을 수정하지 않고 새로운 자원을 만들어 교체하는 방식입니다. Immutable 방식은 더 안전하고 버그가 적습니다.

  

**대표적인 IAC 도구 및 서비스**

  

**1. Terraform**

  

• **특징**: HashiCorp가 만든 오픈 소스 IAC 도구로, 다양한 클라우드 프로바이더(AWS, GCP, Azure 등)를 지원합니다. 선언형 언어인 HCL(HashiCorp Configuration Language)을 사용하여 인프라를 정의합니다.

• **장점**: 멀티 클라우드 환경을 쉽게 관리할 수 있고, 다양한 플러그인을 지원하여 확장성이 높습니다.

  

**2. AWS CloudFormation**

  

• **특징**: AWS에서 제공하는 IAC 서비스로, 선언형 JSON 또는 YAML 템플릿을 사용하여 AWS 리소스를 정의하고 프로비저닝할 수 있습니다. AWS 서비스와의 깊은 통합이 강점입니다.

• **장점**: AWS 환경에 최적화되어 있어 AWS 리소스를 매우 세밀하게 제어할 수 있습니다.

  

**3. Ansible**

  

• **특징**: Red Hat에서 개발한 IAC 도구로, 주로 설정 관리(Configuration Management)에 사용됩니다. YAML 기반으로 플레이북을 작성하여 서버 설정을 자동화할 수 있으며, 서버 배포와 애플리케이션 설치에도 사용됩니다.

• **장점**: 에이전트가 필요 없고 SSH를 통해 원격으로 설정을 관리할 수 있습니다.

  

**4. Pulumi**

  

• **특징**: 프로그래밍 언어(TypeScript, Python, Go, .NET 등)를 사용하여 인프라를 정의하는 IAC 도구입니다. 기존의 프로그래밍 언어를 활용할 수 있어 더 복잡한 논리와 제어 구조를 구현할 수 있습니다.

• **장점**: 개발자에게 친숙한 언어로 인프라를 관리할 수 있으며, 멀티 클라우드 환경을 지원합니다.

  

**5. Google Cloud Deployment Manager**

  

• **특징**: Google Cloud에서 제공하는 IAC 서비스로, YAML 또는 Python 스크립트로 인프라를 정의할 수 있습니다. Google Cloud 리소스를 프로비저닝하고 관리하는 데 사용됩니다.

• **장점**: Google Cloud와의 높은 호환성과 통합성.

  

**요약**

  

IAC는 인프라를 코드로 관리하여 일관성, 자동화, 재사용성을 높이고, 수작업으로 인한 오류를 줄이는 방법입니다. 대표적인 도구로는 **Terraform**, **AWS CloudFormation**, **Ansible**, **Pulumi**, **Google Cloud Deployment Manager** 등이 있으며, 각 도구는 특정 클라우드 환경이나 요구사항에 따라 선택할 수 있습니다.