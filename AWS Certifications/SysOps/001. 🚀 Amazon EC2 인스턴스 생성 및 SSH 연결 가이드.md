
안녕하세요! 오늘은 Amazon EC2 인스턴스를 생성하고, 생성된 인스턴스에 SSH로 접속하는 방법을 자세하게 알아보겠습니다. 이 가이드를 통해 초보자도 쉽게 따라 할 수 있도록 단계별로 설명해 드릴게요.

### 1. EC2 인스턴스 생성하기

EC2 인스턴스를 만드는 과정은 마치 가상의 컴퓨터를 한 대 임대하는 것과 같습니다. 몇 가지 설정만 해주면 바로 사용할 수 있습니다.

#### **단계별 설정**

|설정 항목|선택 내용|설명|
|---|---|---|
|**인스턴스 이름**|`MyFirstInstance`|인스턴스를 쉽게 식별할 수 있도록 이름을 지정합니다.|
|**애플리케이션 및 OS 이미지 (AMI)**|`Amazon Linux`|EC2 인스턴스의 운영 체제입니다. 실습에서는 Amazon Linux를 선택했습니다.|
|**인스턴스 유형**|`t2.micro`|인스턴스의 하드웨어 사양(CPU, 메모리 등)입니다. 프리 티어(Free Tier)에서 무료로 사용할 수 있는 `t2.micro`를 선택합니다.|
|**키 페어 (로그인)**|`DemoKeyPair`|인스턴스에 SSH로 접속할 때 필요한 보안 키입니다. 새로운 키 페어를 생성하고 RSA, `.pem` 형식으로 저장합니다.|
|**네트워크 설정**|새로운 보안 그룹 생성|인스턴스로 들어오는 트래픽을 제어하는 방화벽 규칙입니다. SSH 접속을 위해 22번 포트를 `0.0.0.0/0` (모든 IP)로 허용하도록 설정합니다.|
|**스토리지 구성**|기본 설정 유지|하드 디스크 용량 설정입니다. 기본으로 설정된 8GB를 그대로 사용합니다.|

위 설정을 마친 후, **'인스턴스 시작(Launch instance)'** 버튼을 클릭하면 인스턴스가 생성됩니다. 인스턴스가 성공적으로 시작되면 상태가 'Running'으로 바뀝니다.

### 2. 키 페어 권한 설정하기

생성된 인스턴스에 SSH로 접속하려면, 다운로드한 `.pem` 키 파일의 권한을 변경해야 합니다. 키 파일은 매우 민감한 정보이므로, 다른 사용자가 접근할 수 없도록 권한을 최소화해야 합니다.

터미널을 열고 키 파일이 있는 다운로드 폴더로 이동합니다.

```Bash
cd ~/Downloads
```

이제 `chmod` 명령어를 사용하여 키 파일의 권한을 400으로 변경합니다.

```Bash
chmod 400 DemoKeyPair.pem
```

> 🔑 **`chmod 400` 이란?**
> 
> `chmod`는 파일의 권한을 변경하는 명령어입니다. `400`은 소유자(user)에게만 읽기(read) 권한을 부여하고, 쓰기(write) 및 실행(execute) 권한과 그룹(group) 및 기타(other) 사용자에게는 아무런 권한도 주지 않겠다는 의미입니다.

### 3. SSH로 인스턴스 접속하기

키 페어 권한 설정을 마쳤다면, 이제 터미널에서 SSH 명령어를 사용하여 인스턴스에 접속할 수 있습니다.

#### **SSH 명령어로 접속하기**

1. **퍼블릭 IPv4 주소 복사:** AWS EC2 대시보드에서 `MyFirstInstance`를 선택하고, **퍼블릭 IPv4 주소**를 복사합니다.
    
2. **SSH 명령어 실행:** 터미널에 다음 명령어를 입력합니다.
    
```Bash
ssh -i "DemoKeyPair.pem" ec2-user@<퍼블릭 IPv4 주소>
```
    
    - `-i "DemoKeyPair.pem"`: 사용할 키 파일을 지정합니다.
        
    - `ec2-user`: Amazon Linux의 기본 사용자 이름입니다.
        
    - `<퍼블릭 IPv4 주소>`: 위에서 복사한 인스턴스의 주소를 붙여넣습니다.
        
    
    처음 접속할 때 "Are you sure you want to continue connecting (yes/no)?"라는 메시지가 나타나면 `yes`를 입력합니다.
    
    접속에 성공하면 터미널의 프롬프트가 변경되며, 이제 인스턴스 안에서 자유롭게 명령어를 실행할 수 있습니다.
    
```Bash
echo "hello world"
```
    
    명령어 실행 결과가 잘 출력되는지 확인해 보세요.
    

---

### 4. EC2 Instance Connect로 접속하기

SSH 키 없이도 AWS 콘솔을 통해 인스턴스에 쉽게 접속할 수 있는 방법도 있습니다. 바로 **EC2 Instance Connect**를 활용하는 것입니다. 이 방법은 터미널을 사용하기 어렵거나, 빠르게 접속해야 할 때 유용합니다.

1. AWS EC2 대시보드에서 `MyFirstInstance`를 선택합니다.
    
2. 상단 메뉴에서 **'연결(Connect)'** 버튼을 클릭합니다.
    
3. **'EC2 Instance Connect'** 탭을 선택합니다.
    
4. 사용자 이름이 `ec2-user`로 올바르게 설정되어 있는지 확인합니다.
    
5. **'연결(Connect)'** 버튼을 클릭합니다.
    

새로운 브라우저 탭이 열리면서 터미널 화면이 나타나고, 인스턴스에 자동으로 접속됩니다. 여기에서도 SSH 접속과 마찬가지로 모든 명령어를 실행할 수 있습니다.

```Bash
pwd
```

---

### 맺음말

오늘은 Amazon EC2 인스턴스를 생성하고, 전통적인 SSH 방법과 EC2 Instance Connect를 통해 접속하는 두 가지 방법을 모두 배워봤습니다.

각 방법의 장단점을 정리하면 다음과 같습니다.

|방법|장점|단점|
|---|---|---|
|**SSH 명령어**|• 강력한 보안(키 페어) • 자동화 및 스크립트 작성 용이 • 터미널 환경에 익숙한 사용자에게 편리|• 키 페어 관리 필요 • 초기 접속 시 권한 설정 필수|
|**EC2 Instance Connect**|• 별도의 키 파일 관리 불필요 • 웹 브라우저만 있으면 접속 가능 • 빠르고 간편한 접속|• AWS 콘솔에 종속적 • 복잡한 스크립트 실행에 제약|

이제 여러분도 AWS에서 자신만의 가상 서버를 구축하고 자유롭게 활용할 수 있을 것입니다. 궁금한 점이 있다면 언제든지 질문해 주세요!