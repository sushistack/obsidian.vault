
## 📋 개요

**AWS EC2 Image Builder**는 EC2 인스턴스 또는 컨테이너 이미지를 생성, 유지, 검증, 그리고 배포하는 과정을 **자동화**하는 완전 관리형 서비스입니다. 이 서비스를 통해 수동 작업을 줄이고, 보안 및 규정 준수 요건을 충족하는 최신 상태의 이미지를 쉽게 관리할 수 있습니다.

---

## 🛠️ EC2 Image Builder의 작동 원리

![[Pasted image 20250925200053.png]]

EC2 Image Builder는 사용자가 정의한 빌드 및 테스트 단계를 기반으로 AMI를 생성합니다. 전체 프로세스는 다음과 같이 진행됩니다.

### 1. 빌드(Build) 단계

1. **빌더 인스턴스 생성**: Image Builder 서비스가 자동으로 **빌더 EC2 인스턴스**를 생성합니다.
    
2. **컴포넌트 적용**: 이 인스턴스에 사용자가 정의한 **빌드 컴포넌트**를 적용합니다. 이 컴포넌트에는 소프트웨어 설치(예: Java, 특정 애플리케이션), 시스템 업데이트, 보안 설정(예: 방화벽) 등 이미지를 사용자 정의하는 스크립트가 포함됩니다.
    
3. **AMI 생성**: 모든 빌드 작업이 완료되면, 빌더 인스턴스의 스냅샷을 기반으로 새로운 AMI가 생성됩니다.
    

### 2. 테스트(Test) 단계

1. **테스트 인스턴스 생성**: 빌드된 AMI를 사용하여 자동으로 **테스트 EC2 인스턴스**를 시작합니다.
    
2. **테스트 실행**: 사용자가 미리 정의한 **테스트 컴포넌트**를 실행합니다. 이 컴포넌트는 AMI가 제대로 작동하는지, 애플리케이션이 올바르게 실행되는지, 보안 기준을 충족하는지 등을 검증합니다.
    
3. **결과 보고**: 모든 테스트가 성공적으로 완료되면, AMI는 다음 단계인 배포 단계로 넘어갑니다. 테스트에 실패할 경우, Image Builder는 해당 빌드 프로세스를 중단하고 실패를 보고합니다.
    

### 3. 배포(Distribute) 단계

1. **리전 간 배포**: 검증이 완료된 AMI를 사용자가 지정한 여러 AWS 리전으로 자동으로 복사하고 배포할 수 있습니다.
    
2. **글로벌 워크플로우**: 이를 통해 단일 빌드 프로세스로 전 세계 여러 리전에 배포되는 애플리케이션의 일관성을 보장할 수 있습니다.
    

---

## ⏰ 자동화 및 비용

### 스케줄링 옵션

EC2 Image Builder는 다양한 방법으로 실행을 자동화할 수 있습니다.

|실행 방법|설명|
|---|---|
|**수동 실행**|필요할 때마다 직접 빌드 프로세스를 시작합니다.|
|**스케줄 기반**|정기적인 시간(예: 매주, 매월)에 맞춰 빌드 프로세스를 실행합니다.|
|**이벤트 기반**|특정 패키지 업데이트와 같은 이벤트에 반응하여 자동으로 빌드를 시작합니다.|

### 비용

EC2 Image Builder 서비스 자체는 **무료**입니다. 그러나 빌드 프로세스 중에 사용되는 기본 AWS 리소스에 대한 비용은 지불해야 합니다.

- **EC2 인스턴스**: 빌더 및 테스트 인스턴스가 실행되는 동안의 EC2 사용 요금.
    
- **AMI 스토리지**: 생성된 AMI와 그 기반이 되는 EBS 스냅샷의 스토리지 요금.
    
- **리전 간 데이터 전송**: AMI를 다른 리전으로 배포할 때 발생하는 데이터 전송 요금.
    

---

## 📝 정리: EC2 Image Builder의 주요 이점

- **자동화**: 이미지 빌드 및 테스트 프로세스의 복잡한 수동 작업을 제거합니다.
    
- **보안 및 규정 준수**: 최신 패치가 적용되고 보안 기준을 충족하는 이미지를 일관되게 생성할 수 있습니다.
    
- **글로벌 배포**: 여러 리전으로 AMI를 쉽게 배포하여 글로벌 애플리케이션을 지원합니다.
    
- **비용 효율성**: 서비스 자체는 무료이며, 사용한 리소스에 대해서만 비용을 지불하므로 비용을 효율적으로 관리할 수 있습니다.