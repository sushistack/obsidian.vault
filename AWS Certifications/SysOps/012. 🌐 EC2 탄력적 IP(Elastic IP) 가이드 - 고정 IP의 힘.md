
## 🎯 탄력적 IP(Elastic IP)란?

![[Pasted image 20250921163925.png]]

**탄력적 IP(Elastic IP)**는 AWS에서 제공하는 **고정된 공용 IPv4 주소**입니다. 일반 EC2 인스턴스의 공용 IP는 인스턴스가 중지되었다가 다시 시작될 때마다 변경되지만, 탄력적 IP를 사용하면 인스턴스의 상태와 관계없이 **항상 동일한 IP 주소**를 유지할 수 있습니다.

### 주요 특징 및 사용 사례

- **영구적인 IP:** 사용자가 명시적으로 해제하기 전까지 특정 리전에서 소유하는 IP 주소입니다.
    
- **유연성:** 한 번에 하나의 인스턴스에만 연결할 수 있지만, 필요에 따라 다른 인스턴스나 네트워크 인터페이스로 **쉽게 재할당**할 수 있습니다.
    
- **장애 마스킹:** 인스턴스에 장애가 발생했을 때, 탄력적 IP를 다른 정상 인스턴스로 신속하게 재할당하여 **서비스 중단 시간을 최소화**할 수 있습니다. 이는 DNS(Domain Name System) 업데이트를 기다릴 필요 없이 즉시 트래픽을 리디렉션하는 효과를 줍니다.
    
- **과금 정책:**
    
    - **인스턴스에 연결되어 사용 중인 경우:** **무료**
        
    - **인스턴스에 연결되지 않은 채 할당만 되어 있는 경우:** **시간당 비용 청구**
        
- **사용 제한:** AWS는 기본적으로 계정당 5개의 탄력적 IP를 할당하며, 꼭 필요한 경우에만 사용할 것을 권장합니다.
    

> **💡 대안:** 탄력적 IP를 대신하여 **DNS(Route 53) 이름**이나 **로드 밸런서**를 사용하는 것이 더 유연하고 비용 효율적인 경우가 많습니다.

---

## 💻 실습: 탄력적 IP 할당 및 재할당

아래 실습을 통해 탄력적 IP의 유연성과 유용성을 직접 확인해 보겠습니다.

### 1. 두 개의 EC2 인스턴스 준비

먼저, `MyFirstInstance`와 `MySecondInstance`라는 두 개의 EC2 인스턴스를 생성합니다. 각 인스턴스에 접속하여 다음과 같이 파일을 생성합니다.

- **`MyFirstInstance`:** `hello-instance-1.txt`
    
- **`MySecondInstance`:** `hello-instance-2.txt`
    

### 2. 탄력적 IP 할당 및 연결

1. EC2 대시보드 좌측 메뉴에서 **`Elastic IPs`**를 클릭합니다.
    
2. **`Allocate Elastic IP address`** 버튼을 클릭하여 새로운 탄력적 IP 주소를 할당받습니다.
    
3. 할당된 IP를 선택하고 **`Actions`** 메뉴에서 **`Associate Elastic IP address`**를 선택합니다.
    
4. **`Instance`** 드롭다운에서 **`MyFirstInstance`**를 선택하고 **`Associate`**를 클릭하여 연결합니다.
    

이제 `MyFirstInstance`의 퍼블릭 IP가 방금 할당한 탄력적 IP로 변경됩니다.

### 3. 탄력적 IP 재할당

이제 탄력적 IP를 `MySecondInstance`로 재할당하여 동일한 IP로 다른 인스턴스에 접속할 수 있는지 확인합니다.

1. **`Elastic IPs`** 메뉴에서 현재 연결된 탄력적 IP를 선택합니다.
    
2. **`Actions`** 메뉴에서 **`Disassociate Elastic IP address`**를 선택하여 `MyFirstInstance`와의 연결을 해제합니다.
    
3. 다시 **`Actions`** 메뉴에서 **`Associate Elastic IP address`**를 선택하고, **`MySecondInstance`**를 선택하여 연결합니다.

이제 동일한 탄력적 IP 주소로 SSH에 접속하면, 이전에는 `MyFirstInstance`에 연결되었던 것이 `MySecondInstance`로 연결됩니다.

```Bash
# 이전에 MyFirstInstance에 연결되었던 명령어
# 동일한 IP로 접속하면 이제 MySecondInstance에 연결됨
ssh -i "your-key.pem" ec2-user@<탄력적_IP_주소>

# 접속 후 파일 목록 확인
ls

# 출력 결과:
hello-instance-2.txt  # 이제 다른 인스턴스에 접속된 것을 확인할 수 있습니다.
```

이 실습은 탄력적 IP가 **장애가 발생한 인스턴스의 트래픽을 다른 인스턴스로 신속하게 전환**하는 핵심적인 용도를 잘 보여줍니다.

---

## 🗑️ 마무리: 탄력적 IP 해제

실습 완료 후에는 불필요한 비용 청구를 방지하기 위해 반드시 할당된 탄력적 IP 주소를 **해제(Release)**해야 합니다.

1. **`Elastic IPs`** 메뉴에서 할당된 IP를 선택합니다.
    
2. **`Actions`** 메뉴에서 **`Disassociate Elastic IP address`**를 클릭하여 인스턴스와의 연결을 해제합니다.
    
3. 다시 **`Actions`** 메뉴에서 **`Release Elastic IP addresses`**를 클릭하여 IP 주소를 완전히 해제합니다.