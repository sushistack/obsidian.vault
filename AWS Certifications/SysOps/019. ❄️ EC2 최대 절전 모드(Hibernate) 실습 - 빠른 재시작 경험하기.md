
## 🚀 최대 절전 모드를 위한 인스턴스 설정

최대 절전 모드(Hibernate)를 활성화하려면 몇 가지 필수 설정이 필요합니다. 이번 실습에서는 이러한 설정을 적용한 후, 인스턴스를 최대 절전 모드로 전환하여 부팅 시간을 직접 비교해 보겠습니다.

### 1. 인스턴스 시작 구성

1. **AMI 및 인스턴스 유형 선택:** `Amazon Linux 2` AMI와 `t2.micro` 인스턴스 유형을 선택합니다.
    
2. **스토리지 설정:**
    
    - `t2.micro` 인스턴스는 1GB RAM을 가지므로, EBS 루트 볼륨 크기가 이보다 커야 합니다. 기본값인 8GB는 충분합니다.
        
    - **루트 볼륨 암호화:** 보안을 위해 EBS 볼륨은 반드시 암호화해야 합니다. **`Encrypt`** 옵션을 활성화하고 `AWS/EBS` 기본 키를 선택합니다.
        
3. **최대 절전 모드 활성화:** `고급 세부 정보` 섹션에서 **`최대 절전 모드 동작(Stop-hibernate behavior)`** 옵션을 찾아 `활성화(Enable)`로 설정합니다.
    

### 2. 인스턴스 시작 및 상태 확인

설정을 완료한 후 인스턴스를 시작합니다. 인스턴스가 `running` 상태가 되면, EC2 Instance Connect를 통해 접속합니다.

- **`uptime` 명령어를 사용한 초기 상태 확인:**

```Bash
uptime
```
    
이 명령어는 인스턴스가 마지막으로 재부팅된 이후 얼마나 오래 실행되었는지 보여줍니다. 인스턴스 시작 직후에는 `up 0 min` 또는 `up 1 min`과 같이 표시됩니다.

---

## 3. 💤 인스턴스 최대 절전 및 재시작

이제 최대 절전 모드의 핵심 기능을 체험해 봅시다.

### 1. 인스턴스 최대 절전 모드로 전환

1. EC2 인스턴스 대시보드에서 해당 인스턴스를 선택합니다.
    
2. **`인스턴스 상태(Instance state)`** 메뉴에서 **`최대 절전 모드(Hibernate instance)`**를 클릭합니다.
    
3. 인스턴스는 `stopping` 상태를 거쳐 `stopped` 상태로 전환됩니다.
    

이 과정에서 인스턴스의 RAM 데이터가 암호화된 EBS 볼륨에 저장됩니다.

### 2. 인스턴스 재시작

인스턴스가 `stopped` 상태가 되면 **`인스턴스 상태(Instance state)`** 메뉴에서 **`인스턴스 시작(Start instance)`**을 클릭합니다.

### 3. `uptime`으로 재시작 시간 확인

인스턴스가 `running` 상태가 되면 다시 EC2 Instance Connect로 접속하고 `uptime` 명령어를 실행합니다.

- **`uptime` 명령어 재실행:**

```Bash
uptime
```

- **결과 확인:** `up 3 min` 또는 이와 유사한 결과가 나타납니다.

### 💡 실습 결과 분석

일반적인 `Stop` & `Start` 과정이었다면 `uptime`은 다시 `0 min`부터 시작했을 것입니다. 하지만 최대 절전 모드를 사용했기 때문에, 인스턴스는 OS 관점에서 **전원이 꺼지지 않은 것처럼** 동작합니다. 이는 인스턴스가 RAM 상태를 그대로 복원하여 빠르게 재개되었음을 의미합니다.

---

## 🧹 마무리: 리소스 정리

실습 완료 후, 불필요한 비용 발생을 막기 위해 생성한 인스턴스를 반드시 종료해야 합니다.

1. EC2 인스턴스 대시보드에서 해당 인스턴스를 선택합니다.
    
2. **`인스턴스 상태(Instance state)`** 메뉴에서 **`인스턴스 종료(Terminate instance)`**를 클릭합니다.