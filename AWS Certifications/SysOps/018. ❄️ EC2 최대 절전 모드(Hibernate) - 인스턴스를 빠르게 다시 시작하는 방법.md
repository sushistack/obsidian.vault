
## 💤 EC2 최대 절전 모드(Hibernate)란?

![[Pasted image 20250921164725.png]]

**EC2 최대 절전 모드(Hibernate)**는 인스턴스의 **RAM(in-memory) 상태를 그대로 보존**하면서 인스턴스를 중지하는 기능입니다. 일반적인 `Stop`과 `Start` 과정에서는 RAM의 모든 데이터가 사라지고 인스턴스가 다시 부팅(Booting)되지만, 최대 절전 모드를 사용하면 이전에 실행 중이던 애플리케이션과 OS 상태를 그대로 유지한 채 인스턴스를 매우 빠르게 다시 시작할 수 있습니다.

### 🤔 일반적인 중지(Stop)와 최대 절전 모드의 차이점

|구분|일반적인 중지(Stop)|최대 절전 모드(Hibernate)|
|---|---|---|
|**RAM 상태**|**소멸**됩니다.|**보존**됩니다.|
|**부팅 시간**|OS를 처음부터 다시 부팅하므로 **오래 걸립니다.**|OS가 **동결(frozen)**된 상태에서 재개되므로 **매우 빠릅니다.**|
|**용도**|임시로 인스턴스를 사용 중지하고, 새로운 부팅 상태에서 재시작할 때.|애플리케이션의 상태를 유지하거나, 부팅 시간이 긴 서비스를 빠르게 재개할 때.|

---

## 🚀 최대 절전 모드의 동작 원리

최대 절전 모드는 다음의 과정을 통해 RAM 상태를 보존합니다. .

1. **메모리 상태 저장:** 사용자가 인스턴스에 최대 절전 모드 명령을 내리면, 인스턴스는 `stopping` 상태로 전환됩니다. 이때 **RAM에 있는 모든 데이터**가 암호화된 **EBS 루트 볼륨**에 파일로 저장됩니다.
    
2. **인스턴스 중지:** RAM 데이터가 모두 EBS 볼륨에 저장되면 인스턴스는 중지됩니다. 이 과정에서 RAM의 전원이 꺼지면서 메모리 데이터는 사라지지만, EBS 볼륨에 저장된 상태는 유지됩니다.
    
3. **빠른 재시작:** 인스턴스를 다시 시작하면, EBS 볼륨에 저장된 RAM 데이터가 메모리로 다시 로드됩니다. 인스턴스는 OS를 재부팅하는 대신, **이전의 정확한 상태를 즉시 복원**합니다.

### 최대 절전 모드의 필수 조건

- **EBS 루트 볼륨:** 루트 볼륨은 반드시 **EBS 볼륨**이어야 합니다.
    
- **볼륨 암호화:** 루트 EBS 볼륨은 반드시 **암호화**되어야 합니다. 이는 RAM의 민감한 데이터가 디스크에 저장되므로 보안을 위한 필수 조건입니다.
    
- **충분한 볼륨 크기:** 루트 볼륨의 크기는 RAM의 데이터를 모두 저장할 수 있도록 **RAM 크기보다 커야 합니다.**
    
- **지원 인스턴스:** 특정 인스턴스 패밀리만 최대 절전 모드를 지원하며, **베어 메탈 인스턴스는 지원하지 않습니다.**
    
- **최대 절전 기간:** 최대 절전 모드로 유지할 수 있는 기간은 **최대 60일**입니다.

---

## 🛠️ 최대 절전 모드의 사용 사례

최대 절전 모드는 다음과 같은 워크로드에서 큰 이점을 제공합니다.

- **빠른 재시작이 필요한 서비스:** 초기화에 시간이 오래 걸리는 애플리케이션이나 캐시를 사용하는 서비스에 적합합니다. 예를 들어, 대규모 인메모리 캐시를 사용하는 애플리케이션은 재시작 시 캐시를 다시 채울 필요 없이 즉시 사용할 수 있습니다.
    
- **장기 실행 프로세스:** 중간에 중지되거나 재시작되면 안 되는 장기 실행 작업의 상태를 보존할 때 유용합니다.
    
- **개발/테스트 환경:** 작업 중인 개발 환경을 그대로 보존하고, 필요할 때마다 빠르게 재개하여 개발 생산성을 높일 수 있습니다.

> **💡 참고:** 최대 절전 모드 중에는 EBS 볼륨에 대한 비용만 부과되며, 인스턴스 자체에 대한 요금은 부과되지 않습니다.