# 

---

## 💡 AWS Lambda란 무엇이며, 왜 사용해야 하는가?

**AWS Lambda**는 서버를 프로비저닝하거나 관리할 필요 없이 코드를 실행할 수 있는 **서버리스(serverless)** 컴퓨팅 서비스입니다. 사용자는 코드를 업로드하기만 하면, 이벤트에 따라 코드가 자동으로 실행됩니다.

### AWS Lambda vs. Amazon EC2

전통적인 서버 방식인 **Amazon EC2**와 비교하면 AWS Lambda의 장점은 더욱 명확해집니다.

|특징|Amazon EC2|AWS Lambda|
|---|---|---|
|**서버 관리**|사용자가 가상 서버(Virtual Servers)를 직접 관리해야 함|**관리할 서버 없음(No servers to manage)**, AWS가 모든 인프라 관리|
|**프로비저닝**|CPU, 메모리 등 리소스 양을 미리 지정해야 함|**코드를 기반으로 리소스 자동 프로비저닝**|
|**실행 방식**|24시간 연속 실행. 유휴 시간에도 비용 발생|**요청 시에만 실행(On-demand)**. 코드가 실행되는 동안에만 비용 발생|
|**확장성(Scaling)**|Auto Scaling Group을 통해 자동 확장 가능. 설정 필요|**자동 확장(Automated scaling)**. 요청 수에 따라 함수가 자동으로 병렬 실행|
|**과금 방식**|인스턴스 유형 및 실행 시간에 따라 과금|**요청 수**와 **실행 시간**에 따라 과금. 매우 저렴하고 예측 가능|

Lambda는 단일 작업 또는 단기 실행(최대 15분)에 최적화되어 있으며, 필요한 때에만 코드를 실행하므로 비용 효율성이 극대화됩니다.

---

## 💵 AWS Lambda의 비용 및 특징

Lambda는 매우 합리적인 가격 정책을 제공하며, 강력한 기능을 갖추고 있습니다.

- **간편한 요금 체계**:
    
    - **요청 수(Requests)**: 함수가 호출된 횟수에 따라 요금이 부과됩니다.
        
    - **컴퓨팅 시간(Compute Time)**: 함수가 실행된 총 시간에 따라 요금이 부과되며, 최소 1밀리초 단위로 계산됩니다.
        
- **무료 등급(Free Tier)**:
    
    - **매월 100만 건의 요청** 무료
        
    - **매월 40만 기가바이트-초(GB-seconds)의 컴퓨팅 시간** 무료 (이는 RAM 1GB 할당 시 40만 초, 즉 약 111시간의 무료 실행 시간에 해당합니다.)
        
- **지원 언어**: `Node.js`, `Python`, `Java`, `C#(.NET Core)`, `Ruby` 등 다양한 프로그래밍 언어를 지원합니다. 또한, **Custom Runtime API**를 통해 `Go`, `Rust` 등 다른 언어도 사용할 수 있습니다.
    
- **컨테이너 이미지 지원**: Docker 이미지를 Lambda 함수로 배포할 수 있지만, 장기 실행 컨테이너에는 **ECS**나 **Fargate**가 더 적합합니다. 시험 관점에서는 Docker 이미지는 ECS/Fargate에, Lambda는 이벤트 기반의 단기 실행 코드에 주로 사용된다는 점을 기억하는 것이 중요합니다.
    
- **리소스 할당**: 함수에 **최대 10GB의 RAM**을 할당할 수 있습니다. RAM을 늘리면 CPU 성능과 네트워크 처리량도 비례하여 향상됩니다.
    
- **통합 서비스**: AWS의 수많은 서비스와 원활하게 통합되어 강력한 이벤트 기반 아키텍처를 구축할 수 있습니다.
    

---

## 🔗 AWS Lambda의 주요 통합 서비스 및 활용 사례

Lambda는 거의 모든 AWS 서비스와 연동하여 다양한 아키텍처를 구축할 수 있습니다.

### 주요 통합 서비스

|서비스|활용 방식|
|---|---|
|**S3**|파일 업로드, 삭제 등 S3 이벤트 발생 시 Lambda 함수 호출|
|**API Gateway**|REST API 엔드포인트를 통해 Lambda 함수를 호출하여 웹 API 구축|
|**DynamoDB**|데이터베이스의 변경 사항(스트림)을 감지하여 Lambda 함수 트리거|
|**CloudWatch Events / EventBridge**|정해진 시간(CRON) 또는 AWS 서비스의 이벤트에 따라 Lambda 함수 호출|
|**SNS / SQS**|메시지 큐(SQS) 또는 알림 토픽(SNS)의 메시지를 처리하기 위해 Lambda 함수 호출|
|**Cognito**|사용자 인증 관련 이벤트(예: 회원가입, 로그인) 발생 시 Lambda 함수 호출|

### 활용 사례: 서버리스 아키텍처 구축

1. **서버리스 이미지 썸네일 생성**:
    
    - **S3** 버킷에 새로운 이미지가 업로드됩니다.
        
    - 이 S3 이벤트가 **Lambda** 함수를 호출합니다.
        
    - Lambda 함수는 이미지의 썸네일을 생성합니다.
        
    - 생성된 썸네일은 다른 S3 버킷에 저장되며, 이미지 메타데이터는 **DynamoDB**에 기록됩니다.
        
    - 이 모든 과정은 서버 없이 이벤트에 의해 자동으로 처리됩니다.
        
2. **서버리스 CRON 작업**:
    
    - **CloudWatch Events** 또는 **EventBridge**에 `CRON` 규칙을 설정하여 주기적인 이벤트를 생성합니다.
        
    - 이 이벤트가 **Lambda** 함수를 호출하여 원하는 작업을 수행합니다.
        
    - EC2 인스턴스를 24시간 실행할 필요 없이, 필요한 시점에만 코드가 실행되므로 비용이 절감됩니다.
        

Lambda는 유연성과 확장성, 그리고 탁월한 비용 효율성을 제공하여 오늘날의 클라우드 애플리케이션 개발에 있어 필수적인 기술로 자리 잡았습니다.