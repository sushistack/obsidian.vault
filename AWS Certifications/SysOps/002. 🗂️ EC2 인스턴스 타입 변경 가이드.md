

안녕하세요! 오늘은 EC2 인스턴스의 하드웨어 사양을 변경하는 방법에 대해 알아보겠습니다. 애플리케이션의 성능을 높이기 위해 더 많은 CPU나 RAM이 필요할 때, 인스턴스 타입을 업그레이드할 수 있습니다. 반대로 비용을 절감하기 위해 사양을 낮추는 것도 가능합니다.

### 1. 인스턴스 타입 변경의 기본 원리

EC2 인스턴스 타입을 변경하는 것을 **수직 확장(Vertical Scaling)**이라고 합니다. 이 작업은 인스턴스의 **EBS(Elastic Block Store)** 기반 스토리지를 사용해야만 가능합니다. EBS는 인스턴스와 별도로 관리되는 블록 스토리지로, 인스턴스가 중지되었다가 재시작되어도 데이터가 그대로 유지됩니다.

**변경 과정 요약**

|단계|설명|
|---|---|
|**1. 인스턴스 중지**|인스턴스를 중지해야만 인스턴스 타입을 변경할 수 있습니다.|
|**2. 인스턴스 타입 변경**|인스턴스 설정 메뉴에서 원하는 인스턴스 타입(예: `t2.micro` -> `t2.small`)으로 변경합니다.|
|**3. 인스턴스 시작**|변경된 설정으로 인스턴스를 다시 시작합니다.|

---

### 2. 인스턴스 타입 변경 실습: `t2.micro`에서 `t2.small`로

이 실습에서는 `t2.micro` 인스턴스의 RAM 용량을 확인한 후, `t2.small`로 변경하여 RAM 용량이 어떻게 변하는지 비교해 보겠습니다.

#### **단계 1: 현재 인스턴스 상태 확인**

SSH를 통해 현재 `t2.micro` 인스턴스에 접속합니다.

1. **테스트 파일 생성:** 인스턴스 내에 파일이 잘 보존되는지 확인하기 위해 `hello.txt` 파일을 만듭니다.

```Bash
echo "hello" > hello.txt
```
    
2. **메모리 확인:** `free -m` 명령어를 사용하여 현재 인스턴스의 RAM 용량을 확인합니다.

```Bash
free -m
```
    
`t2.micro` 인스턴스에서는 약 **993MB**의 메모리가 표시됩니다.
    
|Total|Used|Free|Shared|Buff/cache|Available|
|---|---|---|---|---|---|
|993|68|694|8|230|851|

#### **단계 2: 인스턴스 중지 및 타입 변경**

1. **인스턴스 중지:** AWS EC2 콘솔에서 `MyFirstInstance`를 선택하고 **'인스턴스 상태' -> '인스턴스 중지'**를 클릭합니다. 인스턴스 상태가 'Stopped'로 바뀔 때까지 기다립니다.
    
2. **타입 변경:** 인스턴스가 중지되면 **'작업' -> '인스턴스 설정' -> '인스턴스 유형 변경'**을 선택합니다.
    
3. **새로운 타입 선택:** 인스턴스 유형 목록에서 `t2.small`을 선택한 후 **'적용'**을 클릭합니다.
    
    ⚠️ **주의:** `t2.small`은 AWS 프리 티어에 포함되지 않으므로, 사용 시 요금이 부과될 수 있습니다.
    

#### **단계 3: 인스턴스 재시작 및 변경 확인**

1. **인스턴스 시작:** 인스턴스 상태가 'Stopped'인 것을 확인하고 **'인스턴스 상태' -> '인스턴스 시작'**을 클릭합니다.
    
2. **데이터 보존 확인:** 인스턴스가 다시 'Running' 상태가 되면, EC2 Instance Connect를 통해 인스턴스에 접속합니다. 이전에 생성한 `hello.txt` 파일이 그대로 있는지 확인합니다.
    
3. **메모리 재확인:** `free -m` 명령어를 다시 실행하여 메모리 용량이 변경되었는지 확인합니다.
    
```Bash
free -m
```
    
`t2.small`로 변경된 인스턴스에서는 약 **1991MB**의 메모리가 표시됩니다. 이는 `t2.micro`일 때보다 약 2배 증가한 용량입니다.

|Total|Used|Free|Shared|Buff/cache|Available|
|---|---|---|---|---|---|
|1991|68|694|8|230|851|


---

### 3. EBS 최적화 인스턴스란?

인스턴스 타입을 변경할 때 'EBS 최적화(EBS-optimized)'라는 옵션을 볼 수 있습니다.

- **EBS 최적화:** 인스턴스에서 EBS 볼륨으로 데이터를 전송할 때 전용 네트워크 대역폭을 제공하여, I/O 성능 저하 없이 높은 처리량을 보장합니다.
    
- **지원 여부:** `t2.micro`나 `t2.small`과 같은 일부 인스턴스 타입은 이 기능을 지원하지 않습니다. `t3`와 같은 최신 세대 인스턴스에서는 기본적으로 활성화되어 있습니다.

### 4. 실습 후 정리 (필수)

요금 청구를 피하기 위해 실습이 끝난 후에는 반드시 인스턴스 타입을 다시 **`t2.micro`**로 변경하고 인스턴스를 중지하세요.

1. **인스턴스 중지:** `t2.small` 인스턴스를 중지합니다.
    
2. **타입 변경:** `t2.micro`로 다시 변경하고 **'적용'**을 클릭합니다.
    
3. **인스턴스 중지 상태 유지:** 다음 실습을 위해 인스턴스를 중지 상태로 두거나, 더 이상 사용하지 않을 경우 **인스턴스를 종료(Terminate)**하여 불필요한 비용이 발생하지 않도록 합니다.
    

이 과정을 통해 인스턴스 타입을 변경하는 방법을 확실하게 익히셨기를 바랍니다. 다음 시간에는 다른 유용한 AWS 기능에 대해 알아보겠습니다.