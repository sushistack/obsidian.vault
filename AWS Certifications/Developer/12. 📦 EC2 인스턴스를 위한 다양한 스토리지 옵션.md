EBS는 Elastic Block Store의 약자로, 실행 중인 인스턴스에 연결할 수 있는 네트워크 드라이브입니다. 저희는 이미 모르는 사이에 EBS 볼륨을 사용해 왔습니다.

EBS 볼륨을 사용하면 인스턴스가 종료된 후에도 데이터를 영구적으로 보존할 수 있습니다. 이것이 바로 EBS 볼륨의 주된 목적입니다. 인스턴스를 재 생성하고 이전과 동일한 EBS 볼륨을 마운트하면 데이터를 다시 가져올 수 있어 매우 유용합니다.

CCP (Certified Cloud Practitioner) 수준에서 이러한 EBS 볼륨은 **한 번에 하나의 인스턴스에만 마운트**할 수 있습니다. 또한 EBS 볼륨을 생성하면 특정 가용 영역 (Availability Zone, AZ)에 묶입니다. 예를 들어 `us-east-1a`에 생성된 EBS 볼륨은 다른 AZ에 연결할 수 없습니다. 이 내용은 잠시 후 다이어그램에서 살펴보겠습니다.

EBS 볼륨을 무엇이라고 생각하면 될까요? 네트워크 USB 스틱이라고 생각하시면 됩니다. 컴퓨터에서 빼서 다른 컴퓨터에 꽂을 수 있는 USB 스틱과 유사하지만, 실제로 컴퓨터에 물리적으로 연결하는 것이 아니라 네트워크를 통해 연결됩니다.

AWS 프리 티어는 매달 30GB의 범용 (General Purpose) SSD 또는 마그네틱 타입의 EBS 스토리지를 무료로 제공합니다. 이 과정에서는 GP2에서 GP3 볼륨을 사용하여 이를 활용할 것입니다.

### EBS 볼륨의 특징

EBS 볼륨은 물리적 드라이브가 아닌 **네트워크 드라이브**입니다. 따라서 인스턴스와 EBS 볼륨 간의 통신은 네트워크를 사용하게 되며, 네트워크 사용으로 인해 컴퓨터 간 통신 시 약간의 지연 시간 (latency)이 발생할 수 있습니다.

네트워크 드라이브이기 때문에 EBS 볼륨은 EC2 인스턴스에서 분리하여 다른 인스턴스에 매우 빠르게 연결할 수 있습니다. 이는 장애 조치 (failover) 시 매우 편리합니다.

EBS 볼륨은 특정 가용 영역에 묶여 있으므로, 예를 들어 `us-east-1a`에 생성된 볼륨은 `us-east-1b`에 연결할 수 없습니다. 하지만 이 섹션에서 살펴보겠지만, 스냅샷을 생성하면 서로 다른 가용 영역 간에 볼륨을 이동할 수 있습니다.

마지막으로, EBS 볼륨은 볼륨이므로 용량을 미리 프로비저닝해야 합니다. 즉, 원하는 GB 수와 IOPS (Input/Output Operations Per Second, 초당 입출력 작업 수)를 미리 지정하여 EBS 볼륨의 성능을 정의해야 합니다. 프로비저닝된 용량에 대해 요금이 청구되며, 더 나은 성능이나 더 큰 크기를 원하면 시간이 지남에 따라 용량을 늘릴 수 있습니다.

### EBS 볼륨 다이어그램

![[Pasted image 20250602115235.png]]

다이어그램으로 보면 다음과 같습니다. `us-east-1a`에 하나의 EC2 인스턴스가 있고, 이 인스턴스에 하나의 EBS 볼륨을 연결할 수 있습니다.


다른 EC2 인스턴스를 생성하면 (CCP 수준에서) 하나의 EBS 볼륨을 동시에 두 개의 인스턴스에 연결할 수 없습니다. 따라서 다른 EC2 인스턴스에는 자체 EBS 볼륨이 연결되어야 합니다. 하지만 하나의 인스턴스에 두 개의 EBS 볼륨을 연결하는 것은 가능합니다. 이는 하나의 컴퓨터에 두 개의 네트워크 USB 스틱을 연결하는 것과 유사하게 이해할 수 있습니다.

EBS 볼륨은 가용 영역에 연결되어 있습니다. 따라서 다른 AZ에 다른 EBS 볼륨을 가지려면 해당 AZ에 별도로 생성해야 합니다. EC2 인스턴스가 AZ에 묶여 있는 것처럼 EBS 볼륨도 마찬가지입니다.

마지막으로, EBS 볼륨을 생성하고 연결하지 않은 상태로 둘 수도 있습니다. 반드시 EC2 인스턴스에 연결되어 있을 필요는 없으며, 필요에 따라 연결할 수 있어 매우 강력합니다.

### 종료 시 삭제 속성

EC2 인스턴스를 통해 EBS 볼륨을 생성할 때 **종료 시 삭제 (Delete on Termination)**라는 속성이 있습니다. 이는 시험에 나올 수 있으므로 주의해야 합니다.

EC2 인스턴스를 생성할 때 콘솔에서 EBS 볼륨 설정을 보면 마지막에서 두 번째 열에 "종료 시 삭제"라는 항목이 있습니다. 기본적으로 루트 볼륨 (Root Volume)은 체크되어 있고, 새로운 EBS 볼륨은 체크되어 있지 않습니다.

이 속성은 EC2 인스턴스가 종료될 때 EBS 볼륨의 동작을 제어합니다.

- **루트 EBS 볼륨**: 기본적으로 인스턴스가 종료될 때 함께 삭제됩니다 (활성화됨).
- **추가 연결된 EBS 볼륨**: 기본적으로 인스턴스가 종료되어도 삭제되지 않습니다 (비활성화됨).

하지만 이 UI에서 보시다시피, 종료 시 삭제를 활성화 또는 비활성화할지 여부를 제어할 수 있습니다.

예를 들어, 인스턴스가 종료될 때 루트 볼륨을 보존하여 데이터를 저장하고 싶다면 루트 볼륨의 "종료 시 삭제"를 비활성화하면 됩니다. 이는 시험 시나리오로 나올 수 있습니다.
