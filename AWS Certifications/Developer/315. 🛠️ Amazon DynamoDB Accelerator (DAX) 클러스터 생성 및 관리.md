
Amazon DynamoDB Accelerator(DAX)는 DynamoDB의 읽기 성능을 획기적으로 향상시키는 인메모리 캐시 서비스입니다. DAX는 무료 티어에 포함되지 않으므로, 사용 시 비용이 발생하지만 그만큼 높은 가치를 제공합니다. 이 아티클에서는 DynamoDB 콘솔을 통해 DAX 클러스터를 생성하고, 다양한 설정 옵션들을 살펴보겠습니다.

---

## 🏗️ DAX 클러스터 생성 단계

DAX 클러스터를 생성하는 과정은 여러 단계로 이루어져 있으며, 각 단계별로 서비스의 성능, 가용성, 비용을 결정하는 중요한 설정들이 포함됩니다.

### **1. 클러스터 구성**

- **클러스터 이름**: 클러스터의 고유한 이름을 지정합니다(예: `DemoDAX`).
    
- **노드 패밀리 및 유형**: DAX 클러스터를 구성할 노드의 유형을 선택합니다.
    
    - **T 타입**: `t`로 시작하는 노드는 버스트(bursting) 가능한 성능을 제공하며, 낮은 처리량에 적합합니다.
        
    - **R 타입**: `r`로 시작하는 노드는 메모리에 최적화되어 있으며, 지속적으로 높은 성능이 필요한 경우에 적합합니다.
        
- **클러스터 크기**: 클러스터에 포함될 노드의 개수를 지정합니다.
    
    - **1~2개**: 단일 AZ 구성으로, 가용성이 낮습니다. 개발/테스트 환경에 적합합니다.
        
    - **3개 이상**: 다중 AZ에 노드를 분산시켜 높은 가용성을 확보할 수 있습니다. 프로덕션 환경에서 권장됩니다.
        

### **2. 네트워크 설정**

- **VPC 및 서브넷 그룹**: DAX 클러스터는 특정 **VPC(Virtual Private Cloud)** 내의 **서브넷 그룹**에 속해야 합니다. 다중 AZ에 분산된 서브넷 그룹을 사용하면 클러스터의 가용성을 높일 수 있습니다.
    
- **보안 그룹**: DAX 클러스터에 대한 접근을 제어하는 보안 그룹을 설정합니다. DAX가 사용하는 포트(일반적으로 **8111** 또는 암호화 시 **9111**)를 인바운드 규칙에 허용해야 합니다.
    

### **3. IAM 권한 설정**

DAX 클러스터가 DynamoDB 테이블에 접근하여 데이터를 읽을 수 있도록 **IAM(Identity and Access Management) 서비스 역할**을 부여해야 합니다.

- DAX 클러스터가 DynamoDB 테이블을 읽고 쓰는 데 필요한 권한이 포함된 IAM 역할을 생성합니다. 모든 테이블에 대한 권한을 부여하거나, 특정 테이블로 권한을 제한할 수 있습니다.
    

### **4. 암호화 및 파라미터 그룹**

- **암호화**: DAX 클러스터의 데이터를 **저장 중(at rest)** 및 **전송 중(in transit)**에 암호화할 수 있습니다. 보안을 위해 이 기능을 활성화하는 것이 좋습니다.
    
- **파라미터 그룹**: 캐싱 동작을 제어하는 파라미터 그룹을 설정합니다.
    
    - **TTL(Time-to-Live)**: 캐시된 항목과 쿼리 결과가 만료되는 시간을 설정합니다. 기본값은 5분입니다. TTL을 통해 캐시의 신선도를 조절할 수 있습니다.
        

### **5. 유지 보수 및 태그**

- **유지 보수 기간**: AWS가 DAX 클러스터의 패치 및 업그레이드를 수행하는 시간대를 지정합니다.
    
- **태그**: 클러스터에 태그를 추가하여 비용 관리, 리소스 분류 등에 활용할 수 있습니다.
    

---

## 📊 DAX 클러스터 모니터링 및 관리

DAX 클러스터가 생성된 후에는 콘솔에서 다양한 정보를 확인하고 관리할 수 있습니다.

### **1. 클러스터 엔드포인트**

- DAX 클러스터의 **엔드포인트**를 제공합니다. 애플리케이션은 이 엔드포인트를 사용하여 DAX에 연결하고 캐시 기능을 활용할 수 있습니다.
    

### **2. 노드 관리**

- 생성된 노드의 유형, vCPU, 메모리 등을 확인할 수 있습니다.
    
- 클러스터 크기는 동적으로 확장할 수 있지만, 노드 유형은 변경할 수 없습니다. 노드 유형을 변경하려면 새로운 DAX 클러스터를 생성해야 합니다.
    

### **3. 모니터링**

- **캐시 적중(Cache Hit)** 및 **캐시 미스(Cache Miss)** 지표를 포함한 다양한 **CloudWatch 지표**를 제공합니다. 이를 통해 DAX가 얼마나 효과적으로 작동하는지 모니터링할 수 있습니다.
    
- CPU 사용률, 메모리 사용량 등 클러스터의 리소스 사용량도 확인할 수 있습니다.
    

### **⚠️ 비용 관리**

DAX는 사용량에 따라 비용이 청구되므로, 불필요한 비용이 발생하지 않도록 사용하지 않는 클러스터는 삭제하는 것이 중요합니다. 클러스터를 삭제하면 CloudWatch 알람 등 관련 리소스도 함께 삭제됩니다.