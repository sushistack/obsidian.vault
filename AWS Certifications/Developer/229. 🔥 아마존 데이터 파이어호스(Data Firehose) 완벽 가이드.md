
## 🚚 아마존 데이터 파이어호스 개요

**아마존 데이터 파이어호스(Amazon Data Firehose)**는 스트리밍 데이터를 AWS 서비스 및 서드파티 대상으로 손쉽게 로드할 수 있도록 도와주는 완전 관리형 서비스입니다.

데이터 파이프라인 구축을 위한 코드를 직접 작성하고 관리할 필요 없이, 소스에서 들어오는 데이터를 자동으로 버퍼링하고, 변환하고, 압축하여 지정된 목적지로 전달합니다. 파이어호스는 **'거의 실시간(Near Real-Time)'**으로 작동하며, 이는 시험에서 파이어호스를 식별하는 중요한 단서가 될 수 있습니다.

### 핵심 역할

- **자동 스케일링:** 들어오는 데이터의 양에 따라 자동으로 확장되므로, 용량 관리에 신경 쓸 필요가 없습니다.

- **서버리스:** 서버를 프로비저닝하거나 관리할 필요 없이 사용한 만큼만 비용을 지불합니다.

- **다양한 소스:** 애플리케이션 SDK, 키네시스 에이전트 외에도 키네시스 데이터 스트림, 클라우드워치 로그, AWS IoT 등 다양한 AWS 서비스로부터 데이터를 수집할 수 있습니다.

- **다양한 목적지:** 아마존 S3, 아마존 레드쉬프트, 아마존 오픈서치 서비스 외에도 스플렁크(Splunk), 데이터독(Datadog) 등 서드파티 서비스와 커스텀 HTTP 엔드포인트도 지원합니다.


---

## 💡 주요 특징 및 기능

### 1. 데이터 버퍼링 및 전달

파이어호스는 실시간으로 들어오는 데이터를 일정 시간 또는 크기만큼 **버퍼(Buffer)**에 축적한 후, 이를 **배치(batch)** 형태로 목적지에 전달합니다. 이 버퍼링 과정 때문에 **'거의 실시간(Near Real-time)'**이라는 용어가 사용됩니다. 버퍼링은 API 호출 횟수를 줄여 비용을 절감하고, 목적지의 효율성을 높이는 데 도움이 됩니다.

### 2. 데이터 변환 및 포맷 변경

- **AWS Lambda를 통한 변환:** 선택적으로 AWS Lambda 함수를 사용하여 데이터를 변환할 수 있습니다. 예를 들어, 들어오는 데이터를 CSV에서 JSON 형식으로 변경하여 S3에 저장할 수 있습니다.

- **포맷 변환:** 데이터를 **Parquet** 또는 **ORC**와 같은 열 기반(columnar) 스토리지 포맷으로 자동 변환할 수 있습니다. 이는 데이터 분석 성능을 크게 향상시킵니다.

- **압축:** **Gzip** 또는 **Snappy** 같은 압축 형식을 지원하여 스토리지 비용을 절감할 수 있습니다.

### 3. 백업 및 실패 처리

- 파이어호스는 전달 실패 메시지를 포함하여 모든 데이터를 **S3 버킷에 백업**하도록 설정할 수 있습니다. 이는 데이터 유실을 방지하고 실패 원인을 분석하는 데 유용합니다.
    

---

## 🆚 키네시스 데이터 스트림과의 비교

파이어호스는 키네시스 데이터 스트림과 함께 실시간 데이터 처리 파이프라인을 구성하는 핵심 서비스이지만, 용도와 특징에 차이가 있습니다.

|특징|키네시스 데이터 스트림 (Kinesis Data Streams)|아마존 데이터 파이어호스 (Amazon Data Firehose)|
|---|---|---|
|**처리 속도**|**실시간** (Real-time)|**거의 실시간** (Near Real-time)|
|**용량 관리**|샤드(Shard)를 수동으로 프로비저닝하거나 온디맨드 모드 사용|완전 관리형, 자동 스케일링|
|**데이터 보존**|최대 365일까지 데이터 저장 및 재처리 가능|데이터 저장 기능 없음 (목적지로 직접 전달)|
|**개발**|프로듀서 및 컨슈머 코드 작성이 필요|관리형 서비스이므로 코드 작성이 거의 필요 없음|
|**주요 용도**|복잡한 실시간 분석, 여러 애플리케이션에 데이터 제공|데이터를 S3, Redshift 등으로 로드하는 단순한 파이프라인|

**결론적으로,** 낮은 지연 시간으로 복잡한 실시간 분석 및 여러 컨슈머에 대한 데이터 재처리가 필요한 경우에는 **키네시스 데이터 스트림**을, 단순하게 대량의 스트리밍 데이터를 데이터 웨어하우스나 데이터 레이크에 로드하려는 경우에는 **아마존 데이터 파이어호스**를 사용하는 것이 효율적입니다.