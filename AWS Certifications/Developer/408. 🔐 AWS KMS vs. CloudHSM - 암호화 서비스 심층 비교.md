
AWS는 다양한 암호화 요구사항을 충족시키기 위해 **KMS(Key Management Service)**와 **CloudHSM**이라는 두 가지 주요 서비스를 제공합니다. 이 두 서비스는 모두 데이터를 보호하는 데 사용되지만, 관리 주체, 비용, 보안 제어 수준에서 큰 차이가 있습니다. 이 가이드에서는 두 서비스의 특징을 자세히 비교하고, 각 서비스가 어떤 상황에 적합한지 설명합니다.

---

## 1. 🔑 AWS KMS (Key Management Service)

KMS는 AWS가 암호화 키 관리의 대부분을 처리하는 **관리형 서비스**입니다.

- **관리 주체**: AWS가 키 생성, 보관, 사용, 폐기 등 모든 키 라이프사이클을 관리합니다. 사용자는 키 사용 권한만 제어합니다.
    
- **보안성**: KMS는 FIPS 140-2 Level 2 보안 표준을 준수합니다. 키는 AWS가 관리하는 하드웨어에 저장되지만, 고객이 직접 접근할 수는 없습니다.
    
- **비용**: 키를 생성하고 보관하는 비용(월 $1)이 발생하지만, 무료 티어(Free Tier)가 일부 제공됩니다.
    
- **통합성**: S3, EBS, RDS 등 수많은 AWS 서비스와 긴밀하게 통합되어 있어, `SSE-KMS`를 통해 간편하게 암호화를 적용할 수 있습니다.
    
- **권한 관리**: **IAM 정책**을 통해 키에 대한 모든 접근 권한을 관리합니다.

---

## 2. 🔒 AWS CloudHSM

CloudHSM은 AWS 클라우드 내에서 자체 암호화 키를 완벽하게 제어할 수 있는 **전용 하드웨어 보안 모듈(HSM)** 서비스입니다.

- **관리 주체**: AWS는 물리적인 하드웨어만 관리합니다. **키 생성, 사용, 폐기 등은 전적으로 고객이 관리**합니다. AWS 직원을 포함해 그 누구도 고객의 HSM 장치에 접근할 수 없습니다.
    
- **보안성**: FIPS 140-2 Level 3 표준을 준수하는 물리적 위변조 방지(Tamper-Resistant) 장치입니다.
    
- **비용**: 무료 티어(Free Tier)가 없으며, 전용 하드웨어 장치에 대한 시간당 비용이 발생하여 KMS보다 훨씬 비쌉니다.
    
- **사용법**: 전용 클라이언트 소프트웨어를 사용해야 하며, 직접 키와 사용자를 관리해야 하므로 설정이 복잡합니다.
    
- **권한 관리**: IAM은 HSM 클러스터 자체의 생성, 수정, 삭제 같은 **상위 수준 관리**에만 사용됩니다. HSM 내부의 키와 사용자 권한은 **별도의 CloudHSM 클라이언트 소프트웨어**를 통해 관리됩니다.


---

## 3. ⚖️ KMS vs. CloudHSM 비교 표

|특징|KMS (Key Management Service)|CloudHSM (Hardware Security Module)|
|---|---|---|
|**관리 모델**|**AWS 관리형 서비스**|**고객 관리형 키**|
|**테넌시**|멀티 테넌트 (Multi-Tenant)|**싱글 테넌트 (Single-Tenant)**|
|**보안 인증**|FIPS 140-2 Level 2|**FIPS 140-2 Level 3**|
|**키 관리 주체**|AWS가 키 관리|**고객이 키 관리**|
|**지원 키 종류**|AWS 소유, AWS 관리, 고객 관리|**고객 관리형만 가능**|
|**접근 제어**|**IAM 정책**으로 통합 관리|IAM(클러스터 관리), **자체 사용자 관리 시스템(키 관리)**|
|**주요 사용 사례**|대부분의 AWS 서비스 암호화|매우 높은 보안 및 규제 준수가 필요한 경우|
|**비용**|키당 월 $1 (무료 티어 존재)|시간당 비용 부과 (무료 티어 없음)|
|**HA(고가용성)**|AWS가 서비스 가용성 보장|여러 가용 영역(AZ)에 HSM 장치를 배포하여 구성|
|**통합**|AWS 서비스와 긴밀한 통합|Redshift, KMS 등 일부 서비스와 통합|

### 💡 KMS Custom Key Store (KMS 커스텀 키 스토어)

CloudHSM은 **KMS Custom Key Store** 기능을 통해 KMS와 통합될 수 있습니다. 이 기능을 사용하면 KMS는 암호화 작업 시, KMS 내에 보관된 키가 아닌 **연결된 CloudHSM 클러스터의 키를 사용**하게 됩니다. 이 방식은 사용자가 키를 직접 제어하면서도 S3, EBS, RDS 등 AWS 서비스의 **편리한 KMS 통합**을 그대로 활용할 수 있게 해줍니다.

---

## 📌 결론: 어떤 서비스를 선택해야 하는가?

- **KMS**: **대부분의 사용 사례**에 적합합니다. 편리하고 비용 효율적이며, 높은 수준의 보안을 제공합니다. 대부분의 기업과 서비스는 KMS만으로도 충분한 보안 요구사항을 충족할 수 있습니다.
    
- **CloudHSM**: 금융, 의료 등 **최고 수준의 보안 규제 준수**가 필요하거나, 암호화 키에 대한 **완전한 통제권**을 확보해야 하는 경우에 선택합니다. 자체 SSL/TLS 가속화나 데이터베이스 암호화 같은 특수한 요구사항에도 적합합니다.
    

두 서비스의 가장 큰 차이점은 **키의 소유권과 관리 주체**입니다. KMS에서는 키 관리를 AWS에 위임하지만, CloudHSM에서는 고객이 직접 관리합니다.