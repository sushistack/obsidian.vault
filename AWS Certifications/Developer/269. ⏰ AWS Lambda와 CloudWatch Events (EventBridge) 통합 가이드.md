이번 아티클에서는 **AWS Lambda 함수와 CloudWatch Events(이제 EventBridge)를 통합하는 방법**에 대해 알아보겠습니다. 이 통합은 특정 시간 간격으로 함수를 실행하거나, 다른 AWS 서비스의 상태 변화에 반응하여 함수를 트리거할 때 매우 유용합니다.

![[Pasted image 20250826214728.png]]

### 1. ⏱️ 주기적 이벤트 (Scheduled Events)

가장 일반적인 사용 사례는 Lambda 함수를 주기적으로 실행하는 것입니다. 이는 일종의 **서버리스 CRON 작업**이라고 할 수 있습니다. EventBridge 규칙을 사용하면 정해진 시간 또는 간격으로 Lambda 함수를 자동으로 호출할 수 있습니다.

#### 설정 방법

1. **EventBridge 콘솔**로 이동하여 '규칙 생성(Create rule)'을 클릭합니다.
    
2. 규칙 이름을 지정합니다 (예: `daily-backup-rule`).
    
3. **규칙 유형**에서 **'일정(Schedule)'**을 선택합니다.
    
4. **일정 패턴**을 설정합니다.
    
    - **고정 비율(Fixed rate)**: 예를 들어, `1시간마다(1 hour)`와 같이 특정 간격으로 실행합니다.
        
    - **Cron 표현식(Cron expression)**: `cron(0 12 * * ? *)`와 같이 더욱 세밀한 시간으로 설정할 수 있습니다. 이 예시는 매일 정오(UTC 기준)에 실행하는 것을 의미합니다.
        
5. **대상(Targets)**으로 `Lambda 함수`를 선택하고, 실행할 Lambda 함수를 지정합니다.
    
6. 규칙을 생성하면, 지정된 시간마다 Lambda 함수가 자동으로 호출됩니다.
    

---

### 2. 📢 이벤트 기반 트리거 (Event-Based Triggers)

두 번째 방법은 다른 AWS 서비스에서 발생하는 특정 이벤트에 반응하여 Lambda 함수를 실행하는 것입니다. 예를 들어, CodePipeline의 상태가 변경될 때마다 Lambda 함수를 호출하여 알림을 보내는 시나리오에 적용할 수 있습니다.

#### 설정 방법

1. **EventBridge 콘솔**로 이동하여 '규칙 생성(Create rule)'을 클릭합니다.
    
2. 규칙 이름을 지정합니다 (예: `codepipeline-state-change`).
    
3. **규칙 유형**에서 **'AWS 이벤트 또는 EventBridge 파트너 이벤트(AWS event or EventBridge partner events)'**를 선택합니다.
    
4. **이벤트 패턴(Event pattern)**을 정의합니다.
    
    - **서비스 공급자**: `AWS`를 선택합니다.
        
    - **서비스 이름**: `CodePipeline`을 선택합니다.
        
    - **이벤트 유형**: `CodePipeline Pipeline Execution State Change`와 같이 원하는 이벤트 유형을 선택합니다.
        
5. **대상(Targets)**으로 `Lambda 함수`를 선택하고, 실행할 Lambda 함수를 지정합니다.
    

규칙이 생성되면, 지정한 이벤트(예: CodePipeline의 상태 변경)가 발생할 때마다 Lambda 함수가 트리거되어 정의된 작업을 수행합니다.

이러한 통합 방식은 AWS 인프라의 자동화 및 이벤트 기반 아키텍처를 구축하는 데 필수적입니다.