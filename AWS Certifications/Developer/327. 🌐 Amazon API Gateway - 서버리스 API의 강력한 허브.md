
**Amazon API Gateway**λ” κ°λ°μκ°€ RESTful API, WebSocket APIλ¥Ό μ†μ‰½κ² μƒμ„±, κ²μ‹, μ μ§€ κ΄€λ¦¬, λ¨λ‹ν„°λ§ λ° λ³΄μ• μ„¤μ •ν•  μ μλ„λ΅ λ•λ” μ™„μ „ κ΄€λ¦¬ν• μ„λ²„λ¦¬μ¤ μ„λΉ„μ¤μ…λ‹λ‹¤. API Gatewayλ” ν΄λΌμ΄μ–ΈνΈ μ”μ²­μ„ λ°±μ—”λ“ μ„λΉ„μ¤(μ: Lambda ν•¨μ, EC2 μΈμ¤ν„΄μ¤, λ‹¤λ¥Έ AWS μ„λΉ„μ¤ λ“±)λ΅ μ—°κ²°ν•λ” ν”„λ΅μ‹ μ—­ν• μ„ ν•λ©°, λ‹¨μν• HTTP μ—”λ“ν¬μΈνΈ μ΄μƒμ λ‹¤μ–‘ν• κΈ°λ¥μ„ μ κ³µν•μ—¬ ν„λ€μ μΈ μ• ν”λ¦¬μΌ€μ΄μ… μ•„ν‚¤ν…μ²μ—μ„ ν•„μμ μΈ κµ¬μ„± μ”μ†λ΅ μλ¦¬ μ΅κ³  μμµλ‹λ‹¤.

---

## π€ API Gatewayμ μ£Όμ” κΈ°λ¥

API Gatewayλ” λ‹¨μν• API ν”„λ΅μ‹λ¥Ό λ„μ–΄, λ‹¤μκ³Ό κ°™μ€ ν’λ¶€ν• κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤.

- **λ‹¤μ–‘ν• λ°±μ—”λ“ ν†µν•©**:
    
    - **Lambda ν•¨μ**: κ°€μ¥ μΌλ°μ μΈ μ΅°ν•©μΌλ΅, μ™„μ „ν• μ„λ²„λ¦¬μ¤ APIλ¥Ό κµ¬μ¶•ν•  μ μμµλ‹λ‹¤.
        
    - **HTTP/S μ—”λ“ν¬μΈνΈ**: μ¨ν”„λ λ―Έμ¤ μ„λ²„λ‚ λ‹¤λ¥Έ ν΄λΌμ°λ“μ— μλ” κΈ°μ΅΄ HTTP APIλ¥Ό API Gateway λ’¤μ— λ°°μΉν•μ—¬ λ³΄μ• λ° κ΄€λ¦¬ κΈ°λ¥μ„ μ¶”κ°€ν•  μ μμµλ‹λ‹¤.
        
    - **AWS μ„λΉ„μ¤**: Amazon Kinesis, SQS, Step Functions λ“± λ‹¤μ–‘ν• AWS μ„λΉ„μ¤ APIλ¥Ό μ™Έλ¶€λ΅ λ…Έμ¶ν•  μ μμµλ‹λ‹¤. μλ¥Ό λ“¤μ–΄, ν΄λΌμ΄μ–ΈνΈκ°€ HTTP μ”μ²­μ„ λ³΄λ‚΄λ©΄ API Gatewayκ°€ μ΄λ¥Ό Kinesis Data Streamsμ— μ•μ „ν•κ² λ°μ΄ν„°λ¥Ό λ³΄λ‚΄λ” μ‘μ—…μΌλ΅ λ³€ν™ν•  μ μμµλ‹λ‹¤.
        
- **λ³΄μ• λ° μ μ–΄**:
    
    - **μΈμ¦ λ° κ¶ν• λ¶€μ—¬**: IAM μ—­ν• , Amazon Cognito, λλ” μ»¤μ¤ν…€ Lambda Authorizerλ¥Ό μ‚¬μ©ν•μ—¬ μ‚¬μ©μ μΈμ¦ λ° κ¶ν•μ„ κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.
        
    - **API ν‚¤ λ° μ‚¬μ© κ³„ν(Usage Plans)**: νΉμ • ν΄λΌμ΄μ–ΈνΈμ— API ν‚¤λ¥Ό λ°κΈ‰ν•κ³ , μ”μ²­ νμ μ ν•(Throttling)μ„ μ„¤μ •ν•μ—¬ API μ‚¬μ©λ‰μ„ μ μ–΄ν•  μ μμµλ‹λ‹¤.
        
    - **μ”μ²­/μ‘λ‹µ λ³€ν™**: λ°±μ—”λ“λ΅ μ”μ²­μ„ λ³΄λ‚΄κΈ° μ „, λλ” λ°±μ—”λ“μ—μ„ μ‘λ‹µμ„ λ°›μ€ ν›„ λ°μ΄ν„°λ¥Ό κ²€μ¦ν•κ±°λ‚ ν•μ‹μ„ λ³€ν™ν•  μ μμµλ‹λ‹¤.
        
- **API κ΄€λ¦¬**:
    
    - **λ²„μ „ κ΄€λ¦¬**: μ—¬λ¬ API λ²„μ „μ„ κ΄€λ¦¬ν•μ—¬ ν΄λΌμ΄μ–ΈνΈ νΈν™μ„±μ„ μ μ§€ν•  μ μμµλ‹λ‹¤.
        
    - **λ‹¤μ¤‘ ν™κ²½**: `dev`, `test`, `prod`μ™€ κ°™μ€ λ‹¤μ–‘ν• ν™κ²½μ„ λ¶„λ¦¬ν•μ—¬ κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.
        
    - **λ¨λ‹ν„°λ§**: CloudWatchμ™€ ν†µν•©λμ–΄ API νΈμ¶ νμ, μ§€μ—° μ‹κ°„, μ¤λ¥μ¨ λ“±μ„ μƒμ„Έν λ¨λ‹ν„°λ§ν•  μ μμµλ‹λ‹¤.
        
    - **μΊμ‹±**: API μ‘λ‹µμ„ μΊμ‹±ν•μ—¬ λ°±μ—”λ“ μ„λΉ„μ¤μ— λ€ν• λ¶€ν•λ¥Ό μ¤„μ΄κ³  μ‘λ‹µ μ‹κ°„μ„ λ‹¨μ¶•ν•  μ μμµλ‹λ‹¤.
        
- **κΈ°νƒ€**:
    
    - **WebSocket ν”„λ΅ν† μ½ μ§€μ›**: μ‹¤μ‹κ°„ μ–‘λ°©ν–¥ ν†µμ‹ μ„ μ§€μ›ν•λ” APIλ¥Ό κµ¬μ¶•ν•  μ μμµλ‹λ‹¤.
        
    - **OpenAPI/Swagger νΈν™**: OpenAPI(μ΄μ „μ Swagger) μ‚¬μ–‘μ„ μ‚¬μ©ν•μ—¬ APIλ¥Ό μ •μν•κ³  κ°€μ Έμ¤κ±°λ‚ λ‚΄λ³΄λ‚Ό μ μμµλ‹λ‹¤.

---

## π μ—”λ“ν¬μΈνΈ μ ν• (Endpoint Types)

API Gatewayλ” μ„Έ κ°€μ§€ μ£Όμ” μ—”λ“ν¬μΈνΈ μ ν•μ„ μ κ³µν•λ©°, μ΄λ” APIμ— μ ‘κ·Όν•λ” λ°©μ‹κ³Ό μ„±λ¥μ— μν–¥μ„ λ―ΈμΉ©λ‹λ‹¤.

### **1. μ—£μ§€ μµμ ν™”(Edge-Optimized)**

- **νΉμ§•**: API μ”μ²­μ΄ μ „ μ„Έκ³„μ **Amazon CloudFront μ—£μ§€ λ΅μΌ€μ΄μ…**μ„ ν†µν•΄ λΌμ°ν…λ©λ‹λ‹¤. μ΄λ” μ „ μ„Έκ³„μ— νΌμ Έμλ” μ‚¬μ©μμ—κ² **λ‚®μ€ μ§€μ—° μ‹κ°„**μ„ μ κ³µν•©λ‹λ‹¤.
    
- **μ©λ„**: μ „ μ„Έκ³„μ— μ‚¬μ©μκ°€ λ¶„ν¬ν•λ” **κΈ€λ΅λ² API**μ— μ ν•©ν•©λ‹λ‹¤. μ΄ μ ν•μ΄ κΈ°λ³Έκ°’μ…λ‹λ‹¤.
    

### **2. λ¦¬μ „(Regional)**

- **νΉμ§•**: APIκ°€ λ°°ν¬λ AWS λ¦¬μ „ λ‚΄μ—μ„λ§ μ ‘κ·Όλλ©°, CloudFrontλ¥Ό μ‚¬μ©ν•μ§€ μ•μµλ‹λ‹¤. λ¨λ“  μ”μ²­μ€ ν•΄λ‹Ή λ¦¬μ „μΌλ΅ μ§μ ‘ λΌμ°ν…λ©λ‹λ‹¤.
    
- **μ©λ„**: API μ‚¬μ©μκ°€ APIμ™€ **κ°™μ€ λ¦¬μ „μ— μ„μΉ**ν•κ±°λ‚, μ§€λ¦¬μ μΌλ΅ ν•μ •λ κ²½μ°μ— μ ν•©ν•©λ‹λ‹¤.
    

### **3. ν”„λΌμ΄λΉ—(Private)**

- **νΉμ§•**: **VPC λ‚΄λ¶€**μ—μ„λ§ μ ‘κ·Όν•  μ μλ” APIμ…λ‹λ‹¤. νΌλΈ”λ¦­ μΈν„°λ„·μΌλ΅λ” μ ‘κ·Όν•  μ μ—†μΌλ©°, VPC μ—”λ“ν¬μΈνΈ(`Interface VPC Endpoints`)λ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.
    
- **μ©λ„**: μ™Έλ¶€ λ…Έμ¶μ΄ ν•„μ” μ—†λ” **λ‚΄λ¶€ μ• ν”λ¦¬μΌ€μ΄μ…** μ „μ© APIμ— μ‚¬μ©λ©λ‹λ‹¤. μ ‘κ·Ό μ μ–΄λ” λ¦¬μ†μ¤ μ •μ±…(Resource Policy)μ„ ν†µν•΄ μ •μν•  μ μμµλ‹λ‹¤.
    

|μ—”λ“ν¬μΈνΈ μ ν•|ν΄λΌμ΄μ–ΈνΈ μ ‘κ·Ό κ²½λ΅|μ£Όμ” μ‚¬μ© μ‹λ‚λ¦¬μ¤|
|---|---|---|
|**μ—£μ§€ μµμ ν™”**|CloudFront μ—£μ§€ λ΅μΌ€μ΄μ…|μ „ μ„Έκ³„ μ‚¬μ©μλ¥Ό μ„ν• κΈ€λ΅λ² API|
|**λ¦¬μ „**|APIκ°€ λ°°ν¬λ AWS λ¦¬μ „|λ‹¨μΌ λ¦¬μ „ λ‚΄ μ‚¬μ©μλ¥Ό μ„ν• API|
|**ν”„λΌμ΄λΉ—**|VPC μ—”λ“ν¬μΈνΈ(ENI)|λ‚΄λ¶€ λ„¤νΈμ›ν¬ μ „μ© μ• ν”λ¦¬μΌ€μ΄μ…|

---

## π›΅οΈ API Gatewayμ λ³΄μ•

API Gatewayλ” λ‹¤μ–‘ν• λ³΄μ• λ©”μ»¤λ‹μ¦μ„ ν†µν•΄ APIλ¥Ό λ³΄νΈν•©λ‹λ‹¤.

### **1. μΈμ¦ λ°©μ‹**

- **IAM μ—­ν• **: λ‚΄λ¶€ μ• ν”λ¦¬μΌ€μ΄μ…(μ: EC2 μΈμ¤ν„΄μ¤)μ΄ APIλ¥Ό νΈμ¶ν•  λ• IAM μ—­ν• μ„ μ‚¬μ©ν•μ—¬ κ¶ν•μ„ λ¶€μ—¬ν•©λ‹λ‹¤.
    
- **Cognito User Pools**: μ›Ή λ° λ¨λ°”μΌ μ• ν”λ¦¬μΌ€μ΄μ… μ‚¬μ©μλ¥Ό μ„ν• μΈμ¦ λ° κ¶ν• λ¶€μ—¬λ¥Ό κ΄€λ¦¬ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.
    
- **μ»¤μ¤ν…€ Lambda Authorizer**: Lambda ν•¨μλ¥Ό μ‘μ„±ν•μ—¬ μ‚¬μ©μ μ§€μ • μΈμ¦ λ΅μ§μ„ κµ¬ν„ν•  μ μμµλ‹λ‹¤. μ΄λ” JWT(JSON Web Token) κ²€μ¦ λ“± λ³µμ΅ν• μΈμ¦ μ μ°¨μ— μ μ©ν•©λ‹λ‹¤.
    

### **2. μ»¤μ¤ν…€ λ„λ©”μΈ λ° SSL**

- **ACM(AWS Certificate Manager)**: API Gatewayμ— SSL/TLS μΈμ¦μ„λ¥Ό μ—°κ²°ν•μ—¬ μ‚¬μ©μ μ§€μ • λ„λ©”μΈ(`api.example.com`)μ„ ν†µν•΄ HTTPSλ΅ μ ‘κ·Όν•  μ μκ² ν•©λ‹λ‹¤.
    
    - **μ—£μ§€ μµμ ν™” μ—”λ“ν¬μΈνΈ**: μΈμ¦μ„λ” `us-east-1` λ¦¬μ „μ— μμ–΄μ•Ό ν•©λ‹λ‹¤.
        
    - **λ¦¬μ „ μ—”λ“ν¬μΈνΈ**: μΈμ¦μ„λ” API Gatewayμ™€ λ™μΌν• λ¦¬μ „μ— μμ–΄μ•Ό ν•©λ‹λ‹¤.
        
- **Route 53**: μ»¤μ¤ν…€ λ„λ©”μΈ μ΄λ¦„μ„ API Gateway μ—”λ“ν¬μΈνΈλ΅ μ—°κ²°ν•κΈ° μ„ν•΄ Route 53μ— CNAME λλ” A-Alias λ μ½”λ“λ¥Ό μ„¤μ •ν•΄μ•Ό ν•©λ‹λ‹¤.
    

API Gatewayλ” λ‹¨μν• μ„λ²„λ¦¬μ¤ ν”„λ΅μ‹λ¥Ό λ„μ–΄, κ°λ°μκ°€ μ•μ „ν•κ³  ν™•μ¥ κ°€λ¥ν• APIλ¥Ό κµ¬μ¶•ν•λ” λ° ν•„μ”ν• λ¨λ“  λ„κµ¬μ™€ κΈ°λ¥μ„ μ κ³µν•λ” κ°•λ ¥ν• μ„λΉ„μ¤μ…λ‹λ‹¤.