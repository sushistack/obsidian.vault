
S3 접근 로그는 버킷에 대한 모든 접근 요청을 기록하는 기능입니다. 이를 통해 누가, 언제, 어떻게 S3 버킷의 객체에 접근했는지 감사(audit)하고 분석할 수 있습니다.

---

### 1. 접근 로그의 작동 방식

- **기록 대상:** S3 버킷에 대한 모든 요청(성공, 실패, 허용, 거부 등)이 기록됩니다.
- **저장 위치:** 로그 파일은 분석 대상 버킷과 **동일한 AWS 리전**에 있는 **별도의 S3 버킷**에 저장됩니다.
- **분석:** 저장된 로그 파일은 Amazon Athena와 같은 데이터 분석 도구를 사용하여 쉽게 분석할 수 있습니다. 로그의 형식은 정해져 있으며, AWS 공식 문서를 통해 확인할 수 있습니다.

### 2. 중요한 경고: 로그 루프(Logging Loop) 방지 ⚠️

절대 **로그를 기록하는 버킷과 로그가 저장될 버킷을 동일하게 설정하지 마세요.**

- **원인:** 버킷에 객체(로그 파일)가 추가될 때마다, 이 행위 또한 새로운 접근 요청으로 간주되어 다시 로그로 기록됩니다.
- **결과:** 무한한 **로그 루프**가 발생하여 버킷의 크기가 기하급수적으로 증가하고, 엄청난 비용이 발생할 수 있습니다.

> **예시:**
> 
> 1. `버킷 A`에 파일 업로드 요청이 들어옵니다.
> 2. `버킷 A`의 접근 로그가 `버킷 A`에 파일로 기록됩니다.
> 3. `버킷 A`에 파일이 업로드되었으므로, 또 다른 로그가 생성되어 `버킷 A`에 기록됩니다.
> 4. 이 과정이 무한히 반복됩니다.


따라서 접근 로그를 설정할 때는 반드시 **별도의 버킷**을 대상 버킷으로 지정해야 합니다.