
**λ§¤ν•‘**μ€ CloudFormation ν…ν”λ¦Ώ λ‚΄μ— ν•λ“μ½”λ”©λ **κ³ μ •λ λ³€μ**λ¥Ό μ •μν•λ” κΈ°λ¥μ…λ‹λ‹¤. ν…ν”λ¦Ώ λ°°ν¬ μ‹ ν™κ²½(μ: κ°λ°, ν”„λ΅λ•μ…)μ΄λ‚ λ¦¬μ „(region)κ³Ό κ°™μ€ νΉμ • μ΅°κ±΄μ— λ”°λΌ λ‹¤λ¥Έ κ°’μ„ μ‚¬μ©ν•κ³ μ ν•  λ• μ μ©ν•©λ‹λ‹¤. λ§¤ν•‘μ— μ •μλ λ¨λ“  κ°’μ€ ν…ν”λ¦Ώμ— λ―Έλ¦¬ λ…μ‹λμ–΄ μμΌλ©°, λ°νƒ€μ„μ— λ™μ μΌλ΅ λ³€κ²½λμ§€ μ•μµλ‹λ‹¤.

---

### π’» λ§¤ν•‘ κµ¬μ΅° λ° μμ‹

λ§¤ν•‘μ€ κ³„μΈµμ μΈ κµ¬μ΅°λ΅ μ΄λ£¨μ–΄μ Έ μμΌλ©°, μΌλ°μ μΌλ΅ λ‹¤μκ³Ό κ°™μ€ ν•μ‹μ„ κ°€μ§‘λ‹λ‹¤.



```YAML
Mappings:
  MapName:
    TopLevelKey:
      SecondLevelKey: Value
```

#### μμ‹: λ¦¬μ „λ³„ AMI ID λ§¤ν•‘

κ°€μ¥ ν”ν• λ§¤ν•‘ μ‚¬μ© μ‚¬λ΅€λ” λ¦¬μ „λ³„λ΅ λ‹¤λ¥Έ AMI IDλ¥Ό μ§€μ •ν•λ” κ²ƒμ…λ‹λ‹¤.

```YAML
Mappings:
  RegionMap:
    us-east-1:
      HVM64: ami-0c55b159cbfafe1f0
      HVMG2: ami-0a672322312683074
    us-west-1:
      HVM64: ami-0275c9d1a8c3e800d
      HVMG2: ami-02d294025d2c88289
```

μ΄ μμ‹μ—μ„ **`RegionMap`**μ€ λ§¤ν•‘μ μ΄λ¦„μ΄κ³ , **`us-east-1`** λ° **`us-west-1`**μ€ μµμƒμ„ ν‚¤(TopLevelKey)μ…λ‹λ‹¤. κ° λ¦¬μ „ μ•„λμ—λ” **`HVM64`**μ™€ **`HVMG2`**λΌλ” λ‘ λ²μ§Έ λ λ²¨ ν‚¤(SecondLevelKey)κ°€ μμΌλ©°, μ΄ ν‚¤μ— ν•΄λ‹Ήν•λ” AMI ID κ°’μ΄ μ •μλμ–΄ μμµλ‹λ‹¤.

---

### π” λ§¤ν•‘ κ°’ κ²€μƒ‰: `!FindInMap` ν•¨μ

ν…ν”λ¦Ώμ λ¦¬μ†μ¤μ—μ„ λ§¤ν•‘μ— μ •μλ κ°’μ„ κ°€μ Έμ¤κΈ° μ„ν•΄μ„λ” **`!FindInMap`** ν•¨μλ¥Ό μ‚¬μ©ν•©λ‹λ‹¤.



```YAML
Resources:
  MyInstance:
    Type: AWS::EC2::Instance
    Properties:
      ImageId: !FindInMap
        - RegionMap             # 1. λ§¤ν•‘ μ΄λ¦„ (MapName)
        - !Ref AWS::Region      # 2. μµμƒμ„ ν‚¤ (TopLevelKey)
        - HVM64                 # 3. λ‘ λ²μ§Έ λ λ²¨ ν‚¤ (SecondLevelKey)
```

μ΄ ν•¨μλ” μ„Έ κ°€μ§€ μΈμλ¥Ό ν•„μ”λ΅ ν•©λ‹λ‹¤.

1. **λ§¤ν•‘ μ΄λ¦„**: `RegionMap`
2. **μµμƒμ„ ν‚¤**: `!Ref AWS::Region`μ€ **κ°€μƒ νλΌλ―Έν„°**λ¥Ό μ‚¬μ©ν•μ—¬ μ¤νƒμ΄ λ°°ν¬λλ” λ¦¬μ „(μ: `us-east-1`)μ„ μλ™μΌλ΅ κ°€μ Έμµλ‹λ‹¤.
3. **λ‘ λ²μ§Έ λ λ²¨ ν‚¤**: `HVM64`λ” μ•„ν‚¤ν…μ² νƒ€μ…μ„ μ§€μ •ν•©λ‹λ‹¤.

κ²°κ³Όμ μΌλ΅ μ΄ μ½”λ“λ” `us-east-1` λ¦¬μ „μ—μ„ λ°°ν¬λ  κ²½μ° `ami-0c55b159cbfafe1f0` κ°’μ„ μ°Ύμ•„ `ImageId`λ΅ μ‚¬μ©ν•κ² λ©λ‹λ‹¤.

---

### π¤” λ§¤ν•‘ vs. νλΌλ―Έν„°

**λ§¤ν•‘**κ³Ό **νλΌλ―Έν„°**λ” λ¨λ‘ λ™μ μΈ κ°’μ„ ν…ν”λ¦Ώμ— μ κ³µν•λ” κΈ°λ¥μ΄μ§€λ§, μ‚¬μ© λ©μ μ— μ°¨μ΄κ°€ μμµλ‹λ‹¤.

|κµ¬λ¶„|λ§¤ν•‘ (Mappings)|νλΌλ―Έν„° (Parameters)|
|---|---|---|
|**λ©μ **|**κ³ μ •λ, λ―Έλ¦¬ κ²°μ •λ κ°’**μ„ ν…ν”λ¦Ώ λ‚΄μ— ν•λ“μ½”λ”©ν•κ³ , ν™κ²½/λ¦¬μ „ λ“± νΉμ • μ΅°κ±΄μ— λ”°λΌ μ„ νƒμ μΌλ΅ μ‚¬μ©ν•©λ‹λ‹¤.|**μ‚¬μ©μ μ…λ ¥**μ„ λ°›μ•„ λ°νƒ€μ„μ— κ°’μ„ κ²°μ •ν•©λ‹λ‹¤.|
|**μ μ–΄**|ν…ν”λ¦Ώ μ μ‘μκ°€ λ¨λ“  κ°€λ¥ν• κ°’μ„ λ―Έλ¦¬ μ •μν•λ―€λ΅ **μ•μ „ν•κ³  μ—„κ²©ν• μ μ–΄**κ°€ κ°€λ¥ν•©λ‹λ‹¤.|μ‚¬μ©μμ—κ² μ…λ ¥ κ°’μ„ μ„ νƒν•  **μμ **λ¥Ό μ κ³µν•©λ‹λ‹¤.|
|**μ‚¬μ© μ‹μ **|**λ¨λ“  κ°€λ¥ν• κ°’**μ„ μ‚¬μ „μ— μ•κ³  μμΌλ©°, λ³€μκ°€ (λ¦¬μ „, ν™κ²½ λ“±) λ…ν™•ν•κ² λ¶„λ¥λλ” κ²½μ°μ— μ ν•©ν•©λ‹λ‹¤.|κ°’μ΄ λ°°ν¬ μ‹μ μ— κ²°μ •λλ©°, μ‚¬μ©μ μλ„μ— λ”°λΌ λ‹¬λΌμ§€λ” κ²½μ°μ— μ ν•©ν•©λ‹λ‹¤.|