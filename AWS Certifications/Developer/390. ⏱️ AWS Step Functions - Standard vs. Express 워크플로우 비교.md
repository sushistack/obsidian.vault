
![[Pasted image 20250913165940.png]]

AWS Step Functions에는 두 가지 주요 워크플로우 유형이 있습니다: **Standard**와 **Express**. 이 둘은 실행 시간, 요금, 용량 및 사용 사례에 따라 명확히 구분됩니다. Express 워크플로우는 다시 **비동기(Asynchronous)**와 **동기(Synchronous)**로 나뉩니다.

---

## 1. 🚀 Standard 워크플로우

**Standard 워크플로우**는 Step Functions의 기본 유형으로, 장시간 실행되는 워크플로우에 적합합니다.

### 특징

- **최대 실행 시간**: 최대 1년까지 실행됩니다.
    
- **실행 모델**: **`Exactly-once`** 실행 모델을 보장하여, 각 단계가 정확히 한 번만 실행됩니다. 결제 처리와 같이 비멱등성(non-idempotent) 작업에 필수적입니다.
    
- **처리량**: 초당 최대 2,000건의 실행을 처리합니다.
    
- **가시성**: 최대 90일 동안 AWS 콘솔에서 실행 내역을 추적할 수 있으며, CloudWatch를 통해 영구적으로 로그를 보존할 수 있습니다.
    
- **요금**: 상태 전환(state transition) 횟수를 기준으로 과금됩니다.
    
- **주요 사용 사례**: 주문 처리, 데이터 처리 파이프라인, 장기 실행 비즈니스 프로세스 등.
    

---

## 2. ⚡️ Express 워크플로우

**Express 워크플로우**는 짧고 대량의 워크플로우를 처리하는 데 최적화되어 있습니다.

### 특징

- **최대 실행 시간**: 최대 5분까지 실행됩니다.
    
- **처리량**: 초당 100,000건 이상의 높은 실행 속도를 자랑합니다.
    
- **가시성**: AWS 콘솔에는 실행 내역이 기록되지 않으며, 모든 실행 정보는 **CloudWatch Logs**를 통해서만 확인할 수 있습니다.
    
- **요금**: 실행 횟수, 실행 시간, 메모리 사용량을 기준으로 과금됩니다.
    
- **주요 사용 사례**: IoT 데이터 수집, 스트리밍 데이터 처리, 모바일 앱 백엔드 등.
    

### Express 워크플로우의 두 가지 유형

Express 워크플로우는 응답 대기 방식에 따라 **비동기**와 **동기**로 나뉩니다.

#### 1) 비동기(Asynchronous) Express 워크플로우

- **실행 모델**: **`At-least-once`** 실행 모델을 보장합니다. 오류 발생 시 Step Functions가 자동으로 재시도할 수 있으므로, 동일한 작업이 두 번 이상 실행될 수 있습니다. 따라서 작업 자체에 **멱등성(Idempotence)**을 구현해야 합니다.
    
- **동작 방식**: 워크플로우가 시작되면 즉시 응답을 반환하고, 결과를 기다리지 않습니다. 결과 확인은 CloudWatch Logs를 통해 이루어집니다.
    
- **사용 사례**: 응답을 즉시 받을 필요가 없는 메시징 서비스, 대규모 데이터 수집 등.
    

#### 2) 동기(Synchronous) Express 워크플로우

- **실행 모델**: **`At-most-once`** 실행 모델을 보장합니다. 오류 발생 시 Step Functions는 자동으로 재시도하지 않으며, 클라이언트가 직접 재시도 로직을 구현해야 합니다.
    
- **동작 방식**: 워크플로우가 완료될 때까지 호출자가 결과를 기다립니다.
    
- **사용 사례**: 마이크로서비스 오케스트레이션, API Gateway를 통한 실시간 응답이 필요한 백엔드 등.
    

---

## 3. 📊 요약: Standard vs. Express

|구분|**Standard 워크플로우**|**Express 워크플로우**|
|---|---|---|
|**최대 실행 시간**|최대 1년|최대 5분|
|**처리량**|초당 수천 건|초당 10만 건 이상|
|**실행 모델**|`Exactly-once`|`At-least-once` (비동기)<br>`At-most-once` (동기)|
|**가시성**|AWS 콘솔 기록 (90일)|CloudWatch Logs만 가능|
|**요금**|상태 전환 횟수|실행 횟수, 시간, 메모리|
|**주요 용도**|장기 실행, 비멱등성 작업|단기, 고용량, 멱등성 작업|