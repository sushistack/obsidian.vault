## Amazon EventBridge란?

**Amazon EventBridge**는 AWS 서비스, SaaS 파트너 및 사용자 지정 애플리케이션의 이벤트를 기반으로 규칙을 정의하고, 이를 통해 다양한 대상을 트리거하는 서비스입니다. 이전에 **CloudWatch Events**로 알려졌으며, 이벤트 중심 아키텍처를 구축하는 핵심적인 역할을 합니다.

---

## ⚙️ 주요 기능: 규칙(Rules) 및 스케줄러(Scheduler)

### 1. 규칙(Rules)

규칙은 특정 **이벤트 패턴**에 따라 트리거되는 EventBridge의 핵심 기능입니다. AWS 계정 내에서 발생하는 이벤트(예: EC2 인스턴스 상태 변경, S3 객체 업로드 등)에 반응하도록 설정할 수 있습니다.

- **이벤트 소스(Event Source)**: AWS 서비스(예: EC2, Lambda), 파트너 서비스(예: Auth0), 또는 사용자 지정 소스를 선택할 수 있습니다.

- **이벤트 유형(Event Type)**: 각 서비스에서 발생하는 특정 이벤트(예: `EC2 Instance State-change Notification`)를 지정합니다.

- **이벤트 패턴(Event Pattern)**: 이벤트의 세부 속성(예: `state`가 `terminated` 또는 `shutting-down`인 경우)을 필터링하여 규칙을 더욱 정교하게 만듭니다.

- **대상(Target)**: 규칙이 트리거될 때 실행할 작업(예: SNS 토픽으로 알림 전송, Lambda 함수 호출)을 지정합니다.


**실습 예시**: EC2 인스턴스 상태가 `shutting-down` 또는 `terminated`로 변경될 때마다 SNS 알림을 보내는 규칙을 설정할 수 있습니다.

### 2. 스케줄러(Scheduler)

EventBridge 스케줄러는 특정 시간에 또는 반복적인 일정에 따라 작업을 실행하도록 설정하는 기능입니다. Cron 표현식을 사용해 유연하게 일정을 정의할 수 있습니다.

- **주기 설정**: `Rate` 표현식(예: `rate(1 hour)`) 또는 `Cron` 표현식(예: `cron(0 8 ? * MON-FRI *)` - 매주 월~금요일 오전 8시)을 사용합니다.

- **대상(Target)**: 지정된 일정에 따라 실행될 작업(예: Lambda 함수 호출, SQS 메시지 전송, SSM 자동화 실행)을 선택합니다.

---

## 🌐 이벤트 버스(Event Bus)

이벤트 버스는 이벤트가 유입되고 규칙에 의해 처리되는 통로입니다. EventBridge는 세 가지 유형의 이벤트 버스를 제공하여 이벤트를 분류하고 관리할 수 있도록 돕습니다.

- **Default Event Bus**: AWS 서비스에서 발생하는 모든 이벤트를 자동으로 수신합니다.

- **Partner Event Bus**: 파트너 SaaS 애플리케이션에서 발생하는 이벤트를 수신하기 위해 사용됩니다.

- **Custom Event Bus**: 사용자의 애플리케이션에서 발생하는 이벤트를 위해 생성됩니다.

---

## 📦 스키마 레지스트리(Schema Registry)

**스키마 레지스트리**는 이벤트 버스에 유입되는 이벤트의 구조(스키마)를 자동으로 추론하고 관리합니다. 개발자는 이 레지스트리를 통해 이벤트의 데이터 구조를 사전에 파악하고, 여러 프로그래밍 언어(Java, Python, TypeScript 등)에 대한 **코드 바인딩**을 다운로드하여 개발 시간을 단축할 수 있습니다.

## 🤝 교차 계정 통합 및 API 대상

- **교차 계정(Cross-Account)**: **리소스 기반 정책(Resource-based Policy)**을 사용하면 다른 AWS 계정이 특정 이벤트 버스로 이벤트를 보낼 수 있도록 허용하여, 여러 계정의 이벤트를 중앙에서 관리할 수 있습니다.

- **API 대상(API Destination)**: EventBridge 규칙의 대상을 외부 API로 지정하여 AWS 외부의 서비스와도 통합할 수 있습니다. 이를 통해 AWS 인프라와 외부 시스템 간의 연동을 쉽게 구축할 수 있습니다.