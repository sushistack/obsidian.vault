
**에지 컴퓨팅(Edge Computing)**이란 데이터가 생성되고 소비되는 지점, 즉 사용자에게 가장 가까운 네트워크의 '에지(Edge)'에서 컴퓨팅 로직을 실행하는 것을 말합니다. AWS에서 이러한 에지 컴퓨팅을 가능하게 하는 주요 서비스는 **CloudFront Functions**와 **Lambda@Edge**이며, 이들은 모두 CloudFront 배포판에 연결되어 지연 시간을 최소화하고 사용자 경험을 개선하는 데 사용됩니다.

---

## ☁️ CloudFront Functions vs. Lambda@Edge

두 서비스는 모두 에지에서 코드를 실행하지만, 설계 목적과 기능에 큰 차이가 있습니다. **CloudFront Functions**는 **경량의 고성능 작업**에 최적화되어 있으며, **Lambda@Edge**는 **더 복잡하고 유연한 작업**을 위해 사용됩니다.

|구분|CloudFront Functions|Lambda@Edge|
|---|---|---|
|**목적**|매우 빠른 경량 작업|더 복잡한 로직 및 통합|
|**지원 언어**|JavaScript|Node.js, Python|
|**실행 위치**|CloudFront Edge Location|CloudFront Regional Edge Cache|
|**확장성**|초당 수백만 요청|초당 수천 요청 (더 넓은 범위의 기능 제공)|
|**트리거 이벤트**|**뷰어 요청** (Viewer Request), **뷰어 응답** (Viewer Response)|**뷰어 요청, 원본 요청, 원본 응답, 뷰어 응답** (4가지 모두)|
|**최대 실행 시간**|1ms 미만 (초고속)|뷰어 이벤트: 5초, 원본 이벤트: 30초|
|**네트워크/파일 시스템**|**접근 불가**|**접근 가능** (AWS 서비스 호출, 외부 API 통신 등)|
|**주요 사용 사례**|URL 리디렉션, 헤더 조작, 캐시 키 정규화, 간단한 JWT 토큰 유효성 검사|A/B 테스트, 사용자 인증/인가, 실시간 이미지 변환, 외부 서비스 연동|
|**비용**|요청당 매우 저렴|요청 및 실행 시간에 따라 비용 발생|

---

## 🛠️ 주요 활용 사례

### 🚀 CloudFront Functions

CloudFront Functions는 초저지연 시간이 필수적인 간단한 작업에 이상적입니다.

- **URL 재작성 및 리디렉션:** 사용자 요청 URL을 변경하거나 다른 URL로 리디렉션합니다.
    
- **헤더 조작:** `X-Frame-Options`와 같은 HTTP 보안 헤더를 추가하거나 수정합니다.
    
- **캐시 키 정규화:** 캐시 효율성을 높이기 위해 URL의 대소문자나 쿼리 문자열 순서를 통일합니다.
    
- **간단한 인증:** JWT 토큰의 유효성을 빠르게 검증하여 유효하지 않은 요청을 즉시 거부합니다.

### 🌐 Lambda@Edge

Lambda@Edge는 네트워크, 파일 시스템 액세스 등 더 복잡한 로직이 필요한 경우에 사용됩니다.

- **A/B 테스트:** 요청 헤더나 쿠키를 기반으로 사용자 그룹을 나누고, 서로 다른 오리진으로 라우팅하여 A/B 테스트를 수행합니다.
    
- **사용자 인증 및 권한 부여:** Cognito와 같은 인증 서비스를 호출하여 사용자 로그인 상태를 확인하고, 인증되지 않은 요청을 차단합니다.
    
- **실시간 이미지 변환:** 사용자의 디바이스 유형(모바일, 태블릿 등)에 맞춰 이미지를 동적으로 리사이즈하여 전송합니다.
    
- **동적 라우팅:** 사용자의 위치, 디바이스, 쿠키 등을 기반으로 요청을 가장 가까운 오리진 서버로 라우팅하여 성능을 최적화합니다.****