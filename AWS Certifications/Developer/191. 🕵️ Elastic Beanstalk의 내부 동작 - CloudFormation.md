Elastic Beanstalk는 개발자가 애플리케이션에만 집중할 수 있도록 복잡한 인프라 관리를 추상화하지만, 내부적으로는 **AWS CloudFormation** 서비스를 활용하여 모든 리소스를 프로비저닝합니다. CloudFormation은 인프라를 코드로 정의하는 **IaC(Infrastructure as Code)** 서비스로, Elastic Beanstalk가 생성하는 모든 AWS 리소스는 CloudFormation 스택을 통해 관리됩니다.

---

### 🏛️ CloudFormation 스택을 통한 인프라 생성 확인

Elastic Beanstalk 콘솔에서 애플리케이션을 생성하거나 업데이트할 때, AWS CloudFormation 콘솔에 해당 환경에 대한 **스택(Stack)**이 자동으로 생성됩니다. 이 스택의 **`리소스(Resources)`** 탭에서는 Elastic Beanstalk가 환경을 위해 생성한 모든 AWS 리소스 목록을 확인할 수 있습니다.

- **`dev` 환경 (단일 인스턴스)**:
    - `Auto Scaling Group`
    - `Launch Configuration`
    - `Elastic IP (EIP)`
    - `EC2 Security Group`

- **`prod` 환경 (고가용성)**:
    - `Auto Scaling Group`
    - `Launch Configuration`
    - `Auto Scaling Policies (CloudWatch Alarms)
    - `Elastic Load Balancer`
    - `Load Balancer Listener & Target Group`
    - `EC2 Security Groups`

이처럼 환경 구성에 따라 CloudFormation 스택이 생성하는 리소스의 종류와 개수가 달라지며, 이는 Elastic Beanstalk가 환경의 복잡성을 자동으로 처리해준다는 것을 보여줍니다.

---

### 📝 EB Extensions와 CloudFormation의 연동

Elastic Beanstalk 콘솔이 제공하는 설정 외에 추가적인 AWS 리소스가 필요한 경우, **`.ebextensions`** 폴더 내의 `.config` 파일을 통해 CloudFormation 리소스를 직접 정의할 수 있습니다. 이를 통해 **RDS, ElastiCache, DynamoDB**와 같은 서비스를 애플리케이션과 함께 배포할 수 있습니다.

**`.ebextensions`** 파일에 CloudFormation 템플릿 구문을 사용하여 원하는 리소스를 정의하면, Elastic Beanstalk는 이를 CloudFormation 스택에 포함시켜 자동으로 프로비저닝합니다. 이 기능은 Elastic Beanstalk의 유연성을 극대화하여, 단순한 웹 서버를 넘어 복잡한 애플리케이션 인프라까지 통합적으로 관리할 수 있게 해줍니다.