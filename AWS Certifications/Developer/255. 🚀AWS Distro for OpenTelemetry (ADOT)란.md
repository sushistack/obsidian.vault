
**AWS Distro for OpenTelemetry(ADOT)**는 클라우드 네이티브 환경에서 분산 추적(traces), 지표(metrics), 로그(logs)를 수집하는 데 사용되는 오픈 소스 프로젝트인 **OpenTelemetry**의 AWS 지원 배포판이에요. 

AWS가 OpenTelemetry를 공식적으로 지원하며, 안전하고 프로덕션 환경에서 바로 사용 가능하도록 만들었죠.


![[Pasted image 20250824211539.png]]
## 📝 OpenTelemetry의 핵심 기능

OpenTelemetry는 애플리케이션의 성능 데이터를 수집하기 위한 통합된 API, 라이브러리, 에이전트, 그리고 수집기(collector) 서비스를 제공해요.

- **분산 추적**: 마이크로서비스 간의 요청 흐름을 추적하여 성능 병목이나 오류를 찾아내는 데 사용돼요. X-Ray와 비슷한 역할을 하죠.

- **지표 수집**: CPU 사용량, 메모리, 요청 수와 같은 시스템 및 애플리케이션 지표를 수집해요.

- **리소스 메타데이터**: AWS 리소스에 대한 컨텍스트 데이터를 수집하여, 데이터를 더 풍부하게 만들어요.

## 🌉 ADOT의 작동 방식

ADOT는 애플리케이션에 **계측(instrumentation)**을 적용하여 성능 데이터를 수집하고, 이를 여러 대상으로 전송해요.

### 데이터 수집 및 전송 과정

1. **계측(Instrumentation)**: EC2, ECS, EKS, Fargate, Lambda 또는 온프레미스 서버에서 실행되는 애플리케이션에 OpenTelemetry 에이전트를 설치해요. 일부 에이전트는 코드 수정 없이 자동으로 추적을 시작할 수 있는 **자동 계측(auto-instrumentation)** 기능을 지원해요.

2. **데이터 수집**: 에이전트는 애플리케이션의 트레이스와 지표를 수집하고, AWS 리소스의 컨텍스트 데이터를 함께 포함시켜요.

3. **다양한 대상(Destination)으로 전송**: 수집된 데이터는 여러 모니터링 서비스로 전송될 수 있어요.
    
    - **AWS 서비스**: X-Ray (트레이스), CloudWatch (지표), Amazon Managed Service for Prometheus (지표)
    
    - **파트너 솔루션**: Datadog 등 OpenTelemetry를 지원하는 다른 모니터링 솔루션

## 🆚 X-Ray와 OpenTelemetry의 차이점

AWS Distro for OpenTelemetry는 X-Ray와 유사한 기능을 제공하지만, 몇 가지 중요한 차이점이 있어요.

|특징|AWS X-Ray|AWS Distro for OpenTelemetry|
|---|---|---|
|**성격**|AWS 고유의 독점 서비스|오픈 소스 프로젝트의 AWS 배포판|
|**지원 범위**|AWS 서비스에 최적화됨|AWS 및 비(非)AWS 환경 모두 지원|
|**주요 기능**|분산 추적(traces)에 특화됨|분산 추적, 지표, 로그를 모두 수집|
|**목적지**|X-Ray 서비스로만 데이터 전송|여러 AWS 서비스 및 파트너 솔루션으로 데이터 전송 가능|

OpenTelemetry의 가장 큰 장점은 **개방형 표준**을 사용한다는 점이에요. OpenTelemetry를 사용하면 특정 클라우드 벤더에 종속되지 않고, 여러 대상에 동시에 데이터를 보낼 수 있어 유연성이 높아요. 만약 기존에 X-Ray를 사용하고 있었다면, 오픈 소스 표준을 채택하거나 여러 모니터링 도구를 사용하기 위해 OpenTelemetry로 마이그레이션하는 것을 고려해 볼 수 있어요.