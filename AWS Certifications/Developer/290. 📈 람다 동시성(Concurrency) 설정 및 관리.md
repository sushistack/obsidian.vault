
람다 함수의 **동시성(concurrency)**은 특정 시점에 함수가 동시에 처리할 수 있는 요청 수를 제어하는 설정입니다. 이 설정을 통해 함수가 계정의 동시성 한도를 모두 소모하는 것을 방지하고, 콜드 스타트 지연을 줄일 수 있습니다.

---

## 1. 예약된 동시성(Reserved Concurrency)

**예약된 동시성**은 특정 람다 함수가 사용할 수 있는 최대 동시 실행 수를 **제한**하는 기능입니다. 이 설정을 사용하면 다른 함수들이 안정적으로 실행될 수 있도록 보장하며, 하나의 함수가 모든 동시성을 독점하는 것을 막을 수 있습니다.

- **설정 방법:** 람다 함수 **`Configuration`** 탭의 **`Concurrency`** 메뉴에서 **`Edit`**을 클릭하여 설정할 수 있습니다.
    
- **값 설정:**
    
    - **`Unreserved account concurrency`:** 기본값으로, 모든 함수가 계정의 총 동시성 한도(기본 1,000)를 공유합니다.
        
    - **`Reserved concurrency`:** 특정 값을 설정하여 해당 함수에 전용 동시성을 할당합니다. 예를 들어, 값을 `20`으로 설정하면 해당 함수는 최대 20개의 요청만 동시에 처리할 수 있으며, 계정의 남은 동시성은 `980`개가 됩니다.
        
- **스로틀링 테스트:** 예약된 동시성 값을 `0`으로 설정하면, 함수는 항상 스로틀링되어 `429` 오류를 반환합니다. 이는 애플리케이션에서 스로틀링 오류를 처리하는 로직을 테스트할 때 유용합니다.

---

## 2. 프로비저닝된 동시성(Provisioned Concurrency)

**프로비저닝된 동시성**은 람다 함수의 **콜드 스타트(cold start)** 지연을 제거하는 기능입니다. 콜드 스타트는 함수가 처음 실행될 때 또는 일정 시간 동안 유휴 상태였을 때 발생하는 초기화 지연 시간입니다.

- **설정 방법:** 람다 함수 **`Configuration`** 탭의 **`Provisioned concurrency`** 메뉴에서 설정할 수 있습니다.
    
- **작동 방식:** 함수가 호출되기 전에 지정된 수의 함수 인스턴스를 미리 활성화 상태로 유지합니다. 이렇게 되면 요청이 들어왔을 때 이미 준비된 인스턴스가 바로 응답하므로, 콜드 스타트가 발생하지 않습니다.
    
- **제약:** 프로비저닝된 동시성은 `$LATEST` 버전에는 적용할 수 없으며, 반드시 함수를 특정 **버전(version)**이나 **별칭(alias)**으로 발행(publish)한 후에 설정해야 합니다.
    
- **비용:** 프로비저닝된 동시성은 함수 실행 시간이 아니라 인스턴스가 준비 상태로 유지되는 **시간**에 따라 비용이 청구됩니다.