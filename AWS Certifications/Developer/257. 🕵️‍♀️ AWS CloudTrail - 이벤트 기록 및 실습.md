## CloudTrail 이벤트 기록이란?

**AWS CloudTrail**은 AWS 계정에서 발생하는 모든 API 호출 및 사용자 활동을 기록하는 서비스입니다. 특히 **이벤트 기록(Event history)** 기능은 지난 90일 동안의 관리 이벤트를 보여주며, 계정의 모든 활동을 감사하고 추적하는 데 사용됩니다.

이벤트 기록을 통해 다음 정보를 확인할 수 있습니다.

- **누가**: 어떤 IAM 사용자 또는 역할이 작업을 수행했는지
- **무엇을**: 어떤 AWS 서비스에서 어떤 API 호출이 이루어졌는지
- **언제**: 작업이 발생한 정확한 시간
- **어디서**: 작업이 수행된 AWS 리전 및 소스 IP 주소

## 🔎 CloudTrail 이벤트 추적 실습

이벤트 기록의 유용성을 확인하기 위해, EC2 인스턴스를 종료하는 간단한 실습을 진행해 보겠습니다. 이 작업을 통해 CloudTrail이 어떻게 API 호출을 기록하는지 직접 확인할 수 있습니다.

### 1. EC2 인스턴스 종료

1. AWS 콘솔에서 **EC2 서비스**로 이동하여 실행 중인 인스턴스를 선택합니다.

2. 인스턴스에 마우스 오른쪽 버튼을 클릭하고 **`Terminate instance`**를 선택하여 인스턴스를 종료합니다.

3. 이 작업은 EC2 서비스에 `TerminateInstances`라는 **API 호출**을 보냅니다.

### 2. CloudTrail 이벤트 기록 확인

1. **CloudTrail 콘솔**로 이동하여 왼쪽 메뉴에서 **`Event history`**를 선택합니다.

2. 약 5분 정도 기다린 후 페이지를 새로고침합니다.

3. 이벤트 목록에서 방금 수행한 `TerminateInstances` API 호출이 기록된 것을 확인할 수 있습니다.

### 3. 이벤트 세부 정보 확인

기록된 `TerminateInstances` 이벤트를 클릭하면 다음과 같은 상세 정보를 확인할 수 있습니다.

- **이벤트 소스**: `ec2.amazonaws.com`

- **이벤트 이름**: `TerminateInstances`

- **액세스 키 ID**: API 호출에 사용된 IAM 액세스 키

- **사용자**: 작업을 수행한 사용자 또는 역할의 ARN

- **리소스**: 종료된 EC2 인스턴스의 ID


이처럼 CloudTrail 이벤트 기록은 계정에서 어떤 변화가 발생했는지, 그리고 그 변화를 누가 일으켰는지에 대한 명확한 증거를 제공하여 보안 및 규정 준수 문제를 해결하는 데 필수적인 도구가 됩니다.