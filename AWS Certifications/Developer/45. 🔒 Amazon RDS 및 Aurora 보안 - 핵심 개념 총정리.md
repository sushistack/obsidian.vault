
Amazon RDS와 Aurora는 데이터베이스 보안을 위한 다양한 기능을 제공합니다. 데이터 암호화, 인증, 네트워크 접근 제어 등 주요 보안 옵션을 자세히 알아보겠습니다.

### 1. 데이터 암호화 🛡️

RDS 및 Aurora 데이터베이스는 두 가지 유형의 암호화를 지원합니다: 저장 데이터 암호화(Data at-rest encryption)와 전송 중 데이터 암호화(In-flight encryption).

#### 1.1 저장 데이터 암호화 (Encryption at-rest)

- **개념**: 데이터베이스 볼륨에 저장된 데이터를 암호화하는 것입니다. 이는 데이터 파일, 백업, 스냅샷 등 모든 저장된 데이터에 적용됩니다.
- **작동 방식**: AWS Key Management Service (**KMS**)를 사용하여 암호화됩니다.
- **적용 시점**: 데이터베이스 인스턴스를 처음 **시작할 때** 정의해야 합니다.
- **제약 사항**:
    - **마스터 암호화**: 마스터 데이터베이스(메인 데이터베이스)가 암호화되지 않았다면, 해당 마스터의 읽기 복제본도 암호화할 수 없습니다.
    - **기존 데이터베이스 암호화**: 이미 생성된 암호화되지 않은 데이터베이스는 직접 암호화할 수 없습니다. 대신, 다음 단계를 거쳐야 합니다:
        1. **암호화되지 않은 데이터베이스의 스냅샷을 생성**합니다.
        2. 생성된 **스냅샷을 암호화된 데이터베이스로 복원**합니다. 이 과정을 통해 암호화된 새 데이터베이스 인스턴스를 얻을 수 있습니다.

#### 1.2 전송 중 데이터 암호화 (In-flight encryption)

- **개념**: 클라이언트와 데이터베이스 간에 주고받는 데이터(전송 중인 데이터)를 암호화하는 것입니다.
- **기본 제공**: RDS 및 Aurora의 모든 데이터베이스는 기본적으로 전송 중 암호화를 지원합니다.
- **활용**: 클라이언트는 AWS에서 제공하는 **TLS 루트 인증서**를 사용하여 데이터베이스에 안전하게 연결할 수 있습니다. 이 인증서는 AWS 웹사이트에서 다운로드할 수 있습니다.

### 2. 데이터베이스 인증 🔑

RDS 및 Aurora는 사용자 인증을 위한 여러 메커니즘을 제공하여 보안을 강화합니다.
- **사용자 이름 및 암호**: 가장 일반적인 인증 방식입니다. 데이터베이스 생성 시 설정한 마스터 사용자 이름과 암호를 사용하여 연결합니다.
- **IAM 데이터베이스 인증**: AWS Identity and Access Management (**IAM**) 역할을 사용하여 데이터베이스에 연결할 수 있습니다.
    - **장점**: EC2 인스턴스와 같은 AWS 리소스에 IAM 역할을 부여하여, 사용자 이름과 암호 없이도 데이터베이스에 직접 인증할 수 있습니다. 이는 보안 자격 증명 관리를 AWS IAM 내에서 통합하여 간소화하는 데 매우 유용합니다.
- **Kerberos 인증**: 엔터프라이즈 환경에서 사용되는 고급 인증 방식입니다.

### 3. 네트워크 접근 제어 🌐

데이터베이스에 대한 네트워크 접근은 **보안 그룹(Security Groups)**을 통해 세밀하게 제어할 수 있습니다.
- **역할**: 특정 포트, IP 주소 범위, 또는 다른 보안 그룹으로부터의 인바운드 및 아웃바운드 트래픽을 허용하거나 차단하는 방화벽 역할을 합니다.
- **구성**: 데이터베이스 생성 시 보안 그룹을 새로 생성하거나 기존 보안 그룹을 선택하여 데이터베이스에 연결할 수 있는 소스를 지정합니다.
    - **예시**: 특정 EC2 인스턴스, 회사 IP 주소, 또는 다른 AWS 서비스만 데이터베이스에 접근하도록 설정할 수 있습니다.

### 4. SSH 접근 불가 🚫

- **관리형 서비스의 특성**: RDS 및 Aurora는 AWS가 전적으로 관리하는 서비스이므로, 사용자는 데이터베이스 인스턴스에 **SSH(Secure Shell)로 직접 접근할 수 없습니다.** 이는 AWS가 운영 체제 패치, 업데이트, 모니터링 등 모든 인프라 관리를 담당하기 때문입니다.
- **RDS Custom**: 예외적으로 AWS의 **RDS Custom** 서비스를 사용하는 경우에만 제한적인 SSH 접근이 허용될 수 있습니다. (일반적인 RDS/Aurora와는 다른 특수 서비스)

### 5. 감사 로그 (Audit Logs) 📝

- **목적**: 데이터베이스에서 어떤 쿼리가 실행되었는지, 어떤 활동이 있었는지 등을 기록하여 보안 감사 및 문제 해결에 활용할 수 있습니다.
- **활성화**: RDS 및 Aurora에서 감사 로그를 활성화할 수 있습니다.
- **로그 보존**: 감사 로그는 일정 기간 후 자동으로 삭제될 수 있습니다. 장기간 보존이 필요한 경우, AWS의 **CloudWatch Logs** 서비스로 로그를 내보내어 저장하고 분석할 수 있습니다.

---

이러한 보안 기능들을 통해 Amazon RDS 및 Aurora 데이터베이스를 안전하게 운영하고 관리할 수 있습니다. AWS의 관리형 서비스를 활용하여 보안 부담을 줄이고 핵심 비즈니스 로직에 집중해 보세요.