
μ΄λ² κ°•μμ—μ„λ” DNS λ μ½”λ“μ ν•µμ‹¬ κ°λ… μ¤‘ ν•λ‚μΈ TTL(Time To Live)μ— λ€ν•΄ μμ„Έν μ•μ•„λ³΄κ³ , μ‹¤μ  μ‹¤μµμ„ ν†µν•΄ TTLμ΄ μ–΄λ–»κ² μ‘λ™ν•λ”μ§€ ν™•μΈν•΄ λ³΄κ² μµλ‹λ‹¤.

---

### 1. DNS λ μ½”λ“ TTL (Time To Live)μ΄λ€? π¤”

![[Pasted image 20250720222641.png]]

- **μ •μ**:Β **TTL**μ€ <mark class="hltr-red">DNS λ μ½”λ“κ°€ DNS λ¦¬μ΅Έλ²„(μ: λ΅μ»¬ DNS μ„λ²„, μ‚¬μ©μμ μ»΄ν“¨ν„° λλ” μ›Ή λΈλΌμ°μ € μΊμ‹)μ—Β μΊμ‹λ  μ μλ” μ‹κ°„</mark>μ„ λ‚νƒ€λƒ…λ‹λ‹¤. μ΄ μ‹κ°„μ΄ μ§€λ‚λ©΄ μΊμ‹λ μ •λ³΄λ” λ¬΄ν¨ν™”λκ³ , μƒλ΅μ΄ DNS μΏΌλ¦¬κ°€ λ°μƒν•΄μ•Ό ν•©λ‹λ‹¤.
    
- **μ‘λ™ λ°©μ‹**:
    1. ν΄λΌμ΄μ–ΈνΈκ°€Β `myapp.example.com`κ³Ό κ°™μ€ λ„λ©”μΈμ— λ€ν•΄ DNS μΏΌλ¦¬λ¥Ό λ³΄λƒ…λ‹λ‹¤.
    2. Route 53μ€ ν•΄λ‹Ή λ„λ©”μΈμ IP μ£Όμ†μ™€ ν•¨κ» TTL κ°’(μ: 300μ΄)μ„ μ‘λ‹µν•©λ‹λ‹¤.
    3. ν΄λΌμ΄μ–ΈνΈ(λλ” ν΄λΌμ΄μ–ΈνΈμ λ΅μ»¬ DNS λ¦¬μ΅Έλ²„)λ” μ΄ IP μ£Όμ†μ™€ TTL κ°’μ„Β **μΊμ‹**ν•©λ‹λ‹¤.
    4. TTL μ‹κ°„(300μ΄) λ™μ•, ν΄λΌμ΄μ–ΈνΈλ” λ™μΌν• λ„λ©”μΈμ— λ‹¤μ‹ μ ‘κ·Όν•  λ• DNS μ‹μ¤ν…μ— μ¬μΏΌλ¦¬ν•μ§€ μ•κ³ ,Β **μΊμ‹λ μ •λ³΄λ¥Ό μ‚¬μ©**ν•©λ‹λ‹¤.
    5. TTL μ‹κ°„μ΄ λ§λ£λλ©΄, ν΄λΌμ΄μ–ΈνΈλ” λ‹¤μ‹ DNS μ‹μ¤ν…μ— μΏΌλ¦¬λ¥Ό λ³΄λ‚΄ μµμ‹  μ •λ³΄λ¥Ό μ–»μµλ‹λ‹¤.

- **λ©μ **: DNS μ‹μ¤ν…μ— λ€ν• λ¶ν•„μ”ν• μΏΌλ¦¬λ¥Ό μ¤„μ—¬Β **λ¶€ν•λ¥Ό κ°μ†**μ‹ν‚¤κ³ Β **μ‘λ‹µ μ†λ„λ¥Ό ν–¥μƒ**μ‹ν‚µλ‹λ‹¤. DNS λ μ½”λ“κ°€ μμ£Ό λ³€κ²½λμ§€ μ•λ”λ‹¤λ” κ°€μ •ν•μ— μ„¤κ³„λμ—μµλ‹λ‹¤.
    

#### 1.1 TTL μ„¤μ •μ— λ”°λ¥Έ μν–¥

|TTL μ„¤μ •|νΉμ§•|μ¥μ |λ‹¨μ |
|---|---|---|---|
|**λ†’μ€ TTL**(μ: 24μ‹κ°„)|λ μ½”λ“κ°€ ν΄λΌμ΄μ–ΈνΈμ— μ¤λ μΊμ‹λ©λ‹λ‹¤.|Route 53μΌλ΅ λ“¤μ–΄μ¤λ” DNS μΏΌλ¦¬ νΈλν”½ κ°μ† (λΉ„μ© μ κ°), μ›Ήμ‚¬μ΄νΈ λ΅λ”© μ†λ„ ν–¥μƒ (μΊμ‹ ννΈμ¨ μ¦κ°€)|λ μ½”λ“ λ³€κ²½ μ‹ λ¨λ“  ν΄λΌμ΄μ–ΈνΈμ μΊμ‹κ°€ λ§λ£λ  λ•κΉμ§€Β **μ¤λλ μ •λ³΄**λ¥Ό μ κ³µν•  μ μμµλ‹λ‹¤. λ³€κ²½ μ‚¬ν•­ λ°μμ— μ¤λ μ‹κ°„(μ: 24μ‹κ°„)μ΄ κ±Έλ¦½λ‹λ‹¤.|
|**λ‚®μ€ TTL**(μ: 60μ΄)|λ μ½”λ“κ°€ ν΄λΌμ΄μ–ΈνΈμ— μ§§κ² μΊμ‹λκ³  μμ£Ό κ°±μ‹ λ©λ‹λ‹¤.|λ μ½”λ“ λ³€κ²½ μ‹Β **λΉ λ¥΄κ² λ°μ**λ©λ‹λ‹¤. λ°μ΄ν„°κ°€ μµμ‹  μƒνƒλ΅ μ μ§€λ  κ°€λ¥μ„±μ΄ λ†’μµλ‹λ‹¤.|Route 53μΌλ΅ λ“¤μ–΄μ¤λ” DNS μΏΌλ¦¬ νΈλν”½ μ¦κ°€ (λΉ„μ© μ¦κ°€), DNS ν™•μΈμ— λ”°λ¥Έ μ›Ήμ‚¬μ΄νΈ λ΅λ”© μ§€μ—° κ°€λ¥μ„±|

- **λ μ½”λ“ λ³€κ²½ μ‹ μ „λµ**: λ μ½”λ“ κ°’μ„ λ³€κ²½ν•  κ³„νμ΄ μλ‹¤λ©΄, λ³€κ²½ μ „μ— TTLμ„ μΌμ‹μ μΌλ΅ λ‚®μ€ κ°’(μ: 60μ΄)μΌλ΅ μ¤„μ€λ‹¤κ°€, λ³€κ²½ μ‚¬ν•­μ΄ μ „νλ ν›„ λ‹¤μ‹ μ›λμ λ†’μ€ κ°’μΌλ΅ λλλ¦¬λ” μ „λµμ„ μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
- **ν•„μ μ—¬λ¶€**: TTLμ€ λ‹¤μ κ°•μμ—μ„ μ‚΄ν΄λ³Ό Alias λ μ½”λ“λ¥Ό μ μ™Έν• λ¨λ“  λ μ½”λ“μ—Β **ν•„μμ μΌλ΅ μ„¤μ •**ν•΄μ•Ό ν•©λ‹λ‹¤.

---

### 2. Route 53 μ½μ†”μ—μ„ TTL μ„¤μ • λ° ν™•μΈ μ‹¤μµ π§

TTLμ μ‘λ™ λ°©μ‹μ„ μ΄ν•΄ν•κΈ° μ„ν•΄ EC2 μΈμ¤ν„΄μ¤λ¥Ό λ€μƒμΌλ΅ A λ μ½”λ“λ¥Ό μƒμ„±ν•κ³ , κ·Έ κ°’μ„ λ³€κ²½ν•λ©΄μ„ TTLμ μν–¥μ„ ν™•μΈν•΄ λ³΄κ² μµλ‹λ‹¤.

#### 2.1 A λ μ½”λ“ μƒμ„± (TTL 120μ΄)

1. **Route 53 μ½μ†” μ ‘μ†**: AWS Management Consoleμ—μ„ Route 53 μ„λΉ„μ¤λ΅ μ΄λ™ν•©λ‹λ‹¤.
2. **νΈμ¤νΈ μ΅΄ μ„ νƒ**: μ΄μ „μ— λ“±λ΅ν• λ„λ©”μΈ(μ:Β `yourchosendomain.com`)μ νΌλΈ”λ¦­ νΈμ¤νΈ μ΅΄μΌλ΅ μ΄λ™ν•©λ‹λ‹¤.
3. **λ μ½”λ“ μƒμ„±**:Β **λ μ½”λ“ μƒμ„±(Create record)**Β λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤.
4. **λ μ½”λ“ μ„Έλ¶€ μ •λ³΄ μ…λ ¥**:
    - **λ μ½”λ“ μ΄λ¦„**:Β `demo`Β (FQDNμ€Β `demo.yourchosendomain.com`μ΄ λ©λ‹λ‹¤.)
    - **λ μ½”λ“ μ ν•**:Β `A`
    - **κ°’**: μ΄μ „μ— ν”„λ‘ν¬ν‘Έλ¥΄νΈ(`eu-central-1`) λ¦¬μ „μ— μƒμ„±ν•Β **EC2 μΈμ¤ν„΄μ¤μ νΌλΈ”λ¦­ IPv4 μ£Όμ†**λ¥Ό λ³µμ‚¬ν•μ—¬ λ¶™μ—¬λ„£μµλ‹λ‹¤. (μ:Β `1.2.3.4`)
    - **TTL**:Β `2λ¶„`Β (μ΄ λ‹¨μ„λ΅Β `120`μ΄).
    - **λΌμ°ν… μ •μ±…**:Β `λ‹¨μ λΌμ°ν…(Simple routing)`
5. **λ μ½”λ“ μƒμ„±**:Β **λ μ½”λ“ μƒμ„±(Create records)**Β λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤.

#### 2.2 μ›Ή λΈλΌμ°μ € λ° Cloud Shellμ—μ„ λ μ½”λ“ μ‘λ™ ν™•μΈ

1. **μ›Ή λΈλΌμ°μ € ν™•μΈ**: Chromeκ³Ό κ°™μ€ μ›Ή λΈλΌμ°μ €λ¥Ό μ—΄κ³ Β `http://demo.yourchosendomain.com`μΌλ΅ μ ‘μ†ν•©λ‹λ‹¤.
    - ν”„λ‘ν¬ν‘Έλ¥΄νΈ EC2 μΈμ¤ν„΄μ¤μ "Hello World from AZΒ `eu-central-1b`!" λ©”μ‹μ§€κ°€ ν‘μ‹λλ”μ§€ ν™•μΈν•©λ‹λ‹¤.

2. **Cloud Shellμ—μ„ DNS μΏΌλ¦¬ ν™•μΈ**:
    
    - AWS Cloud Shellμ„ μ—΄κ³  λ‹¤μ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•©λ‹λ‹¤.

	```Bash
	$ dig demo.yourchosendomain.com
	```

    - `ANSWER SECTION`μ—μ„ ν•΄λ‹Ή λ„λ©”μΈμ IP μ£Όμ†μ™€ ν•¨κ» TTL κ°’μ΄ ν‘μ‹λ©λ‹λ‹¤. μ²μ μΏΌλ¦¬ν•  λ•λ”Β `120`μ— κ°€κΉμ΄ μ«μκ°€ λ³΄μΌ κ²ƒμ…λ‹λ‹¤.
        
    - κ°™μ€Β `dig`Β λ…λ Ήμ–΄λ¥Ό λ‹¤μ‹ μ‹¤ν–‰ν•΄ λ³΄λ©΄, TTL κ°’μ΄ μ¤„μ–΄λ“¤μ–΄ μλ” κ²ƒμ„ λ³Ό μ μμµλ‹λ‹¤. μ΄λ” μΊμ‹λ λ μ½”λ“μ λ‚¨μ€ μ ν¨ μ‹κ°„μ„ λ‚νƒ€λƒ…λ‹λ‹¤.
        

#### 2.3 λ μ½”λ“ κ°’ λ³€κ²½ λ° TTL μν–¥ κ΄€μ°°

1. **Route 53μ—μ„ λ μ½”λ“ κ°’ λ³€κ²½**:
    
    - Route 53 νΈμ¤νΈ μ΅΄μ—μ„ λ°©κΈ μƒμ„±ν•Β `demo.yourchosendomain.com`Β λ μ½”λ“λ¥Ό μ„ νƒν•κ³  **λ μ½”λ“ νΈμ§‘(Edit record)**μ„ ν΄λ¦­ν•©λ‹λ‹¤.
    - **κ°’(Value)**μ„ μ΄μ „μ— μ‹±κ°€ν¬λ¥΄(`ap-southeast-1`) λ¦¬μ „μ— μƒμ„±ν•Β **λ‹¤λ¥Έ EC2 μΈμ¤ν„΄μ¤μ νΌλΈ”λ¦­ IPv4 μ£Όμ†**λ΅ λ³€κ²½ν•©λ‹λ‹¤. (μ:Β `9.10.11.12`)
    - **μ €μ¥(Save)**Β λ²„νΌμ„ ν΄λ¦­ν•©λ‹λ‹¤.
        
2. **μΊμ‹± ν¨κ³Ό ν™•μΈ**:
    
    - **Cloud Shell**:Β `dig demo.yourchosendomain.com`Β λ…λ Ήμ–΄λ¥Ό λ°λ³µν•΄μ„ μ‹¤ν–‰ν•©λ‹λ‹¤. λ³€κ²½λ IP μ£Όμ†λ΅ μ¦‰μ‹ λ°”λ€μ§€ μ•κ³ ,Β **μ΄μ „ IP μ£Όμ†κ°€ κ³„μ† ν‘μ‹**λ  κ²ƒμ…λ‹λ‹¤. μ΄λ” λ΅μ»¬ DNS λ¦¬μ΅Έλ²„(Cloud Shell ν™κ²½μ λ¦¬μ΅Έλ²„)μ— TTL κΈ°κ°„ λ™μ• μ΄μ „ IPκ°€ μΊμ‹λμ–΄ μκΈ° λ•λ¬Έμ…λ‹λ‹¤. TTLμ΄ λ§λ£λ  λ•κΉμ§€ κΈ°λ‹¤λ ¤μ•Ό ν•©λ‹λ‹¤.
        
    - **μ›Ή λΈλΌμ°μ € (Chrome)**:Β `http://demo.yourchosendomain.com`Β νμ΄μ§€λ¥Ό μƒλ΅κ³ μΉ¨ν•©λ‹λ‹¤. λ§μ°¬κ°€μ§€λ΅ **μ΄μ „ EC2 μΈμ¤ν„΄μ¤(ν”„λ‘ν¬ν‘Έλ¥΄νΈ)**μ λ©”μ‹μ§€κ°€ κ³„μ† ν‘μ‹λ  κ²ƒμ…λ‹λ‹¤.
        
3. **TTL λ§λ£ ν›„ λ³€κ²½ μ‚¬ν•­ ν™•μΈ**:
    
    - μ•½ 2λ¶„(TTL 120μ΄)μ΄ μ§€λ‚ ν›„, Cloud Shellμ—μ„Β `dig`Β λ…λ Ήμ–΄λ¥Ό λ‹¤μ‹ μ‹¤ν–‰ν•κ±°λ‚ μ›Ή λΈλΌμ°μ €λ¥Ό μƒλ΅κ³ μΉ¨ν•©λ‹λ‹¤.
        
    - μ΄μ Β **μƒλ΅μ΄ IP μ£Όμ†**(`ap-southeast-1`Β μΈμ¤ν„΄μ¤)λ΅ νΈλν”½μ΄ λΌμ°ν…λμ–΄ "Hello World from AZΒ `ap-southeast-1b`!" λ©”μ‹μ§€κ°€ ν‘μ‹λλ” κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
        
    - Cloud ShellμΒ `dig`Β λ…λ Ήμ–΄ κ²°κ³Όμ—μ„λ„ μƒλ΅μ΄ IP μ£Όμ†μ™€ ν•¨κ» μ΄κΈ° TTL 120μ΄κ°€ λ‹¤μ‹ ν‘μ‹λ  κ²ƒμ…λ‹λ‹¤.
        

---

### 4. κ²°λ΅  π’΅

μ΄ μ‹¤μµμ„ ν†µν•΄Β **TTLμ΄ DNS μΊμ‹±μ— λ―ΈμΉλ” μν–¥**μ„ λ…ν™•ν•κ² μ΄ν•΄ν•  μ μμµλ‹λ‹¤. TTLμ΄ λ†’μΌλ©΄ DNS μΏΌλ¦¬ μκ°€ μ¤„μ–΄λ“¤μ–΄ λΉ„μ©κ³Ό μ„±λ¥μ— μ λ¦¬ν•μ§€λ§, λ μ½”λ“ λ³€κ²½ μ‹ λ°μλλ” λ° μ‹κ°„μ΄ μ¤λ κ±Έλ¦½λ‹λ‹¤. λ°λ€λ΅ TTLμ΄ λ‚®μΌλ©΄ λ³€κ²½ μ‚¬ν•­μ΄ λΉ λ¥΄κ² μ „νλμ§€λ§, DNS μΏΌλ¦¬ μκ°€ λ§μ•„μ Έ λΉ„μ©μ΄ μ¦κ°€ν•  μ μμµλ‹λ‹¤. λ”°λΌμ„ μ• ν”λ¦¬μΌ€μ΄μ…μ μ”κµ¬μ‚¬ν•­(λ°μ΄ν„° λ³€κ²½ λΉλ„, μ„±λ¥ λ―Όκ°λ„)μ— λ”°λΌ μ μ ν• TTL κ°’μ„ μ„¤μ •ν•λ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤.
