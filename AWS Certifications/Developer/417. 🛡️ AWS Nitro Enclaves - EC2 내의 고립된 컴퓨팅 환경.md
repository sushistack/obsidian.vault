
AWS Nitro Enclaves는 민감한 데이터를 처리하기 위한 **고도로 격리된 컴퓨팅 환경**을 제공하는 EC2 기능입니다. 기존에는 민감한 데이터를 처리하기 위해 복잡한 VPC 및 네트워킹 제어를 설정해야 했지만, Nitro Enclaves는 이러한 복잡성 없이 EC2 인스턴스 내에서 안전한 실행 공간을 제공합니다.

---

## 1. 🌐 Nitro Enclaves의 개념 및 특징

Nitro Enclaves는 EC2 인스턴스에서 분리된 **가상 머신(VM)**입니다. `Nitro Hypervisor`를 활용하여 호스트 EC2 인스턴스로부터 격리되며, 다음과 같은 특징을 가집니다.

- **초고도 격리**: 네트워킹, SSH 접근, 영구 스토리지 등 외부와 연결될 수 있는 모든 기능이 제거됩니다. 이는 공격 노출 면(Attack Surface)을 최소화하여 보안을 극대화합니다.
    
- **낮은 공격 노출 면**: 외부 접속이 불가능하고, 필요한 컴퓨팅 자원만 공유하기 때문에 악성 코드나 해커의 침입으로부터 안전하게 보호됩니다.
    
- **암호화 증명 (Cryptographic Attestation)**: 암호화 증명 기능을 통해 오직 **서명된 코드**만 Enclave에서 실행되도록 보장할 수 있습니다. 이를 통해 예상치 못한 코드가 실행되는 것을 방지합니다.
    
- **KMS 연동**: KMS와 연동하여 오직 Enclave 내의 애플리케이션만 KMS 키를 사용하여 민감한 데이터를 복호화할 수 있도록 보장합니다.
    

## 2. 💻 Nitro Enclaves 동작 방식

![[Pasted image 20250914193541.png]]

Nitro Enclaves는 Nitro 시스템을 기반으로 하는 EC2 인스턴스에서만 사용할 수 있습니다.

1. **EC2 인스턴스 준비**: `EnclaveOptions` 속성이 활성화된 **Nitro 기반** EC2 인스턴스를 시작합니다.
    
2. **애플리케이션 변환**: `Nitro CLI`를 사용하여 실행할 애플리케이션 코드를 **Enclave 이미지 파일(EIF)**로 변환합니다.
    
3. **Enclave 생성**: `Nitro CLI`를 사용하여 EIF를 기반으로 EC2 인스턴스 내에 Enclave를 생성합니다. 이 과정에서 호스트 인스턴스의 CPU, 메모리, 커널 일부를 공유하지만, 완벽하게 격리됩니다.
    
4. **통신 채널**: 호스트 EC2 인스턴스와 Enclave는 **안전한 로컬 통신 채널**을 통해서만 소통합니다.
    

---

## 3. 🎯 주요 사용 사례

Nitro Enclaves는 다음과 같이 매우 민감한 데이터 및 작업에 사용됩니다.

- **개인 정보 처리**: PII(개인 식별 정보), 의료 기록, 금융 데이터 등 민감한 정보를 처리할 때.
    
- **비공개 키 관리**: 암호화에 사용되는 비공개 키를 안전하게 보관하고 서명 작업을 수행할 때.
    
- **기밀 컴퓨팅**: 기밀 유지가 필수적인 다자간 계산(Secure Multi-Party Computation)을 수행할 때.
    
- **결제 데이터 처리**: 신용카드 번호와 같은 결제 정보를 처리하는 애플리케이션에 사용됩니다.
    

## 4. 🌟 결론

Nitro Enclaves는 EC2 인스턴스 내에서 **추가적인 보안 계층**을 제공하는 강력한 기능입니다. 복잡한 네트워크 보안 설정 없이도 매우 민감한 데이터를 안전하게 처리할 수 있는 환경을 구축하여, 보안 사고의 위험을 최소화합니다.