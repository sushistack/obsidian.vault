
μ΄λ² κΈ€μ—μ„λ” AWS AppSyncλ¥Ό μ‚¬μ©ν•μ—¬ GraphQL APIλ¥Ό μ§μ ‘ κµ¬μ¶•ν•κ³ , DynamoDBλ¥Ό λ°μ΄ν„° μ†μ¤λ΅ μ—°κ²°ν•μ—¬ λ°μ΄ν„°λ¥Ό κ΄€λ¦¬ν•λ” κ³Όμ •μ„ μƒμ„Έν μ‹¤μµν•΄ λ³΄κ² μµλ‹λ‹¤.

---

## 1. β™οΈ AppSync API μƒμ„± λ° μ¤ν‚¤λ§ μ •μ

AppSync APIλ” GraphQL μ¤ν‚¤λ§λ¥Ό κΈ°λ°μΌλ΅ μƒμ„±λ©λ‹λ‹¤.

1. AWS AppSync μ½μ†”λ΅ μ΄λ™ν•μ—¬ **'API μƒμ„±(Create API)'**μ„ ν΄λ¦­ν•©λ‹λ‹¤.
    
2. **'GraphQL API'**λ¥Ό μ„ νƒν•κ³ , **'μ²μλ¶€ν„° κµ¬μ¶•(Design from scratch)'**μ„ μ„ νƒν•©λ‹λ‹¤.
    
3. API μ΄λ¦„μ„ `MyAppSyncAPI`λ΅ μ§€μ •ν•©λ‹λ‹¤.
    
4. **λ¨λΈ μƒμ„±**: GraphQLμ λ°μ΄ν„° λ¨λΈμ„ μ •μν•©λ‹λ‹¤. μ—¬κΈ°μ„λ” DynamoDB ν…μ΄λΈ”μ— λ°μ΄ν„°λ¥Ό μ €μ¥ν•κΈ° μ„ν•΄ `create a type backed by a DynamoDB table`μ„ μ„ νƒν•©λ‹λ‹¤.
    - λ¨λΈ μ΄λ¦„: `Student`
    - ν•„λ“ μ¶”κ°€:
        - `id`: `ID` (ν•„μ)
        - `name`: `String` (ν•„μ)
        - `age`: `Int` (μ„ νƒ μ‚¬ν•­)
        - `certified`: `Boolean` (μ„ νƒ μ‚¬ν•­)

5. **ν…μ΄λΈ” μ„¤μ •**: `Student` λ¨λΈκ³Ό μ—°κ²°λ  DynamoDB ν…μ΄λΈ”μ„ κµ¬μ„±ν•©λ‹λ‹¤.
    - ν…μ΄λΈ” μ΄λ¦„: `StudentTable`
    - κΈ°λ³Έ ν‚¤: `id`

μ΄ κ³Όμ •μ„ λ§μΉλ©΄ AppSyncκ°€ μλ™μΌλ΅ GraphQL μ¤ν‚¤λ§μ™€ μ—°κ²°λ DynamoDB ν…μ΄λΈ”μ„ μƒμ„±ν•©λ‹λ‹¤.

---

## 2. π” DynamoDB μ—°λ™ λ° λ°μ΄ν„° κ΄€λ¦¬

AppSyncλ” λ¨λΈ μ •μλ¥Ό κΈ°λ°μΌλ΅ CRUD(Create, Read, Update, Delete) μ‘μ—…μ„ μ„ν• GraphQL μΏΌλ¦¬(Query)μ™€ λ³€μ΄(Mutation)λ¥Ό μλ™μΌλ΅ μƒμ„±ν•©λ‹λ‹¤.

1. **μΏΌλ¦¬ νƒμƒ‰κΈ°(Queries)**: AppSync μ½μ†”μ **'μΏΌλ¦¬(Queries)'** νƒ­μ—μ„ μƒμ„±λ μΏΌλ¦¬μ™€ λ³€μ΄(mutation)λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.
    
2. **λ°μ΄ν„° μƒμ„±(Mutation)**: `createStudent` λ³€μ΄λ¥Ό μ‚¬μ©ν•μ—¬ ν•™μƒ λ°μ΄ν„°λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
	- `createStudent` λ³€μ΄ μ„ νƒ ν›„, μ…λ ¥ ν•„λ“μ— μ•„λμ™€ κ°™μ΄ κ°’μ„ μ…λ ¥ν•κ³  μ‹¤ν–‰ν•©λ‹λ‹¤.
    
```GraphQL
mutation MyMutation {
  createStudent(input: {name: "Mike", age: 25, certified: true}) {
	id
	name
	age
	certified
  }
}
```
    
3. **λ°μ΄ν„° μ΅°ν(Query)**: `listStudents` μΏΌλ¦¬λ¥Ό μ‹¤ν–‰ν•μ—¬ DynamoDBμ— μ €μ¥λ ν•™μƒ λ©λ΅μ„ μ΅°νν•©λ‹λ‹¤.

```GraphQL
query MyQuery {
  listStudents {
	items {
	  id
	  name
	  age
	  certified
	}
  }
}
```
    
μ΄ μΏΌλ¦¬λ¥Ό μ‹¤ν–‰ν•λ©΄, DynamoDBμ— μ €μ¥λ Mikeμ™€ Aliceμ μ •λ³΄κ°€ GraphQL ν•μ‹μΌλ΅ λ°ν™λ©λ‹λ‹¤. AWS DynamoDB μ½μ†”μ—μ„λ„ `StudentTable`μ— λ°μ΄ν„°κ°€ μ •μƒμ μΌλ΅ μ €μ¥λ κ²ƒμ„ ν™•μΈν•  μ μμµλ‹λ‹¤.
    

---

## 3. π” API μ„¤μ • λ° μΈμ¦

AppSyncλ” λ‹¤μ–‘ν• μΈμ¦ λ¨λ“λ¥Ό μ§€μ›ν•λ©°, API μ—”λ“ν¬μΈνΈμ™€ κΈ°νƒ€ μ„¤μ •μ„ κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.

- **μ„¤μ •(Settings)**: GraphQL API μ—”λ“ν¬μΈνΈμ™€ μ‹¤μ‹κ°„(Real-time) μ—”λ“ν¬μΈνΈλ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.
    
- **κ¶ν• λ¶€μ—¬(Authorization)**: API ν‚¤, IAM, OpenID Connect, Cognito User Pools λ“± λ‹¤μ–‘ν• μΈμ¦ λ°©μ‹μ„ μ„¤μ •ν•μ—¬ APIμ— λ€ν• μ ‘κ·Όμ„ μ μ–΄ν•  μ μμµλ‹λ‹¤. μ—¬λ¬ μΈμ¦ λ¨λ“λ¥Ό λ™μ‹μ— μ‚¬μ©ν•λ” κ²ƒλ„ κ°€λ¥ν•©λ‹λ‹¤.
    
- **λ¨λ‹ν„°λ§(Monitoring)**: CloudWatchλ¥Ό ν†µν•΄ API μ”μ²­, μ¤λ¥, μ§€μ—° μ‹κ°„ λ“± λ‹¤μ–‘ν• μ§€ν‘λ¥Ό ν™•μΈν•  μ μμµλ‹λ‹¤.
    
- **μ‚¬μ©μ μ§€μ • λ„λ©”μΈ(Custom Domain)**: APIλ¥Ό μ»¤μ¤ν…€ λ„λ©”μΈμΌλ΅ νΈμ¤ν…ν•  μ μμµλ‹λ‹¤.
    

μ΄ μ‹¤μµμ„ ν†µν•΄ AppSyncκ°€ DynamoDBμ™€ κ°™μ€ λ°±μ—”λ“ λ°μ΄ν„° μ†μ¤ μ„μ— GraphQL APIλ¥Ό κµ¬μ¶•ν•λ” κ³Όμ •μ„ μ–Όλ§λ‚ λ‹¨μν™”ν•λ”μ§€ ν™•μΈν•  μ μμµλ‹λ‹¤. GraphQLμ μ μ—°ν• λ°μ΄ν„° μ”μ²­ λ°©μ‹κ³Ό AppSyncμ μ™„μ „ κ΄€λ¦¬ν• μ„λΉ„μ¤λ” μ›Ή λ° λ¨λ°”μΌ μ• ν”λ¦¬μΌ€μ΄μ… κ°λ°μ„ ν¬κ² ν¨μ¨ν™”ν•©λ‹λ‹¤.