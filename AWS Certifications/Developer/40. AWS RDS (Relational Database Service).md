
## 관리형 관계형 데이터베이스 서비스

AWS **RDS (Relational Database Service)**는 클라우드에서 관계형 데이터베이스를 쉽게 설정, 운영 및 확장할 수 있도록 도와주는 완전 관리형 서비스입니다. 데이터베이스 관리에 드는 시간과 비용을 절감하면서 애플리케이션 개발에 집중할 수 있도록 다양한 이점을 제공합니다.

---

### 1. RDS란 무엇인가요?

RDS는 SQL(Structured Query Language)을 쿼리 언어로 사용하는 데이터베이스를 위한 관리형 서비스입니다. AWS가 데이터베이스의 프로비저닝, 패치, 백업, 모니터링 등 운영에 필요한 많은 부분을 자동으로 처리해 줍니다.

#### 1.1. 지원하는 데이터베이스 엔진

AWS RDS는 다양한 인기 관계형 데이터베이스 엔진을 지원합니다.

- **PostgreSQL**
- **MySQL**
- **MariaDB**
- **Oracle**
- **Microsoft SQL Server**
- **IBM DB2**
- **Amazon Aurora:** AWS의 자체 독점 데이터베이스 엔진으로, MySQL 및 PostgreSQL과 호환되면서도 더 높은 성능과 가용성을 제공합니다.

---

### 2. EC2에 직접 데이터베이스를 배포하는 대신 RDS를 사용하는 이유

RDS는 EC2 인스턴스에 직접 데이터베이스를 설치하고 운영하는 것과 비교하여 다음과 같은 관리형 서비스의 이점을 제공합니다.

|기능|RDS (관리형)|EC2 (사용자 관리)|
|---|---|---|
|**데이터베이스 프로비저닝**|완전 자동화: 몇 번의 클릭으로 DB 인스턴스 생성 가능.|수동 설정: OS 설치, DB 소프트웨어 설치, 구성 등 모든 과정 직접 수행.|
|**운영 체제 패치**|AWS가 자동 관리: 보안 패치, OS 업데이트 자동 적용.|수동 관리: OS 및 DB 소프트웨어 패치를 직접 계획하고 적용해야 함.|
|**연속 백업 & 시점 복구 (Point in Time Restore)**|자동 백업 및 특정 시점으로 복원 기능 제공.|수동 설정: 백업 전략, 스크립트 작성, 복원 테스트 등 직접 구현.|
|**모니터링 대시보드**|CloudWatch를 통한 성능 메트릭, 로그 모니터링 대시보드 기본 제공.|수동 설정: 모니터링 도구 설치, 대시보드 구성 등 직접 구현.|
|**읽기 전용 복제본 (Read Replicas)**|읽기 성능 향상을 위해 클릭 한 번으로 읽기 전용 복제본 생성 가능.|수동 설정: 복제 구성, 복제 모니터링 등 직접 구현.|
|**다중 AZ (Multi-AZ) 배포**|재해 복구(DR) 및 고가용성을 위해 클릭 한 번으로 다른 가용 영역에 대기 인스턴스 자동 프로비저닝.|수동 설정: 고가용성 아키텍처 설계, 복제 구성, 페일오버 스크립트 등 직접 구현.|
|**유지보수 기간**|업그레이드 및 패치 적용을 위한 유지보수 기간 설정 가능.|직접 관리.|
|**확장성**|**수직 확장:** 인스턴스 유형 변경으로 CPU, 메모리 증설.  <br>**수평 확장:** 읽기 전용 복제본 추가로 읽기 부하 분산.|수동으로 인스턴스 크기 조절 또는 클러스터링 구성.|
|**스토리지**|EBS(Elastic Block Store) 기반.|EBS 또는 인스턴스 스토어 선택 가능.|
|**SSH 접근**|불가능: AWS가 DB 인스턴스의 OS 수준 접근을 제한하여 관리 복잡성 감소.|가능: EC2 인스턴스에 SSH로 접속하여 OS 및 DB 설정 직접 제어.|

---

### 3. RDS 스토리지 자동 확장 (RDS Storage Auto Scaling)

RDS의 강력한 기능 중 하나는 **스토리지 자동 확장(Storage Auto Scaling)**입니다.

- **문제점:** RDS 데이터베이스를 생성할 때 초기 스토리지 용량을 지정해야 합니다 (예: 20GB). 하지만 애플리케이션 사용량이 증가하여 데이터베이스의 저장 공간이 부족해질 수 있습니다.
- **해결책:** RDS 스토리지 자동 확장을 활성화하면, AWS가 데이터베이스의 저장 공간이 부족해질 조짐이 보이면 자동으로 스토리지 크기를 늘려줍니다. 이는 서비스 중단 없이 이루어지므로, 수동으로 스토리지 용량을 늘려야 하는 운영 부담을 없애줍니다.

#### 3.1. 스토리지 자동 확장 작동 조건 및 설정

스토리지 자동 확장은 다음 조건을 만족할 때 트리거될 수 있습니다.
- **사용 가능한 스토리지:** 할당된 스토리지 중 **10% 미만의 여유 공간**이 남아 있을 때.
- **지속 시간:** 이 낮은 스토리지 상태가 **5분 이상** 지속될 때.
- **최근 수정:** 마지막 스토리지 수정 이후 **6시간 이상**이 경과했을 때.

이러한 조건이 충족되면, RDS는 자동으로 스토리지 크기를 증가시킵니다.

#### 3.2. 설정 파라미터

스토리지 자동 확장을 설정할 때, **최대 스토리지 임계값(Maximum Storage Threshold)**을 지정하여 스토리지 용량이 무한정 늘어나는 것을 방지할 수 있습니다.

|설정 항목|설명|
|---|---|
|**최대 스토리지 임계값**|RDS 스토리지 자동 확장이 허용하는 최대 스토리지 용량입니다 (예: 1000GB).|

#### 3.3. 이점

- **예측 불가능한 워크로드 대응:** 데이터 사용량이 예측하기 어려운 애플리케이션에 매우 유용합니다.
- **운영 오버헤드 감소:** 스토리지 부족 경고에 대응하고 수동으로 스토리지 크기를 조절할 필요가 없어집니다.
- **모든 엔진 지원:** RDS가 지원하는 모든 데이터베이스 엔진에서 스토리지 자동 확장을 사용할 수 있습니다.

---

### 결론

AWS RDS는 관계형 데이터베이스 관리를 단순화하고 자동화하여, 개발자가 인프라 운영보다는 애플리케이션 개발에 집중할 수 있도록 돕는 강력한 서비스입니다. 특히 스토리지 자동 확장과 같은 기능은 예측 불가능한 워크로드에서도 데이터베이스의 안정성을 보장하여, 클라우드 환경의 이점을 극대화합니다.
