

람다 함수를 실제 운영 환경에서 관리할 때, 코드 변경사항을 체계적으로 배포하고 관리하는 것이 중요합니다. **버전(Versions)**과 **별칭(Aliases)**은 이러한 요구사항을 충족시켜주는 핵심 기능입니다.

---

## 1. 람다 버전(Versions)

![[Pasted image 20250831214252.png]]

람다 함수의 **버전**은 코드와 구성을 **변경 불가능(immutable)**한 상태로 저장하는 기능입니다.

- **$LATEST:** 람다 함수를 처음 생성하면 `$LATEST` 버전으로 시작합니다. 이 버전은 코드를 계속 수정하고 테스트할 수 있는 **변경 가능한** 개발 환경입니다.
    
- **버전 발행(Publish):** 함수 코드에 대한 테스트가 완료되고 배포 준비가 되었다고 판단되면, `$LATEST` 버전의 스냅샷을 찍어 새로운 버전을 발행할 수 있습니다. 예를 들어, 첫 번째 발행은 **V1**, 두 번째는 **V2**가 됩니다.
    
- **불변성:** 한번 발행된 버전(V1, V2 등)은 코드, 환경 변수 등 어떠한 구성도 변경할 수 없습니다. 이는 특정 시점의 함수 상태를 안정적으로 보장해줍니다.
    
- **고유 ARN:** 각 버전은 고유한 ARN(Amazon Resource Name)을 가지므로, 특정 버전을 정확하게 호출하거나 참조할 수 있습니다.

---

## 2. 람다 별칭(Aliases)

![[Pasted image 20250831214302.png]]

**별칭**은 람다 함수의 특정 버전을 가리키는 **포인터(pointer)** 역할을 합니다. 별칭은 **변경 가능(mutable)**하며, 특정 버전의 함수를 가리키게 하여 사용자에게 일관된 엔드포인트를 제공합니다.

- **주요 역할:**
    
    - **안정적인 엔드포인트:** 개발(DEV), 테스트(TEST), 운영(PROD)과 같은 별칭을 생성하여 각각 다른 버전을 가리키게 할 수 있습니다. 이렇게 하면 API 게이트웨이나 다른 트리거는 항상 동일한 별칭 ARN을 호출할 수 있어, 백엔드 버전이 변경되어도 안정성이 유지됩니다.
        
    - **카나리 배포(Canary Deployments):** 별칭을 사용하여 트래픽을 여러 버전으로 분산할 수 있습니다. 예를 들어, `PROD` 별칭의 트래픽을 95%는 안정적인 V1으로, 5%는 새로 배포된 V2로 나누어 보냄으로써 V2의 동작을 실제 트래픽에서 검증할 수 있습니다. 문제가 없다고 판단되면 V2의 트래픽 비중을 100%로 전환합니다.
        

### 버전과 별칭의 관계

|구분|버전(Version)|별칭(Alias)|
|---|---|---|
|**변경 가능성**|**불변(Immutable)**|**변경 가능(Mutable)**|
|**용도**|특정 시점의 코드 스냅샷|특정 버전을 가리키는 포인터|
|**주요 역할**|코드의 안정성 및 영속성 보장|배포 관리, 카나리 배포, 안정적 엔드포인트 제공|
|**참조 대상**|고정된 코드와 환경 변수|**특정 버전만 참조 가능** (다른 별칭은 참조 불가)|

**⚠️ 중요:** 별칭은 다른 별칭을 참조할 수 없으며, 반드시 버전만 참조해야 합니다. 이 점은 시험에서 혼동을 유발할 수 있으므로 주의해야 합니다.