
**람다 환경 변수**는 함수 코드를 수정하지 않고도 함수의 동작을 유연하게 변경할 수 있도록 해주는 핵심 기능입니다. 이는 **키-값 쌍** 형태로 구성되며, 람다 함수가 실행될 때 코드 내에서 접근할 수 있습니다.

---

## 1. 환경 변수란?

환경 변수는 애플리케이션의 설정값을 관리하는 데 널리 사용되는 방법입니다. 람다 함수에서도 마찬가지로, 데이터베이스 연결 문자열, API 키, 기능 플래그 등과 같이 **환경에 따라 달라지는 값**을 코드와 분리하여 관리할 수 있습니다.

- **코드와 설정 분리:** 환경 변수를 사용하면 개발, 테스트, 운영 등 각기 다른 환경에 맞춰 람다 함수를 배포할 때 코드를 변경할 필요가 없습니다.
    
- **보안:** AWS KMS를 통해 환경 변수를 암호화하여 민감한 정보를 안전하게 저장할 수 있습니다.

---

## 2. 람다 함수에서 환경 변수 사용하기 (Python 예시)

다음은 Python 람다 함수에서 환경 변수를 설정하고 사용하는 간단한 실습 과정입니다.

### 1단계: 람다 함수 코드 수정

`os` 패키지를 임포트하여 `os.getenv()` 메서드를 통해 환경 변수의 값을 읽어옵니다.

```Python
import os

def lambda_handler(event, context):
    # 'ENVIRONMENT_NAME'이라는 환경 변수의 값을 가져옵니다.
    env_name = os.getenv('ENVIRONMENT_NAME')
    
    # 가져온 값을 반환합니다.
    return {
        'statusCode': 200,
        'body': f'The environment is: {env_name}'
    }
```

### 2단계: 람다 함수 설정에 환경 변수 추가

1. 람다 콘솔에서 **`Configuration`** 탭으로 이동합니다.
    
2. 왼쪽 메뉴에서 **`Environment variables`**를 선택하고 **`Edit`**을 클릭합니다.
    
3. **`Add environment variable`**을 클릭하여 새로운 키-값 쌍을 추가합니다.
    - **Key:** `ENVIRONMENT_NAME`
    - **Value:** `dev`

### 3단계: 함수 테스트

환경 변수를 `dev`로 설정한 후 함수를 테스트하면, 응답 본문에 `The environment is: dev`가 포함된 것을 확인할 수 있습니다.

이제 환경 변수의 값을 `dev`에서 `prod`로 변경하고 저장합니다. **코드 자체는 수정하지 않았지만**, 함수를 다시 테스트하면 응답이 `The environment is: prod`로 변경된 것을 볼 수 있습니다.

### 환경 변수 암호화 🔐

환경 변수에는 기본적으로 KMS(Key Management Service)가 적용되어, AWS에서 자동으로 암호화하여 저장합니다. 이를 통해 API 키나 비밀번호와 같은 **민감한 값**을 안전하게 관리할 수 있습니다.

환경 변수 기능을 활용하면 코드의 재사용성을 높이고, 배포 프로세스를 간소화하며, 설정 관리를 효율적으로 할 수 있습니다.