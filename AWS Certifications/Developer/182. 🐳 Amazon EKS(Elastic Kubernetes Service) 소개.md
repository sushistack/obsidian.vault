
### 🚀 Amazon EKS란?

**Amazon EKS(Elastic Kubernetes Service)**는 AWS에서 **Kubernetes(쿠버네티스) 클러스터**를 손쉽게 배포, 관리, 확장할 수 있도록 도와주는 완전 관리형 서비스입니다. Kubernetes는 컨테이너화된 애플리케이션의 배포, 스케일링, 관리 등을 자동화해주는 오픈소스 시스템입니다.

AWS EKS는 AWS 환경에서 Kubernetes를 운영하는 데 필요한 마스터 노드(컨트롤 플레인)를 AWS가 대신 관리해주므로, 사용자는 워커 노드(EC2 인스턴스)에만 집중할 수 있습니다.

|특징|Amazon EKS|Amazon ECS|
|---|---|---|
|**운영 주체**|**오픈소스 (Cloud-agnostic)**|**AWS 전용**|
|**주요 개념**|**Pod**, **Node**, **Service**|**Task**, **Cluster**, **Service**|
|**API**|**Kubernetes API**|**AWS ECS API**|
|**유연성**|다양한 클라우드 환경 및 온프레미스와 호환|AWS 환경에 최적화|

![[Pasted image 20250811221803.png]]

---

### 🌐 EKS의 워커 노드 배포 방식

EKS는 컨테이너가 실제로 실행되는 워커 노드를 관리하기 위한 여러 옵션을 제공합니다.

- **관리형 노드 그룹 (Managed Node Groups)**:
    
    - 가장 일반적인 방식으로, AWS가 EC2 인스턴스로 구성된 워커 노드를 생성하고 관리합니다.
    - 자동 스케일링 그룹(Auto Scaling Group)을 사용하여 노드의 수를 자동으로 조절합니다.1
    - 온디맨드(On-Demand) 및 스팟 인스턴스를 지원합니다.

- **자체 관리형 노드 (Self-Managed Nodes)**:
    
    - 사용자가 직접 EC2 인스턴스를 생성하고 EKS 클러스터에 등록하는 방식입니다.
    - 노드에 대한 더 세밀한 제어와 사용자 정의가 필요한 경우에 적합합니다.
    - AWS에서 제공하는 EKS 최적화 AMI를 사용하면 설정 시간을 단축할 수 있습니다.

- **AWS Fargate**:
    
    - 서버리스(Serverless) 방식으로, 워커 노드 인프라를 전혀 관리할 필요가 없습니다.
    - 컨테이너를 실행할 Pod 단위로 컴퓨팅 리소스가 프로비저닝됩니다.
    - 가장 간편한 EKS 운영 방식이지만, 지원하는 스토리지 유형(EFS) 등 일부 제약이 있을 수 있습니다.

---

### 💾 EKS에서 스토리지 볼륨 사용하기

컨테이너는 일반적으로 상태가 없는(stateless) 방식으로 운영되지만, 영구적인 데이터를 저장해야 하는 경우 스토리지 볼륨을 연결할 수 있습니다.

- **CSI 드라이버**: EKS 클러스터는 **CSI(Container Storage Interface) 호환 드라이버**를 통해 다양한 AWS 스토리지 서비스를 컨테이너에 연결합니다.
    
- **지원 스토리지**:
    
    - **Amazon EBS (Elastic Block Store)**: EKS 워커 노드(EC2)에 블록 스토리지 볼륨을 연결합니다.2
    - **Amazon EFS (Elastic File System)**: 여러 Pod에서 동시에 접근 가능한 파일 스토리지입니다. Fargate 모드에서도 유일하게 지원하는 스토리지 유형입니다.
    - **Amazon FSx for Lustre/NetApp ONTAP**: 고성능 컴퓨팅(HPC) 워크로드에 적합한 파일 시스템을 제공합니다.
