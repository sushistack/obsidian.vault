

**스택 정책**은 CloudFormation 스택에 적용되는 JSON 문서로, 스택 업데이트 시 특정 리소스에 대한 업데이트 작업을 제어하여 실수로 중요한 리소스가 변경되는 것을 방지합니다.

#### 주요 기능

- **의도치 않은 업데이트 방지**: 프로덕션 환경의 데이터베이스와 같이 중요한 리소스가 스택 업데이트 중 실수로 변경되거나 삭제되는 것을 막는 데 사용됩니다.
- **리소스 보호**: 특정 리소스에 대한 `Update: *` (모든 업데이트 작업)을 명시적으로 `Deny`하여 보호합니다.

#### 기본 동작

- 스택 정책이 **없을 경우**: 모든 리소스에 대한 모든 업데이트 작업이 기본적으로 허용됩니다.
- 스택 정책이 **있을 경우**: 기본적으로 모든 리소스가 보호됩니다. 따라서 업데이트를 허용하려는 리소스에 대해 **명시적인 `Allow`** 권한을 부여해야 합니다.

#### 예시

다음 JSON 예시는 모든 리소스에 대한 업데이트를 허용하되, 이름이 `ProductionDatabase`인 리소스에 대한 모든 업데이트를 명시적으로 거부하는 정책입니다.

```JSON
{
  "Statement": [
    {
      "Effect": "Allow",
      "Action": "Update:*",
      "Principal": "*",
      "Resource": "*"
    },
    {
      "Effect": "Deny",
      "Action": "Update:*",
      "Principal": "*",
      "Resource": {
        "Fn::GetAtt": ["ProductionDatabase", "Arn"]
      }
    }
  ]
}
```

이처럼 스택 정책은 중요한 인프라 구성 요소의 안정성을 보장하기 위한 핵심 보안 기능입니다.