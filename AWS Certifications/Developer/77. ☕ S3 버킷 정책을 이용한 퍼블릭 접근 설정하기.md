
Amazon S3 버킷의 특정 파일을 전 세계 누구나 접근할 수 있도록 공개 URL을 만들고 싶다면, **버킷 정책(Bucket Policy)**을 설정해야 합니다. 이 작업은 민감한 데이터 유출로 이어질 수 있는 **위험한 작업**이므로, 퍼블릭 접근이 필요한 경우에만 신중하게 진행해야 합니다.

아래에서는 `coffee.jpg` 파일을 공개 URL을 통해 접근할 수 있도록 설정하는 과정을 단계별로 설명합니다.

#### 1단계: 버킷 설정에서 퍼블릭 액세스 차단 해제하기 🔓

가장 먼저 해야 할 일은 버킷의 **"퍼블릭 액세스 차단(Block Public Access)"** 설정을 해제하는 것입니다. 이 설정은 기본적으로 활성화되어 있어 모든 퍼블릭 접근을 차단합니다. 이 설정을 해제해야만 버킷 정책을 통해 퍼블릭 액세스를 허용할 수 있습니다.

1. S3 콘솔에서 해당 버킷을 선택합니다.
2. `권한(Permissions)` 탭으로 이동합니다.
3. `퍼블릭 액세스 차단(Block Public Access)` 섹션에서 `편집(Edit)`을 클릭합니다.
4. `모든 퍼블릭 액세스 차단`의 체크를 **해제**합니다.
5. 경고 메시지를 확인하고 `변경 사항 저장(Save changes)`을 클릭합니다.

⚠️ **주의사항:** 이 설정을 해제하면 버킷이 퍼블릭 상태가 될 수 있는 가능성이 열리므로, 반드시 의도한 대로만 사용해야 합니다.

#### 2단계: S3 버킷 정책 생성하기 ✍️

이제 실제로 퍼블릭 접근을 허용하는 **버킷 정책**을 생성할 차례입니다. AWS 콘솔의 `정책 생성기(Policy Generator)`를 활용하면 쉽게 JSON 형식의 정책을 만들 수 있습니다.

1. `권한(Permissions)` 탭에서 `버킷 정책(Bucket policy)` 섹션을 찾습니다.
2. `편집(Edit)`을 클릭합니다.
3. `정책 생성기(Policy generator)`를 클릭하여 새 창을 엽니다.
4. **정책 생성기 설정:**
    - **Select Type of Policy:** `S3 Bucket Policy`를 선택합니다.
    - **Effect:** `Allow`를 선택합니다.
    - **Principal:** `*` (모든 사용자)를 입력합니다.
    - **Actions:** `GetObject`를 선택합니다.
    - **Amazon Resource Name (ARN):** 버킷의 ARN을 입력합니다. (예: `arn:aws:s3:::your-bucket-name`) **마지막에 `/*`를 추가하여 버킷 내 모든 객체에 정책이 적용되도록 설정합니다.** (예: `arn:aws:s3:::your-bucket-name/*`)

|설정 항목|값|설명|
|---|---|---|
|**Select Type of Policy**|`S3 Bucket Policy`|S3 버킷에 적용할 정책 유형입니다.|
|**Effect**|`Allow`|액세스를 허용합니다.|
|**Principal**|`*`|모든 사용자(익명 사용자 포함)를 의미합니다.|
|**Actions**|`s3:GetObject`|S3 객체를 읽는(다운로드) 권한입니다.|
|**ARN**|`arn:aws:s3:::`_`your-bucket-name`_`/*`|`your-bucket-name` 버킷의 모든 객체를 지정합니다.|

5. `Add Statement`를 클릭한 후, `Generate Policy`를 클릭합니다.
6. 생성된 JSON 정책을 복사하여 S3 버킷 정책 편집기 창에 붙여넣습니다.

- **생성된 정책 예시:**
    
    ```JSON
    {
      "Id": "Policy1717387346399",
      "Version": "2012-10-17",
      "Statement": [
        {
          "Sid": "Stmt1717387345091",
          "Action": [
            "s3:GetObject"
          ],
          "Effect": "Allow",
          "Principal": "*",
          "Resource": "arn:aws:s3:::your-bucket-name/*"
        }
      ]
    }
    ```
    

#### 3단계: 퍼블릭 URL로 객체 접근 확인하기 ✅

정책을 저장한 후, 이제 S3 객체의 퍼블릭 URL을 통해 웹 브라우저에서 직접 접근할 수 있는지 확인합니다.

1. S3 콘솔에서 `객체(Objects)` 탭으로 이동합니다.
2. 공개하려는 파일(예: `coffee.jpg`)을 선택합니다.
3. **객체 URL(Object URL)**을 복사합니다.
4. 새 웹 브라우저 탭에 URL을 붙여넣고 엔터키를 누르면, 이제 이미지 파일이 정상적으로 표시되는 것을 확인할 수 있습니다.

이제 여러분의 S3 버킷에 있는 `coffee.jpg` 파일뿐만 아니라, 이 버킷에 업로드된 모든 객체가 퍼블릭 액세스 정책에 따라 공개적으로 접근 가능하게 됩니다.