
지금까지 배운 VPC, 서브넷, 로드 밸런서, Auto Scaling 그룹 등의 개념을 결합하여 실제 서비스에 적용되는 일반적인 아키텍처를 이해하는 시간입니다. 특히, 시험에서 자주 등장하는 **3계층 아키텍처(Three-Tier Solution Architecture)**와 몇 가지 추가적인 아키텍처 패턴을 살펴봅니다.

---

### 1. 3계층 솔루션 아키텍처 (Three-Tier Solution Architecture) 🏢

![[Pasted image 20250727173406.png]]

3계층 아키텍처는 애플리케이션을 세 가지 논리적 계층(Layer)으로 분리하여 보안과 확장성을 높이는 설계 방식입니다.1

#### 1.1. 웹 계층 (Web Tier)

- **구성**: **Elastic Load Balancer (ELB)**가 퍼블릭 서브넷에 배치됩니다.
- **역할**: 사용자로부터 들어오는 모든 웹 트래픽을 받아서 다음 계층으로 분산합니다. ELB는 인터넷에 직접 노출되어야 하므로 퍼블릭 서브넷에 위치합니다.
- **특징**: Route 53을 통해 ELB의 DNS 엔드포인트로 트래픽을 라우팅합니다.

#### 1.2. 애플리케이션 계층 (Application Tier)

- **구성**: **Auto Scaling Group**에 속한 EC2 인스턴스들이 **프라이빗 서브넷**에 배치됩니다.
- **역할**: 웹 애플리케이션의 핵심 로직을 처리합니다.
- **특징**: 이 계층의 EC2 인스턴스는 로드 밸런서로부터만 트래픽을 받으면 되기 때문에, 보안 강화를 위해 인터넷에 직접 노출되지 않는 프라이빗 서브넷에 위치합니다.

#### 1.3. 데이터 계층 (Data Tier)

- **구성**: **Amazon RDS (관계형 데이터베이스)** 또는 **Amazon ElastiCache**와 같은 데이터베이스 서비스가 **두 번째 프라이빗 서브넷**에 배치됩니다. 이 서브넷을 `데이터 서브넷`이라고 부르기도 합니다.
- **역할**: 애플리케이션에서 사용하는 데이터를 저장하고 관리합니다.
- **특징**: 가장 중요한 정보가 담겨 있으므로, 외부 인터넷은 물론이고 웹 계층에서도 직접 접근할 수 없도록 가장 격리된 프라이빗 서브넷에 위치합니다.

### 2. LAMP 스택 아키텍처 💡

`LAMP`는 웹 애플리케이션을 구축하는 데 사용되는 소프트웨어 스택의 약어입니다.

- **L**: **Linux** (운영체제)
- **A**: **Apache** (웹 서버)
- **M**: **MySQL** (데이터베이스, RDS MySQL로 대체 가능)
- **P**: **PHP** (애플리케이션 로직)

이 스택은 EC2 인스턴스에 구축되며, 위에 설명한 3계층 아키텍처와 결합될 수 있습니다. 또한, ElastiCache(Redis/Memcached)를 추가하여 데이터베이스의 성능을 향상시키는 캐싱 기술을 적용할 수 있습니다.

### 3. 워드프레스(Wordpress) 아키텍처 📝

워드프레스는 널리 사용되는 블로그 및 웹사이트 구축 도구입니다. AWS에서 워드프레스를 구축할 때는 공유 파일 시스템이 필수적입니다.

- **문제**: 여러 EC2 인스턴스가 사용자의 이미지나 파일을 처리할 때, 각 인스턴스마다 별도로 저장되면 데이터 불일치 문제가 발생합니다.
- **해결**: **Amazon EFS (Elastic File System)**를 사용합니다.
    - **EFS**: EC2 인스턴스에 연결하여 사용할 수 있는 **네트워크 파일 시스템**입니다.2
    - **작동 방식**: EFS는 각 가용 영역에 탄력적 네트워크 인터페이스(ENI)를 생성하며, Auto Scaling 그룹 내의 모든 EC2 인스턴스는 이 EFS에 접속하여 파일을 공유할 수 있습니다.
- **전체 구성**: 로드 밸런서, Auto Scaling 그룹, EFS, 그리고 RDS 데이터베이스를 결합하여 고가용성을 갖춘 워드프레스 아키텍처를 구축할 수 있습니다.

> **AWS 공식 워드프레스 아키텍처**: AWS 웹사이트에서 제공하는 상세 아키텍처 다이어그램을 보면, 지금까지 배운 NAT 게이트웨이, 인터넷 게이트웨이, EFS, Aurora 등의 개념들이 모두 활용되는 것을 확인할 수 있습니다.

### 4. 결론 💡

이 강의를 통해 단순한 리소스 배포를 넘어, VPC 서브넷 구조와 다양한 AWS 서비스를 결합하여 안전하고 확장 가능한 실용적인 아키텍처를 설계하는 방법을 배웠습니다. 이러한 지식은 AWS 개발자 자격증 시험을 넘어, 실제 솔루션을 구축하는 데 있어 매우 중요한 기반이 됩니다.
