
AWS Systems Manager(SSM) νλΌλ―Έν„° μ¤ν† μ–΄λ” μ• ν”λ¦¬μΌ€μ΄μ…μ μ„¤μ • λ° λΉ„λ°€ μ •λ³΄λ¥Ό μ•μ „ν•κ² μ €μ¥ν•κ³  κ΄€λ¦¬ν•λ” μ„λΉ„μ¤μ…λ‹λ‹¤. μ΄ κ°€μ΄λ“μ—μ„λ” AWS μ½μ†”κ³Ό CLIλ¥Ό μ‚¬μ©ν•μ—¬ νλΌλ―Έν„°λ¥Ό μƒμ„±ν•κ³ , κ³„μΈµ κµ¬μ΅°λ¥Ό ν™μ©ν•λ©°, μ•”νΈν™”λ κ°’μ„ μ•μ „ν•κ² μ‚¬μ©ν•λ” λ°©λ²•μ„ λ‹¨κ³„λ³„λ΅ μ•λ‚΄ν•©λ‹λ‹¤.

---

## 1. β™οΈ νλΌλ―Έν„° μƒμ„±: κ³„μΈµ κµ¬μ΅° λ° μ ν•

### λ‹¨κ³„ 1: νλΌλ―Έν„° μƒμ„±

νλΌλ―Έν„° μ¤ν† μ–΄μ—μ„ `Create parameter`λ¥Ό ν΄λ¦­ν•μ—¬ μƒλ΅μ΄ νλΌλ―Έν„°λ¥Ό μƒμ„±ν•©λ‹λ‹¤.

- **μ΄λ¦„(Name)**: νλΌλ―Έν„° μ΄λ¦„μ€ `/`λ¥Ό μ‚¬μ©ν•μ—¬ **κ³„μΈµ κµ¬μ΅°**λ¥Ό λ§λ“­λ‹λ‹¤. μ΄λ” ν™κ²½(dev, prod), μ• ν”λ¦¬μΌ€μ΄μ…λ³„λ΅ κµ¬μ„± μ •λ³΄λ¥Ό μ²΄κ³„μ μΌλ΅ κ΄€λ¦¬ν•λ” λ° λ§¤μ° μ μ©ν•©λ‹λ‹¤.
    
    - **μμ‹**: `/my-app/dev/db-url`
        
- **ν‹°μ–΄(Tier)**:
    
    - **Standard**: μµλ€ 4KB ν¬κΈ°, 10,000κ°κΉμ§€ λ¬΄λ£.
        
    - **Advanced**: μµλ€ 8KB ν¬κΈ°, 100,000κ°κΉμ§€ κ°€λ¥ν•λ©°, μ¶”κ°€ λΉ„μ©μ΄ λ°μƒν•©λ‹λ‹¤.
        
- **μ ν•(Type)**:
    
    - **String**: μΌλ° ν…μ¤νΈλ¥Ό μ €μ¥ν•©λ‹λ‹¤.
        
    - **StringList**: μ‰Όν‘λ΅ κµ¬λ¶„λ λ¬Έμμ—΄ λ©λ΅μ„ μ €μ¥ν•©λ‹λ‹¤.
        
    - **SecureString**: KMS(Key Management Service) ν‚¤λ΅ **μ•”νΈν™”ν•μ—¬ μ €μ¥**ν•©λ‹λ‹¤. λ―Όκ°ν• μ •λ³΄(λΉ„λ°€λ²νΈ, API ν‚¤ λ“±)μ— μ‚¬μ©ν•©λ‹λ‹¤.
        

### λ‹¨κ³„ 2: SecureString νλΌλ―Έν„° μƒμ„± (KMS μ—°λ™)

λ°μ΄ν„°λ² μ΄μ¤ λΉ„λ°€λ²νΈμ™€ κ°™μ€ λ―Όκ°ν• μ •λ³΄λ” `SecureString` μ ν•μ„ μ„ νƒν•μ—¬ μ•”νΈν™”ν•΄μ•Ό ν•©λ‹λ‹¤.

- **μ ν•**: `SecureString` μ„ νƒ.
    
- **KMS ν‚¤**: `SecureString`μ€ KMS ν‚¤λ¥Ό μ‚¬μ©ν•μ—¬ μ•”νΈν™”λλ―€λ΅, μ•”νΈν™”μ— μ‚¬μ©ν•  ν‚¤λ¥Ό μ„ νƒν•΄μ•Ό ν•©λ‹λ‹¤. SSM κΈ°λ³Έ ν‚¤(`alias/aws/ssm`) λλ” μ§μ ‘ μƒμ„±ν• **κ³ κ° κ΄€λ¦¬ν• ν‚¤**λ¥Ό μ‚¬μ©ν•  μ μμµλ‹λ‹¤.
    
- **κ°’(Value)**: λΉ„λ°€λ²νΈ(`devpassword`)μ™€ κ°™μ€ κ°’μ„ μ…λ ¥ν•λ©΄, νλΌλ―Έν„° μ¤ν† μ–΄κ°€ μ΄ κ°’μ„ μλ™μΌλ΅ μ•”νΈν™”ν•μ—¬ μ €μ¥ν•©λ‹λ‹¤.
    

---

## 2. π’» CLIλ¥Ό ν™μ©ν• νλΌλ―Έν„° μ ‘κ·Ό

νλΌλ―Έν„°λ” AWS CLIλ¥Ό ν†µν•΄ μ†μ‰½κ² μ΅°νν•κ³  μ‚¬μ©ν•  μ μμµλ‹λ‹¤. λ‹¤μμ€ CloudShellμ—μ„ μ‹¤ν–‰ν•  μ μλ” λ…λ Ήμ–΄ μμ‹μ…λ‹λ‹¤.

### 1. `get-parameters`λ΅ νΉμ • νλΌλ―Έν„° μ΅°ν

`get-parameters` λ…λ Ήμ€ ν•λ‚ μ΄μƒμ νλΌλ―Έν„° μ΄λ¦„μ„ μ§€μ •ν•μ—¬ κ°’μ„ κ°€μ Έμµλ‹λ‹¤.

- **μΌλ° νλΌλ―Έν„°**: `String` μ ν•μ κ°’μ€ ν‰λ¬ΈμΌλ΅ λ°ν™λ©λ‹λ‹¤.

    
```Bash
aws ssm get-parameters --names "/my-app/dev/db-url"
```

```JSON
{
	"Parameters": [
		{
			"Name": "/my-app/dev/db-url",
			"Type": "String",
			"Value": "dev.database.stephantheteacher.com"
		}
	]
}
```
    
- **SecureString νλΌλ―Έν„°**: `--with-decryption` ν”λκ·Έλ¥Ό μ¶”κ°€ν•΄μ•Ό λ³µνΈν™”λ κ°’μ„ μ–»μ„ μ μμµλ‹λ‹¤. μ΄ ν”λκ·Έ μ—†μ΄λ” μ•”νΈν™”λ λ¬Έμμ—΄μ΄ λ°ν™λ©λ‹λ‹¤.

```Bash
aws ssm get-parameters --names "/my-app/dev/db-password" --with-decryption
```
    
```JSON
{
	"Parameters": [
		{
			"Name": "/my-app/dev/db-password",
			"Type": "SecureString",
			"Value": "devpassword"
		}
	]
}
```
    
    **μ£Όμ**: μ΄ λ…λ Ήμ–΄λ¥Ό μ‹¤ν–‰ν•λ” IAM μ£Όμ²΄(μ‚¬μ©μ λλ” μ—­ν• )λ” ν•΄λ‹Ή νλΌλ―Έν„°μ— μ‚¬μ©λ KMS ν‚¤μ— λ€ν• `kms:Decrypt` κ¶ν•μ΄ μμ–΄μ•Ό ν•©λ‹λ‹¤.
    

### 2. `get-parameters-by-path`λ΅ κ³„μΈµ μ΅°ν

`get-parameters-by-path` λ…λ Ήμ€ κ³„μΈµ κµ¬μ΅°μ μ¥μ μ„ ν™μ©ν•μ—¬ νΉμ • κ²½λ΅ μ•„λμ λ¨λ“  νλΌλ―Έν„°λ¥Ό ν• λ²μ— μ΅°νν•©λ‹λ‹¤.

- **κΈ°λ³Έ κ²½λ΅ μ΅°ν**:

```Bash
# /my-app/dev κ²½λ΅μ— μλ” νλΌλ―Έν„°λ§ μ΅°ν
aws ssm get-parameters-by-path --path "/my-app/dev"
```
    
- **μ¬κ·€μ  μ΅°ν**: `--recursive` ν”λκ·Έλ¥Ό μ¶”κ°€ν•λ©΄ ν•μ„ κ²½λ΅μ— μλ” λ¨λ“  νλΌλ―Έν„°λ¥Ό μ¬κ·€μ μΌλ΅ μ΅°νν•  μ μμµλ‹λ‹¤.
    
```Bash
# /my-app κ²½λ΅ ν•μ„μ λ¨λ“  νλΌλ―Έν„° μ΅°ν (dev, prod ν¬ν•¨)
aws ssm get-parameters-by-path --path "/my-app" --recursive
```
    
- **λ³µνΈν™” ν¬ν•¨**: `--with-decryption` ν”λκ·Έλ¥Ό μ¶”κ°€ν•μ—¬ λ¨λ“  SecureString νλΌλ―Έν„°μ κ°’μ„ λ™μ‹μ— λ³µνΈν™”ν•  μ μμµλ‹λ‹¤.

```Bash
aws ssm get-parameters-by-path --path "/my-app" --recursive --with-decryption
```
    

---

## 3. π€ κ²°λ΅ 

SSM νλΌλ―Έν„° μ¤ν† μ–΄λ” λ‹¨μν• ν‚¤-κ°’ μ €μ¥μ†λ¥Ό λ„μ–΄, μ²΄κ³„μ μΈ κ³„μΈµ κµ¬μ΅°μ™€ KMSλ¥Ό ν™μ©ν• κ°•λ ¥ν• μ•”νΈν™” κΈ°λ¥μ„ μ κ³µν•©λ‹λ‹¤. CLIλ¥Ό ν†µν• μ‰¬μ΄ μ ‘κ·Όκ³Ό `SecureString`μ μ•μ „ν• μ‚¬μ©μ€ μ¤ν¬λ¦½νΈλ‚ μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ λ―Όκ°ν• μ •λ³΄λ¥Ό ν¨κ³Όμ μΌλ΅ κ΄€λ¦¬ν•λ” λ° ν° λ„μ›€μ΄ λ©λ‹λ‹¤.