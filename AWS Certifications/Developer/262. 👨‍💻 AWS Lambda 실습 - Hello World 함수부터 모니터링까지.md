이번 아티클에서는 **AWS Lambda**를 직접 실습하며 기본적인 작동 원리와 주요 기능에 대해 자세히 알아보겠습니다. 간단한 "Hello World" 함수를 생성하고, 실행하고, 테스트하며, 로그를 확인하는 과정을 통해 Lambda에 대한 이해를 높일 수 있습니다.

---

### 1. ⚙️ Lambda 함수 생성하기

1. **Lambda 콘솔**로 이동합니다.

2. `함수 생성(Create function)` 버튼을 클릭합니다.

3. `블루프린트 사용(Use a blueprint)` 옵션을 선택하고, `hello-world`를 검색합니다.

4. `hello-world-python`을 선택하고 다음 단계로 넘어갑니다.

5. **기본 정보 구성**

    - **함수 이름**: `HelloWorld`

    - **실행 역할**: `새 역할 생성(Create a new role from AWS policy templates)`을 선택하고, `기본 Lambda 권한이 있는 새 역할(New role with basic Lambda permissions)`을 선택합니다. 이 역할은 함수가 CloudWatch Logs에 로그를 기록할 수 있는 권한을 부여합니다.

6. `함수 생성(Create function)` 버튼을 클릭하여 함수를 생성합니다.


### 2. 📝 함수 코드 분석 및 실행

함수가 생성되면 자동으로 `함수 코드` 섹션이 나타납니다.

```Python
import json

def lambda_handler(event, context):
    # TODO implement
    return {
        'statusCode': 200,
        'body': json.dumps('Hello from Lambda!')
    }
```

- `lambda_handler`: 이것은 **핸들러(Handler)** 함수입니다. Lambda 함수가 호출될 때 실행되는 진입점 역할을 합니다.

- `event`: 함수를 트리거한 이벤트 데이터가 JSON 형식으로 전달됩니다.

- `context`: 런타임 정보, 요청 ID 등 호출에 대한 컨텍스트를 담고 있습니다.

함수가 실행되면 "Hello from Lambda!"라는 메시지를 포함한 JSON 응답을 반환하도록 작성되어 있습니다.

---

### 3. 🧪 함수 테스트하기

코드를 직접 실행하여 결과를 확인할 수 있습니다.

1. `테스트(Test)` 탭으로 이동합니다.
    
2. **테스트 이벤트 구성**
    
    - **이벤트 템플릿**: `hello-world` 템플릿을 사용하면 `key1`, `key2`, `key3`를 가진 JSON 객체가 기본 입력으로 제공됩니다.
        
    - **이벤트 이름**: `HelloWorldTestEvent`와 같이 이름을 지정합니다.
        
3. `테스트(Test)` 버튼을 클릭하면 함수가 실행되고, 실행 결과가 나타납니다. `실행 결과(Execution result)` 섹션에서 함수의 응답, 로그, 요약 정보를 확인할 수 있습니다.
    
4. 입력 이벤트를 조작하여 함수가 실패하는 경우도 테스트해볼 수 있습니다. 예를 들어, `key1`을 삭제하고 실행하면 코드에서 오류가 발생합니다.
    

### 4. 📈 CloudWatch를 통한 모니터링 및 로깅

Lambda는 **CloudWatch**와 긴밀하게 통합되어 있습니다.

1. `모니터링(Monitor)` 탭을 클릭하면 함수 호출 횟수, 실행 시간, 오류율 등의 지표를 CloudWatch에서 시각적으로 확인할 수 있습니다.
    
2. `CloudWatch Logs에서 보기(View CloudWatch logs)`를 클릭하면 함수의 모든 실행 로그를 확인할 수 있습니다.
    
3. 각 로그 스트림에는 함수의 `시작(START)`부터 `종료(END)`까지의 로그와 함께 `REPORT` 라인에 함수 실행 시간, 사용된 메모리 등 상세 정보가 기록됩니다. 이를 통해 함수 실행 중 발생한 오류를 쉽게 디버깅할 수 있습니다.
    

---

### 5. 🛠️ 함수 구성 및 권한 설정

`구성(Configuration)` 탭에서는 Lambda 함수의 다양한 설정을 변경할 수 있습니다.

- **일반 구성**: 함수의 메모리 크기(RAM), 타임아웃(Timeout), 환경 변수 등을 설정합니다. 메모리 크기를 늘리면 CPU 성능도 함께 향상된다는 점을 기억하세요.
    
- **권한**: 함수가 다른 AWS 서비스에 접근하기 위해 필요한 **IAM 실행 역할(Execution Role)**을 관리합니다. 예를 들어, Lambda 함수가 S3 버킷에 파일을 업로드하려면 해당 역할에 S3 쓰기 권한을 추가해야 합니다.
    
- **트리거**: 함수를 자동으로 실행시키는 **이벤트 소스(Event Source)**를 연결합니다. S3, API Gateway, DynamoDB 스트림, SQS 등 다양한 서비스가 트리거 역할을 할 수 있습니다.
    

이러한 기본적인 실습을 통해 AWS Lambda가 서버 관리 없이도 강력한 컴퓨팅 환경을 제공한다는 것을 직접 경험할 수 있습니다.