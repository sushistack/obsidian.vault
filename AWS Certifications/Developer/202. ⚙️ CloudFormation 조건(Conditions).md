
---

**조건**은 CloudFormation 템플릿 내에서 특정 논리에 따라 리소스 생성 또는 속성 할당을 제어하는 기능입니다. 이를 통해 템플릿의 재사용성을 높이고 다양한 환경(예: 개발, 테스트, 프로덕션)에 따라 다르게 리소스를 배포할 수 있습니다.

#### 조건의 사용 사례

- **환경별 배포**: 개발 환경에서는 비용 절감을 위해 작은 인스턴스를 사용하거나 특정 리소스를 생성하지 않고, 프로덕션 환경에서는 고성능 인스턴스와 추가적인 EBS 볼륨 등을 생성할 수 있습니다.
- **리전별 구성**: 특정 리전에서만 지원되는 리소스를 해당 리전에 배포할 때만 생성하도록 설정할 수 있습니다.
- **파라미터 값에 따른 동작**: 사용자가 입력한 파라미터 값에 따라 리소스의 생성 여부를 결정할 수 있습니다.

---

### 📝 조건 정의 및 적용

조건은 `Conditions` 섹션에 정의되며, `And`, `Equals`, `If`, `Not`, `Or`와 같은 내장 함수를 사용하여 논리식을 만듭니다.
#### 1. 조건 정의 예시

다음 예시는 **`Env`**라는 파라미터의 값이 **`prod`**일 경우에만 **`CreateProdResources`**라는 조건이 `true`가 되도록 정의합니다.

```YAML
Conditions:
  CreateProdResources:
    Fn::Equals:
      - !Ref Env
      - prod
```

YAML 단축형을 사용하면 `!Equals [!Ref Env, prod]`와 같이 표현할 수 있습니다.

---

#### 2. 조건 적용 예시

정의된 조건은 `Condition` 속성을 사용하여 리소스에 적용할 수 있습니다.

```YAML
Resources:
  MountPoint:
    Type: AWS::EC2::VolumeAttachment
    Condition: CreateProdResources  # 조건 적용
```

이 예시는 **`CreateProdResources`** 조건이 `true`일 때만 **`MountPoint`** 리소스가 생성되도록 합니다. 조건이 `false`이면 해당 리소스는 스택에 포함되지 않습니다.

---

### ⚠️ 시험 관점

CloudFormation 조건을 직접 작성하는 것은 고급 기술에 속하지만, 시험에서는 **조건의 존재와 그 기능**을 이해하는 것이 중요합니다. 즉, 템플릿에서 조건이 어떻게 사용되는지, 그리고 특정 논리에 따라 리소스 생성을 제어할 수 있다는 개념을 알아두어야 합니다.