
---

**μ΅°κ±΄**μ€ CloudFormation ν…ν”λ¦Ώ λ‚΄μ—μ„ νΉμ • λ…Όλ¦¬μ— λ”°λΌ λ¦¬μ†μ¤ μƒμ„± λλ” μ†μ„± ν• λ‹Ήμ„ μ μ–΄ν•λ” κΈ°λ¥μ…λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ ν…ν”λ¦Ώμ μ¬μ‚¬μ©μ„±μ„ λ†’μ΄κ³  λ‹¤μ–‘ν• ν™κ²½(μ: κ°λ°, ν…μ¤νΈ, ν”„λ΅λ•μ…)μ— λ”°λΌ λ‹¤λ¥΄κ² λ¦¬μ†μ¤λ¥Ό λ°°ν¬ν•  μ μμµλ‹λ‹¤.

#### μ΅°κ±΄μ μ‚¬μ© μ‚¬λ΅€

- **ν™κ²½λ³„ λ°°ν¬**: κ°λ° ν™κ²½μ—μ„λ” λΉ„μ© μ κ°μ„ μ„ν•΄ μ‘μ€ μΈμ¤ν„΄μ¤λ¥Ό μ‚¬μ©ν•κ±°λ‚ νΉμ • λ¦¬μ†μ¤λ¥Ό μƒμ„±ν•μ§€ μ•κ³ , ν”„λ΅λ•μ… ν™κ²½μ—μ„λ” κ³ μ„±λ¥ μΈμ¤ν„΄μ¤μ™€ μ¶”κ°€μ μΈ EBS λ³Όλ¥¨ λ“±μ„ μƒμ„±ν•  μ μμµλ‹λ‹¤.
- **λ¦¬μ „λ³„ κµ¬μ„±**: νΉμ • λ¦¬μ „μ—μ„λ§ μ§€μ›λλ” λ¦¬μ†μ¤λ¥Ό ν•΄λ‹Ή λ¦¬μ „μ— λ°°ν¬ν•  λ•λ§ μƒμ„±ν•λ„λ΅ μ„¤μ •ν•  μ μμµλ‹λ‹¤.
- **νλΌλ―Έν„° κ°’μ— λ”°λ¥Έ λ™μ‘**: μ‚¬μ©μκ°€ μ…λ ¥ν• νλΌλ―Έν„° κ°’μ— λ”°λΌ λ¦¬μ†μ¤μ μƒμ„± μ—¬λ¶€λ¥Ό κ²°μ •ν•  μ μμµλ‹λ‹¤.

---

### π“ μ΅°κ±΄ μ •μ λ° μ μ©

μ΅°κ±΄μ€ `Conditions` μ„Ήμ…μ— μ •μλλ©°, `And`, `Equals`, `If`, `Not`, `Or`μ™€ κ°™μ€ λ‚΄μ¥ ν•¨μλ¥Ό μ‚¬μ©ν•μ—¬ λ…Όλ¦¬μ‹μ„ λ§λ“­λ‹λ‹¤.
#### 1. μ΅°κ±΄ μ •μ μμ‹

λ‹¤μ μμ‹λ” **`Env`**λΌλ” νλΌλ―Έν„°μ κ°’μ΄ **`prod`**μΌ κ²½μ°μ—λ§ **`CreateProdResources`**λΌλ” μ΅°κ±΄μ΄ `true`κ°€ λλ„λ΅ μ •μν•©λ‹λ‹¤.

```YAML
Conditions:
  CreateProdResources:
    Fn::Equals:
      - !Ref Env
      - prod
```

YAML λ‹¨μ¶•ν•μ„ μ‚¬μ©ν•λ©΄ `!Equals [!Ref Env, prod]`μ™€ κ°™μ΄ ν‘ν„ν•  μ μμµλ‹λ‹¤.

---

#### 2. μ΅°κ±΄ μ μ© μμ‹

μ •μλ μ΅°κ±΄μ€ `Condition` μ†μ„±μ„ μ‚¬μ©ν•μ—¬ λ¦¬μ†μ¤μ— μ μ©ν•  μ μμµλ‹λ‹¤.

```YAML
Resources:
  MountPoint:
    Type: AWS::EC2::VolumeAttachment
    Condition: CreateProdResources  # μ΅°κ±΄ μ μ©
```

μ΄ μμ‹λ” **`CreateProdResources`** μ΅°κ±΄μ΄ `true`μΌ λ•λ§ **`MountPoint`** λ¦¬μ†μ¤κ°€ μƒμ„±λλ„λ΅ ν•©λ‹λ‹¤. μ΅°κ±΄μ΄ `false`μ΄λ©΄ ν•΄λ‹Ή λ¦¬μ†μ¤λ” μ¤νƒμ— ν¬ν•¨λμ§€ μ•μµλ‹λ‹¤.

---

### β οΈ μ‹ν— κ΄€μ 

CloudFormation μ΅°κ±΄μ„ μ§μ ‘ μ‘μ„±ν•λ” κ²ƒμ€ κ³ κΈ‰ κΈ°μ μ— μ†ν•μ§€λ§, μ‹ν—μ—μ„λ” **μ΅°κ±΄μ μ΅΄μ¬μ™€ κ·Έ κΈ°λ¥**μ„ μ΄ν•΄ν•λ” κ²ƒμ΄ μ¤‘μ”ν•©λ‹λ‹¤. μ¦‰, ν…ν”λ¦Ώμ—μ„ μ΅°κ±΄μ΄ μ–΄λ–»κ² μ‚¬μ©λλ”μ§€, κ·Έλ¦¬κ³  νΉμ • λ…Όλ¦¬μ— λ”°λΌ λ¦¬μ†μ¤ μƒμ„±μ„ μ μ–΄ν•  μ μλ‹¤λ” κ°λ…μ„ μ•μ•„λ‘μ–΄μ•Ό ν•©λ‹λ‹¤.