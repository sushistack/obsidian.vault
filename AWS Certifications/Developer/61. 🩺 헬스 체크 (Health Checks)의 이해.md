
μ΄λ² κ°•μμ—μ„λ” Amazon Route 53μ μ¤‘μ”ν• κΈ°λ¥μΈ <mark class="hltr-red">ν—¬μ¤ μ²΄ν¬(Health Checks)</mark>μ— λ€ν•΄ μ•μ•„λ΄…λ‹λ‹¤. ν—¬μ¤ μ²΄ν¬λ” DNS λ μ½”λ“μ™€ μ—°λ™ν•μ—¬ μ• ν”λ¦¬μΌ€μ΄μ…μ κ°€μ©μ„±μ„ λ†’μ΄κ³  <mark class="hltr-red">μλ™ μ¥μ•  μ΅°μΉ(Automatic Failover)</mark>λ¥Ό κµ¬ν„ν•λ” λ° μ‚¬μ©λ©λ‹λ‹¤.

---

### 1. ν—¬μ¤ μ²΄ν¬λ€? π¤”

- **κ°λ…**: Route 53μ΄ μ§€μ •λ μ—”λ“ν¬μΈνΈ(μ: μ„λ²„, λ΅λ“ λ°Έλ°μ„)μ μƒνƒλ¥Ό μ£ΌκΈ°μ μΌλ΅ ν™•μΈν•μ—¬, ν•΄λ‹Ή μ—”λ“ν¬μΈνΈκ°€ μ •μƒμ μΌλ΅ μ‘λ™ν•λ”μ§€ νλ‹¨ν•λ” κΈ°λ¥μ…λ‹λ‹¤.
    
- **λ©μ **: ν—¬μ¤ μ²΄ν¬ κ²°κ³Όλ¥Ό DNS λ μ½”λ“μ™€ κ²°ν•©ν•μ—¬, λΉ„μ •μƒ(unhealthy) μƒνƒμΈ μ—”λ“ν¬μΈνΈλ΅λ” νΈλν”½μ„ λΌμ°ν…ν•μ§€ μ•λ„λ΅ ν•©λ‹λ‹¤. μ΄λ¥Ό ν†µν•΄ μ‚¬μ©μκ°€ λ‹¤μ΄λ μ• ν”λ¦¬μΌ€μ΄μ…μ— μ ‘μ†ν•λ” κ²ƒμ„ λ°©μ§€ν•κ³  μ„λΉ„μ¤ κ°€μ©μ„±μ„ μ μ§€ν•  μ μμµλ‹λ‹¤.
    
- **μμ‹ μ‹λ‚λ¦¬μ¤**: λ‹¤μ¤‘ λ¦¬μ „μ— λ΅λ“ λ°Έλ°μ„κ°€ μλ” κ²½μ°, ν—¬μ¤ μ²΄ν¬λ¥Ό ν†µν•΄ ν• λ¦¬μ „μ μ„λΉ„μ¤κ°€ λ‹¤μ΄λλ©΄ ν•΄λ‹Ή λ¦¬μ „μΌλ΅λ” DNS μ‘λ‹µμ„ λ³΄λ‚΄μ§€ μ•κ³ , λ‹¤λ¥Έ μ •μƒμ μΈ λ¦¬μ „μΌλ΅λ§ νΈλν”½μ„ λΌμ°ν…ν•©λ‹λ‹¤.

### 2. ν—¬μ¤ μ²΄ν¬ μ ν• π“

Route 53μ€ μ„Έ κ°€μ§€ μ£Όμ” ν—¬μ¤ μ²΄ν¬ μ ν•μ„ μ§€μ›ν•©λ‹λ‹¤.

#### 2.1. μ—”λ“ν¬μΈνΈ λ¨λ‹ν„°λ§ (Endpoint Monitoring)

![[Pasted image 20250726222616.png]]

- **λ€μƒ**: κ³µκ°μ μΌλ΅ μ ‘κ·Ό κ°€λ¥ν• μ—”λ“ν¬μΈνΈ(Public Endpoint) (μ: ALB, CloudFront, EC2 μΈμ¤ν„΄μ¤ λ“±).
- **μ‘λ™ λ°©μ‹**:
    - μ „ μ„Έκ³„μ— λ¶„μ‚°λ μ•½ 15κ°μ Route 53 <mark class="hltr-red">ν—¬μ¤ μ²΄μ»¤(Health Checkers)</mark>κ°€ μ—”λ“ν¬μΈνΈμ— μ£ΌκΈ°μ μΌλ΅ μ”μ²­μ„ λ³΄λƒ…λ‹λ‹¤.
    - μ‘λ‹µμΌλ΅Β `HTTP 2xx`,Β `3xx`Β μƒνƒ μ½”λ“λ¥Ό λ°›κ±°λ‚, νΉμ • μ‘λ‹µ λ³Έλ¬Έ ν…μ¤νΈλ¥Ό μ°ΎμΌλ©΄ μ •μƒ(`Healthy`)μΌλ΅ κ°„μ£Όν•©λ‹λ‹¤.
- **μ„¤μ •**:
    - **μ„κ³„κ°’(Threshold)**: λ‡ λ²μ μ‹¤ν¨ ν›„ λΉ„μ •μƒμΌλ΅ νλ‹¨ν• μ§€ μ„¤μ •ν•©λ‹λ‹¤.
    - **κ°„κ²©(Interval)**: ν—¬μ¤ μ²΄ν¬ μ”μ²­μ„ λ³΄λ‚΄λ” μ£ΌκΈ° (μΌλ°: 30μ΄, λΉ λ¥Έ: 10μ΄).
    - **ν”„λ΅ν† μ½**: HTTP, HTTPS, TCP μ§€μ›.
- **λ„¤νΈμ›ν¬ μ„¤μ •**: ν—¬μ¤ μ²΄μ»¤κ°€ μ—”λ“ν¬μΈνΈμ— μ ‘κ·Όν•  μ μλ„λ΅,Β <mark class="hltr-red">Route 53 ν—¬μ¤ μ²΄μ»¤μ IP μ£Όμ† λ²”μ„</mark>λ¥Ό λ³΄μ• κ·Έλ£Ή λ“±μ— ν—μ©ν•΄μ•Ό ν•©λ‹λ‹¤.
    

#### 2.2. κ³„μ‚°λ ν—¬μ¤ μ²΄ν¬ (Calculated Health Checks)

![[Pasted image 20250726222644.png]]

- **κ°λ…**: μ—¬λ¬ κ°μ ν—¬μ¤ μ²΄ν¬ κ²°κ³Όλ¥Ό ν•λ‚λ΅ ν†µν•©ν•μ—¬ λ‹¨μΌ ν—¬μ¤ μ²΄ν¬λ΅ λ§λ“λ” κΈ°λ¥μ…λ‹λ‹¤.
- **ν™μ©**: μ—¬λ¬ μμ‹(Child) ν—¬μ¤ μ²΄ν¬μ κ²°κ³Όλ¥Ό μ΅°ν•©ν•μ—¬ λ¶€λ¨(Parent) ν—¬μ¤ μ²΄ν¬μ μƒνƒλ¥Ό κ²°μ •ν•©λ‹λ‹¤.
- **μμ‹**:
    - μ„Έ κ°μ EC2 μΈμ¤ν„΄μ¤ κ°κ°μ— λ€ν•΄ ν—¬μ¤ μ²΄ν¬λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
    - μ΄ μ„Έ κ°μ ν—¬μ¤ μ²΄ν¬λ¥Ό μ΅°ν•©ν•λ” λ¶€λ¨ ν—¬μ¤ μ²΄ν¬λ¥Ό μƒμ„±ν•©λ‹λ‹¤.
    - μ΅°κ±΄(AND, OR, NOT)μ„ μ„¤μ •ν•μ—¬, μλ¥Ό λ“¤μ–΄ "μ„Έ κ°μ μΈμ¤ν„΄μ¤ μ¤‘ λ‘ κ° μ΄μƒμ΄ μ •μƒμΌ λ•λ§ μ „μ²΄λ¥Ό μ •μƒμΌλ΅ κ°„μ£Ό"ν•λ” κ·μΉ™μ„ λ§λ“¤ μ μμµλ‹λ‹¤.

#### 2.3. CloudWatch μ§€ν‘ λ¨λ‹ν„°λ§ (Monitoring a CloudWatch Alarm)

![[Pasted image 20250726222711.png]]

- **κ°λ…**: **ν”„λΌμ΄λΉ— λ¦¬μ†μ¤(Private Resources)**μ μƒνƒλ¥Ό λ¨λ‹ν„°λ§ν•λ” λ° κ°€μ¥ ν”ν μ‚¬μ©λλ” λ°©λ²•μ…λ‹λ‹¤.
- **μ‘λ™ λ°©μ‹**:
    - Route 53μ ν—¬μ¤ μ²΄μ»¤λ” κ³µκ° μΈν„°λ„·μ— μμΌλ―€λ΅ VPC λ‚΄λ¶€μ ν”„λΌμ΄λΉ— λ¦¬μ†μ¤μ—λ” μ§μ ‘ μ ‘κ·Όν•  μ μ—†μµλ‹λ‹¤.
    - λ”°λΌμ„, CloudWatchλ¥Ό μ‚¬μ©ν•μ—¬ ν”„λΌμ΄λΉ— EC2 μΈμ¤ν„΄μ¤(μ: CPU μ‚¬μ©λ‰)μ μ§€ν‘λ¥Ό λ¨λ‹ν„°λ§ν•©λ‹λ‹¤.
    - μ΄ μ§€ν‘κ°€ νΉμ • μ„κ³„κ°’μ„ μ΄κ³Όν•λ©΄ **CloudWatch μ•λ(CloudWatch Alarm)**μ„ νΈλ¦¬κ±°ν•©λ‹λ‹¤.
    - Route 53μ€ μ΄Β **CloudWatch μ•λμ μƒνƒ**λ¥Ό λ¨λ‹ν„°λ§ν•μ—¬, μ•λμ΄Β `ALARM`Β μƒνƒκ°€ λλ©΄ ν•΄λ‹Ή ν—¬μ¤ μ²΄ν¬λ¥ΌΒ `Unhealthy`λ΅ κ°„μ£Όν•©λ‹λ‹¤.

### 3. Route 53κ³Ό ν—¬μ¤ μ²΄ν¬ μ—°λ™ π

ν—¬μ¤ μ²΄ν¬λ” Route 53μ νΉμ • λΌμ°ν… μ •μ±…(μ: Weighted, Failover, Latency)κ³Ό κ²°ν•©λ  λ• μ§„μ •ν• κ°€μΉλ¥Ό λ°νν•©λ‹λ‹¤.
- **μμ‹**: μ§€μ—° μ‹κ°„ κΈ°λ° λΌμ°ν… μ •μ±…μ„ μ‚¬μ©ν•λ” κ²½μ°, Route 53μ€ μ‚¬μ©μμ—κ² κ°€μ¥ κ°€κΉμ΄ λ¦¬μ „μ IP μ£Όμ†λ¥Ό μ‘λ‹µμΌλ΅ λ³΄λƒ…λ‹λ‹¤. λ§μ•½ ν•΄λ‹Ή λ¦¬μ „μ ν—¬μ¤ μ²΄ν¬ μƒνƒκ°€Β `Unhealthy`λΌλ©΄, Route 53μ€ κ·Έ λ¦¬μ „μ„ κ±΄λ„λ›°κ³  κ·Έ λ‹¤μμΌλ΅ μ§€μ—° μ‹κ°„μ΄ λ‚®μ€ λ¦¬μ „μ IP μ£Όμ†λ¥Ό λ€μ‹  λ°ν™ν•μ—¬ μλ™ μ¥μ•  μ΅°μΉ(Automatic Failover)λ¥Ό μν–‰ν•©λ‹λ‹¤.
    

### 4. κ²°λ΅  π’΅

Route 53 ν—¬μ¤ μ²΄ν¬λ” λ‹¨μν• DNS μ„λΉ„μ¤μ—Β **κ°€μ©μ„±κ³Ό μ¥μ•  μ΅°μΉ(Failover)**Β κΈ°λ¥μ„ μ¶”κ°€ν•λ” ν•µμ‹¬ μ”μ†μ…λ‹λ‹¤. κ³µκ° μ—”λ“ν¬μΈνΈλ” Route 53 ν—¬μ¤ μ²΄μ»¤κ°€ μ§μ ‘ λ¨λ‹ν„°λ§ν•κ³ , ν”„λΌμ΄λΉ— μ—”λ“ν¬μΈνΈλ” CloudWatch μ•λμ„ ν†µν•΄ κ°„μ ‘μ μΌλ΅ λ¨λ‹ν„°λ§ν•¨μΌλ΅μ¨, μ–΄λ–¤ ν™κ²½μ—μ„λ„ μ„λΉ„μ¤μ μƒνƒλ¥Ό μ•μ •μ μΌλ΅ κ΄€λ¦¬ν•  μ μμµλ‹λ‹¤.
