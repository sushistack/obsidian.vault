
**AWS CloudFormation**은 AWS 인프라를 코드로 정의하고 관리할 수 있게 해주는 서비스입니다. 개발자는 **템플릿(Template)**이라는 코드를 작성하여 원하는 AWS 리소스(EC2, S3, 로드 밸런서 등)와 그 설정을 선언적으로 명시할 수 있습니다. CloudFormation은 이 템플릿을 바탕으로 필요한 리소스들을 자동으로 생성, 구성, 업데이트, 삭제합니다.

---

### 📝 CloudFormation의 주요 특징 및 장점

|특징|설명|
|---|---|
|**인프라를 코드로 관리 (Infrastructure as Code)**|모든 인프라를 수동 작업 없이 코드로 관리하며, Git과 같은 버전 관리 시스템을 활용할 수 있어 변경 사항 추적 및 관리가 용이합니다.|
|**비용 효율성**|생성된 모든 리소스는 CloudFormation 스택 식별자로 태그가 지정되어 비용 추적을 용이하게 합니다. 또한, 개발 환경의 스택을 자동으로 삭제하고 재구성하여 비용을 절감할 수 있습니다.|
|**생산성 향상**|인프라를 빠르게 생성하고 삭제할 수 있어, 개발 및 테스트 환경을 신속하게 구축하고 파기할 수 있습니다.|
|**선언적 프로그래밍**|리소스 생성 순서를 고민할 필요 없이 원하는 최종 상태만 선언하면 CloudFormation이 자동으로 의존성을 파악하고 리소스를 프로비저닝합니다.|
|**재사용성 및 모듈화**|기존 템플릿을 재사용하거나, 여러 스택으로 인프라를 분리(예: 네트워크 스택, 애플리케이션 스택)하여 관리할 수 있습니다.|

---

### 🛠️ CloudFormation 작동 방식 및 배포

1. **템플릿 작성**: YAML 또는 JSON 형식으로 인프라를 정의하는 템플릿 파일을 작성합니다.
2. **S3 업로드**: 작성된 템플릿 파일을 Amazon S3에 업로드합니다.
3. **스택 생성**: CloudFormation 콘솔이나 CLI를 통해 S3에 있는 템플릿 파일을 참조하여 **스택(Stack)**을 생성합니다.
4. **리소스 프로비저닝**: CloudFormation은 스택에 정의된 모든 리소스를 올바른 순서로 생성하고 구성합니다.
5. **스택 업데이트**: 템플릿을 수정하려면, 수정된 템플릿을 다시 업로드한 후 기존 스택을 업데이트합니다.
6. **스택 삭제**: 스택을 삭제하면, CloudFormation이 해당 스택으로 생성한 모든 리소스를 자동으로 삭제합니다.

---

### 🧱 CloudFormation 템플릿의 구성 요소

![[Pasted image 20250812212141.png]]

CloudFormation 템플릿은 여러 섹션으로 구성되며, **`Resources`** 섹션만 필수입니다.

|섹션|설명|
|---|---|
|**`AWSTemplateFormatVersion`**|템플릿 버전 정보 (AWS 내부용).|
|**`Description`**|템플릿에 대한 설명.|
|**`Parameters`**|템플릿에 동적인 값을 전달하기 위한 변수.|
|**`Mappings`**|환경에 따라 다른 값을 사용하기 위한 정적 변수.|
|**`Resources`**|**필수 섹션**. 생성하고자 하는 AWS 리소스들을 정의합니다.|
|**`Outputs`**|스택 생성 후 외부에 노출할 리소스 정보(예: EC2의 퍼블릭 IP)를 정의합니다.|
|**`Conditions`**|리소스 생성 여부를 결정하는 조건문.|
|**`Transform`**|템플릿을 재사용 가능한 컴포넌트(Nested Stacks)로 변환하는 데 사용.|
|**`Metadata`**|템플릿에 대한 추가 정보를 제공.|
