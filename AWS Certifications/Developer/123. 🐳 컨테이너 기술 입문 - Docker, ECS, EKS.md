

컨테이너 기술에 대한 섹션에 오신 것을 환영합니다. 여기서는 **Docker**, **ECS**, 그리고 **EKS**에 대해 자세히 알아보겠습니다.

---

### Docker란 무엇인가요? 🐳

**Docker**는 애플리케이션을 배포하기 위한 **컨테이너화 기술**입니다. 애플리케이션과 모든 종속성(라이브러리, 설정 파일 등)을 하나의 표준화된 패키지인 **컨테이너(Container)**로 묶어줍니다. 이 컨테이너는 어떤 운영 체제에서도 동일하게 작동하므로, "한번 만들면 어디서든 실행(Build once, Run anywhere)"할 수 있게 됩니다.

- **주요 사용 사례:**
    
    - **마이크로서비스 아키텍처:** 애플리케이션을 작은 단위의 서비스로 분리하여 관리하는 데 이상적입니다.
    - **온프레미스에서 클라우드로 앱 이전:** 기존 애플리케이션을 쉽게 클라우드로 옮길 수 있습니다.
    - 컨테이너를 사용하는 모든 시나리오.

#### Docker의 작동 방식

Docker는 호스트 서버(예: EC2 인스턴스) 위에서 **Docker 데몬(Daemon)**을 실행합니다. 이 데몬이 여러 개의 Docker 컨테이너를 관리합니다. 하나의 서버에서 여러 컨테이너를 실행할 수 있으며, 각 컨테이너는 서로 다른 애플리케이션(예: Java, Node.js)을 포함할 수 있습니다.

#### Docker 이미지 저장소

Docker 컨테이너를 만들기 위한 템플릿인 **Docker 이미지**는 **Docker 레지스트리(Docker Repository)**에 저장됩니다.

- **Docker Hub:** 공개 이미지 저장소로, Ubuntu, MySQL 등 다양한 기본 이미지를 찾을 수 있습니다.
- **Amazon ECR (Elastic Container Registry):** AWS의 프라이빗 이미지 저장소입니다. 최근에는 **Amazon ECR Public Gallery**라는 공개 저장소도 제공합니다.

---

### Docker vs. 가상 머신(Virtual Machine) 🖥️

Docker와 가상 머신은 모두 가상화 기술이지만, 작동 방식에서 큰 차이가 있습니다. Docker는 호스트 운영 체제의 리소스를 공유하며, 가상 머신은 완전히 격리된 독립적인 환경을 구축합니다.

| 특징        | 가상 머신 (Virtual Machine)                | Docker 컨테이너 (Docker Container)                     |
| --------- | -------------------------------------- | -------------------------------------------------- |
| **아키텍처**  | 인프라 > 호스트 OS > 하이퍼바이저 > **게스트 OS + 앱** | 인프라 > 호스트 OS > **Docker 데몬** > **컨테이너(OS 공유) + 앱** |
| **격리**    | 하이퍼바이저를 통해 OS 수준에서 완전 격리               | Docker 데몬을 통해 OS 커널 공유, 부분적으로 격리                   |
| **무게**    | 무겁고(수 GB), 시작 시간이 오래 걸림                | 가볍고(수십 MB), 시작 시간이 빠름                              |
| **자원 효율** | 각 VM마다 OS 자원 소비                        | 호스트 OS 자원 공유, 효율성이 높음                              |
| **주요 용도** | OS가 다른 여러 환경을 격리                       | 여러 애플리케이션을 동일 OS에서 효율적으로 실행                        |

![[Pasted image 20250809235630.png]]

---

### Docker 컨테이너의 생명 주기

1. **Docker 파일 작성:** 컨테이너의 구성(기본 이미지, 파일 추가 등)을 정의하는 **Dockerfile**을 작성합니다.
2. **이미지 빌드:** Dockerfile을 사용하여 **Docker 이미지**를 생성합니다.
3. **이미지 푸시:** Docker 이미지를 Docker Hub 또는 **Amazon ECR**과 같은 레지스트리에 저장합니다.
4. **이미지 풀:** 레지스트리에서 이미지를 가져옵니다.
5. **컨테이너 실행:** 이미지를 실행하여 실제 애플리케이션이 동작하는 **컨테이너**를 생성합니다.

---

### AWS에서의 컨테이너 관리 서비스

AWS는 Docker 컨테이너 관리를 위한 다양한 서비스를 제공합니다.

- **Amazon ECS (Elastic Container Service):** AWS에서 컨테이너를 실행, 중지, 관리하기 위한 완전 관리형 컨테이너 오케스트레이션 서비스입니다.
- **Amazon EKS (Elastic Kubernetes Service):** 오픈 소스 컨테이너 오케스트레이션 플랫폼인 **Kubernetes**를 AWS에서 관리해주는 서비스입니다.
- **AWS Fargate:** 서버리스 컨테이너 플랫폼입니다. 컨테이너를 실행하는 데 필요한 서버나 클러스터를 관리할 필요가 없습니다. ECS와 EKS 모두 Fargate를 사용할 수 있습니다.
- **Amazon ECR (Elastic Container Registry):** Docker 이미지를 저장하고 관리하는 AWS의 프라이빗 레지스트리입니다.
