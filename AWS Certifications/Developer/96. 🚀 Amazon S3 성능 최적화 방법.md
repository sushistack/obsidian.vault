
Amazon S3는 기본적으로 높은 확장성과 성능을 제공하지만, 대량의 요청이나 대용량 파일을 다룰 때는 성능 최적화 기법을 적용하여 효율성을 극대화할 수 있습니다.

---

### 1. S3 기본 성능 (Baseline Performance)

Amazon S3는 기본적으로 높은 요청 처리량을 자동으로 지원합니다.

- **요청 처리 속도:** S3는 `PUT`/`COPY`/`POST`/`DELETE` 요청에 대해 **초당 3,500회**, `GET`/`HEAD` 요청에 대해 **초당 5,500회**를 처리할 수 있습니다.
    
- **접두사(Prefix) 기준:** 이 성능은 **버킷 내의 접두사(prefix)마다** 적용됩니다.
    - **접두사의 의미:** 객체의 키(`key`)에서 버킷 이름 뒤에 오는 경로를 의미합니다.
    - **예시:** `my-bucket/folder1/subfolder1/file.txt` 객체의 접두사는 `folder1/subfolder1/`입니다.
    - **활용:** 여러 접두사를 사용하여 요청을 분산시키면, 버킷 전체의 처리량을 크게 높일 수 있습니다. 예를 들어, 4개의 접두사에 요청을 고르게 분산하면 `GET` 요청의 총 처리량은 초당 22,000회(`5500 * 4`)가 될 수 있습니다.
        

---

### 2. S3 성능 최적화 기법

![[Pasted image 20250803220801.png]]

#### 1) 멀티파트 업로드 (Multipart Upload)

- **목표:** 대용량 파일의 업로드 성능 향상.
- **원리:** 하나의 파일을 여러 개의 작은 **파트(part)**로 나누어 병렬로 업로드합니다. 모든 파트가 업로드되면 S3가 이를 자동으로 하나의 완전한 파일로 재조립합니다.
- **사용 기준:**
    - **권장:** 파일 크기가 **100MB**를 초과할 경우
    - **필수:** 파일 크기가 **5GB**를 초과할 경우
- **장점:** 업로드 속도를 획기적으로 향상시키고, 네트워크 오류 시 실패한 파트만 재업로드하면 되므로 안정성이 높습니다.

|Before|After (Multi-part Upload)|
|---|---|
|단일 파일 업로드|파일을 여러 파트로 분할|
|하나의 연결 사용|여러 연결을 통해 파트 병렬 업로드|
|느린 전송 속도|최대 대역폭을 활용하여 빠른 전송|

#### 2) S3 전송 가속 (S3 Transfer Acceleration)

- **목표:** 지리적으로 멀리 떨어진 S3 버킷으로의 업로드 및 다운로드 속도 향상.
- **원리:** 클라이언트가 S3 버킷에 직접 접속하는 대신, 가장 가까운 **AWS 엣지 로케이션(Edge Location)**을 통해 데이터를 전송합니다.
- **작동 과정:**
    1. 클라이언트가 가까운 엣지 로케이션으로 데이터를 업로드합니다. 이 구간은 공용 인터넷을 사용하지만 거리가 짧아 빠릅니다.
    2. 엣지 로케이션은 데이터를 **AWS의 빠르고 사설적인 글로벌 네트워크**를 통해 대상 S3 버킷으로 전송합니다.
- **장점:** 공용 인터넷을 사용하는 구간을 최소화하여 지연 시간을 줄이고, 전송 속도를 크게 높입니다.

#### 3) 바이트 범위 가져오기 (S3 Byte Range Fetches)

![[Pasted image 20250803220819.png]]

- **목표:** 대용량 파일의 다운로드 및 부분 데이터 검색 성능 향상.
- **원리:** 파일 전체를 다운로드하는 대신, **파일의 특정 바이트 범위**만 가져오는 `GET` 요청을 병렬로 수행합니다.
- **사용 사례:**
    - **병렬 다운로드:** 하나의 파일을 여러 부분으로 나누어 동시에 다운로드함으로써 전체 다운로드 속도를 높입니다.
    - **부분 데이터 검색:** 파일의 특정 부분(예: 헤더 정보)만 필요한 경우, 해당 바이트 범위만 요청하여 불필요한 데이터 전송을 줄이고 응답 시간을 단축합니다.
- **장점:** 다운로드 속도를 향상시키고, 부분적인 네트워크 장애가 발생했을 때 작은 범위만 재시도하면 되므로 복원력이 높습니다.