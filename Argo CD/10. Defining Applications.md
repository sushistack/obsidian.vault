
# **ğŸ¯ Argo CDì—ì„œ Application ìƒì„± ë°©ë²• ì´ì •ë¦¬**

  

Argo CDëŠ” GitOps ê¸°ë°˜ì˜ ì§€ì†ì  ë°°í¬(CD)ë¥¼ ê°€ëŠ¥í•˜ê²Œ í•´ì£¼ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ì´ ê°•ì˜ì—ì„œëŠ” Argo CDì˜ í•µì‹¬ ê°œë… ì¤‘ í•˜ë‚˜ì¸ **Application ë¦¬ì†ŒìŠ¤**ì— ëŒ€í•´ ë‹¤ë£¹ë‹ˆë‹¤.

## **ğŸ“Œ Argo CDì˜ Applicationì´ë€?**

Argo CDì˜ **Application**ì€ Kubernetesì˜ Custom Resourceë¡œ, Argo CDê°€ ì¶”ì í•˜ê³  ê´€ë¦¬í•  ì• í”Œë¦¬ì¼€ì´ì…˜ì˜ ì •ì˜ì…ë‹ˆë‹¤. ì´ Application ê°ì²´ëŠ” Kubernetes í´ëŸ¬ìŠ¤í„° ë‚´ **Argo CD ì¸ìŠ¤í„´ìŠ¤ì˜ ë„¤ì„ìŠ¤í˜ì´ìŠ¤**ì— ì €ì¥ë©ë‹ˆë‹¤.

Applicationì€ ì•„ë˜ ë‘ ê°€ì§€ êµ¬ì„± ìš”ì†Œë¡œ ì •ì˜ë©ë‹ˆë‹¤:

|**êµ¬ì„± ìš”ì†Œ**|**ì„¤ëª…**|
|---|---|
|**Source**|Git ì €ì¥ì†Œì—ì„œ ê°€ì ¸ì˜¬ ì• í”Œë¦¬ì¼€ì´ì…˜ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì˜ ìœ„ì¹˜|
|**Destination**|í•´ë‹¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë°°í¬í•  ëŒ€ìƒ í´ëŸ¬ìŠ¤í„°ì™€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤ ì •ë³´|

---

## **ğŸ› ï¸ Application ìƒì„± ë°©ë²• (3ê°€ì§€)**

Argo CDì—ì„œëŠ” Applicationì„ ìƒì„±í•˜ëŠ” ì„¸ ê°€ì§€ ë°©ë²•ì„ ì œê³µí•©ë‹ˆë‹¤:

1. **ì„ ì–¸í˜• ë°©ì‹ (Declarative)**
    YAML íŒŒì¼ë¡œ Application ë¦¬ì†ŒìŠ¤ë¥¼ ì •ì˜í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
    â†’ ê°€ì¥ ê¶Œì¥ë˜ëŠ” ë°©ë²•ì´ë©°, Git ì €ì¥ì†Œì— ì• í”Œë¦¬ì¼€ì´ì…˜ ë§¤ë‹ˆí˜ìŠ¤íŠ¸ì™€ í•¨ê»˜ ë³´ê´€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
    
2. **Web UI**
    Argo CDê°€ ì œê³µí•˜ëŠ” ì›¹ ì¸í„°í˜ì´ìŠ¤ë¥¼ í†µí•´ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ì†ì‰½ê²Œ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

3. **CLI (Command Line Interface)**
    Argo CD CLIë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

---

## **ğŸ§¾ ì„ ì–¸í˜• ë°©ì‹ìœ¼ë¡œ Application ì •ì˜í•˜ê¸°**

YAML íŒŒì¼ì„ ì´ìš©í•œ Application ì •ì˜ëŠ” ë‹¤ìŒê³¼ ê°™ì€ êµ¬ì¡°ë¥¼ ê°€ì§‘ë‹ˆë‹¤:

```yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata:
  name: my-app
  namespace: argocd  # Argo CDê°€ ì„¤ì¹˜ëœ ë„¤ì„ìŠ¤í˜ì´ìŠ¤
spec:
  destination:
    server: https://kubernetes.default.svc  # ëŒ€ìƒ í´ëŸ¬ìŠ¤í„°
    namespace: default                      # ë°°í¬í•  ë„¤ì„ìŠ¤í˜ì´ìŠ¤
  source:
    repoURL: https://github.com/my-org/my-repo.git
    targetRevision: main  # ë˜ëŠ” íƒœê·¸, ì»¤ë°‹ í•´ì‹œ
    path: manifests/      # ë””ë ‰í† ë¦¬, Helm chart ë˜ëŠ” Kustomize ê²½ë¡œ
  project: default
```

### **ì£¼ìš” í•­ëª© ì„¤ëª…:**

|**í•­ëª©**|**ì„¤ëª…**|
|---|---|
|repoURL|Git ì €ì¥ì†Œ ì£¼ì†Œ|
|targetRevision|ë¸Œëœì¹˜ëª…, íƒœê·¸ëª…, ì»¤ë°‹ ID ë“±|
|path|ë§¤ë‹ˆí˜ìŠ¤íŠ¸ê°€ ìœ„ì¹˜í•œ ê²½ë¡œ (ì˜ˆ: manifests/)|
|destination.server|ë°°í¬ ëŒ€ìƒ í´ëŸ¬ìŠ¤í„° URL|
|destination.namespace|ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ë°°í¬ë  ë„¤ì„ìŠ¤í˜ì´ìŠ¤|
|project|ì´ ì• í”Œë¦¬ì¼€ì´ì…˜ì´ ì†í•  Argo CD í”„ë¡œì íŠ¸ (ê¸°ë³¸ê°’: default)|

---

## **ğŸ–¥ï¸ Web UIë¡œ Application ìƒì„±í•˜ê¸°**

  

Web UIì—ì„œëŠ” ë‹¤ìŒ ì •ë³´ë¥¼ ì…ë ¥í•˜ì—¬ Applicationì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:
- Application ì´ë¦„
- ì†í•  í”„ë¡œì íŠ¸ (ì˜ˆ: default)
- Git ì €ì¥ì†Œ ì£¼ì†Œ (repoURL)
- ë¸Œëœì¹˜ ë˜ëŠ” ë¦¬ë¹„ì „ (targetRevision)
- ë§¤ë‹ˆí˜ìŠ¤íŠ¸ ê²½ë¡œ (path)
- ëŒ€ìƒ í´ëŸ¬ìŠ¤í„°ì™€ ë„¤ì„ìŠ¤í˜ì´ìŠ¤

---

## **ğŸ’» CLIë¡œ Application ìƒì„±í•˜ê¸°**


CLIë¥¼ í†µí•´ì„œë„ ìœ„ì™€ ë™ì¼í•œ ì •ë³´ë“¤ì„ ì…ë ¥í•˜ì—¬ Applicationì„ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì˜ˆì‹œ:

```
argocd app create my-app \
  --repo https://github.com/my-org/my-repo.git \
  --path manifests \
  --dest-server https://kubernetes.default.svc \
  --dest-namespace default \
  --project default
```


---

```yaml
apiVersion: argoproj.io/v1alpha1
kind: Application
metadata: 
  name: guestbook
  namespace: argocd
spec: 
  destination: 
    namespace: guestbook
    server: "https://kubernetes.default.svc"
  project: default
  source: 
    path: guestbook
    repoURL: "https://github.com/mabusaa/argocd-example-apps.git"
    targetRevision: master
  syncPolicy:
    syncOptions:
      - CreateNamespace=true
```

```sh
$ k apply -f application.yaml
```

