# **Terraform ëª…ë ¹ì–´ ì´ì •ë¦¬ â€“ ì‹¤ì „ ì˜ˆì œ í¬í•¨**

Terraformì„ ì‚¬ìš©í•˜ë‹¤ ë³´ë©´ ìì£¼ ì‚¬ìš©ë˜ëŠ” ëª…ë ¹ì–´ë“¤ì´ ëª‡ ê°€ì§€ ìˆì–´. ë‹¨ìˆœíˆ init, plan, applyë§Œ ì•Œê³  ìˆìœ¼ë©´ ë¶€ì¡±í•  ìˆ˜ ìˆì–´. ì´ë²ˆ ê¸€ì—ì„œëŠ” ì‹¤ë¬´ì—ì„œ ê¼­ ì•Œì•„ì•¼ í•  ëª…ë ¹ì–´ë“¤ê³¼ í•¨ê»˜, ì‹¤ì „ ì˜ˆì œê¹Œì§€ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•´ë´¤ì–´.

---

## **âœ…**Â  **terraform validate**

  **â€“ ë¬¸ë²• ì˜¤ë¥˜ í™•ì¸**

êµ¬ì„± íŒŒì¼ì´ ë¬¸ë²•ì ìœ¼ë¡œ ì˜¬ë°”ë¥¸ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ” ëª…ë ¹ì–´ì•¼. planì´ë‚˜ apply ì „ì— ë¯¸ë¦¬ ì²´í¬í•´ë‘ë©´ ì‹¤ìˆ˜ ì¤„ì´ê¸° ì¢‹ì•„.

```
terraform validate
```

**ì˜¤ë¥˜ ì˜ˆì‹œ:**

```
resource "local_file" "example" {
  file_permissions = "0644" # ì˜¤íƒ€! => ì˜¬ë°”ë¥¸ í‚¤ëŠ” file_permission
}
```

ê²°ê³¼:

```
â”‚ Error: Unsupported argument
â”‚   on main.tf line 3, in resource "local_file" "example":
â”‚   3:   file_permissions = "0644"
â”‚
â”‚ An argument named "file_permissions" is not expected here.
```

  

---

## **âœ…**Â  **terraform fmt**

Â **â€“ í¬ë§· ìë™ ì •ë¦¬**

íŒ€ìœ¼ë¡œ ì‘ì—…í•˜ë‹¤ ë³´ë©´ ì½”ë“œ ìŠ¤íƒ€ì¼ì´ ííŠ¸ëŸ¬ì§ˆ ìˆ˜ ìˆëŠ”ë°, ì´ ëª…ë ¹ì–´ë¥¼ ì“°ë©´ .tf íŒŒì¼ë“¤ì„ ê¹”ë”í•˜ê²Œ ì •ë¦¬í•´ì¤˜.

```
terraform fmt
```

ì‹¤í–‰ ì‹œ, ìˆ˜ì •ëœ íŒŒì¼ ëª©ë¡ì´ í‘œì‹œë˜ê³  í¬ë§·íŒ…ì´ ì ìš©ë¼. Git ì»¤ë°‹ ì „ì— ê¼­ í•œ ë²ˆì”© ëŒë ¤ì£¼ë©´ ì¢‹ì•„.

---

## **âœ…**Â  **terraform show** â€¦
**â€“ í˜„ì¬ ìƒíƒœ ì¶œë ¥**

í˜„ì¬ ì¸í”„ë¼ ìƒíƒœë¥¼ ì‚¬ëŒì´ ì½ê¸° ì‰¬ìš´ í˜•íƒœë¡œ ë³´ì—¬ì¤˜.

```
terraform show
```

**JSONìœ¼ë¡œ ì¶œë ¥í•˜ê³  ì‹¶ë‹¤ë©´:**

```
terraform show -json
```

ì¶œë ¥ ê²°ê³¼ì—” ë¦¬ì†ŒìŠ¤ì˜ ì†ì„±ë“¤(íŒŒì¼ëª…, ê¶Œí•œ, ID ë“±)ì´ ì „ë¶€ í¬í•¨ë¼ ìˆì–´.

---

## **âœ…**Â  **terraform output**â€¦
**â€“ ì¶œë ¥ ë³€ìˆ˜ ë³´ê¸°**

output ë¸”ë¡ìœ¼ë¡œ ì •ì˜ëœ ê°’ë“¤ì„ í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ ì‚¬ìš©í•´.

```
terraform output
```

**íŠ¹ì • ë³€ìˆ˜ë§Œ ë³´ê³  ì‹¶ì„ ë•:**

```
terraform output instance_ip
```

  

---

## **âœ…** **terraform providers**

**â€“ ì‚¬ìš© ì¤‘ì¸ Provider í™•ì¸**

í˜„ì¬ í”„ë¡œì íŠ¸ì—ì„œ ì–´ë–¤ providerë“¤ì´ ì‚¬ìš© ì¤‘ì¸ì§€ í•œ ëˆˆì— í™•ì¸í•  ìˆ˜ ìˆì–´.

```
terraform providers
```

  

---

## **âœ…**Â  **terraform providers mirror**

**â€“ Provider ë°”ì´ë„ˆë¦¬ ë³µì‚¬**

CI í™˜ê²½ì´ë‚˜ ì˜¤í”„ë¼ì¸ í™˜ê²½ì„ ìœ„í•´ provider ë°”ì´ë„ˆë¦¬ë¥¼ ë‹¤ë¥¸ ë””ë ‰í† ë¦¬ì— ë³µì‚¬í•  ìˆ˜ ìˆì–´.

```
terraform providers mirror ./my_plugins
```

---

## **âœ…**Â  **terraform refresh**
 Â **â€“ ì¸í”„ë¼ ìƒíƒœì™€ ë™ê¸°í™”**

ì™¸ë¶€ì—ì„œ ë¦¬ì†ŒìŠ¤ë¥¼ ìˆ˜ë™ ë³€ê²½í•œ ê²½ìš°, ìƒíƒœ íŒŒì¼ê³¼ ì‹¤ì œ ë¦¬ì†ŒìŠ¤ ê°„ ì°¨ì´ë¥¼ ë°˜ì˜í•˜ë ¤ë©´ ì´ ëª…ë ¹ì–´ë¥¼ ì¨.

```
terraform refresh
```

ì£¼ì˜í•  ì ì€ ì´ ëª…ë ¹ì–´ëŠ” **ìƒíƒœ íŒŒì¼ë§Œ ìˆ˜ì •**í•˜ê³ , ì‹¤ì œ ì¸í”„ë¼ëŠ” ë³€ê²½í•˜ì§€ ì•Šì•„.

  

> ì°¸ê³ : terraform planì´ë‚˜ applyë¥¼ ì‹¤í–‰í•  ë•Œë„ ìë™ìœ¼ë¡œ refreshê°€ ë™ì‘í•¨.

---

## **âœ…**Â  terraform graph

## Â **â€“ ì˜ì¡´ì„± ê·¸ë˜í”„ ìƒì„±**

ë¦¬ì†ŒìŠ¤ ê°„ ì˜ì¡´ ê´€ê³„ë¥¼ ì‹œê°ì ìœ¼ë¡œ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´ terraform graphë¥¼ ì‚¬ìš©í•´. ì¶œë ¥ì€ DOT í¬ë§·ì´ì•¼.

```
terraform graph
```

**Graphvizë¡œ ì‹œê°í™”í•˜ê¸° (Ubuntu ê¸°ì¤€):**

```
sudo apt install graphviz
terraform graph | dot -Tpng > graph.png
```

ìƒì„±ëœ graph.png íŒŒì¼ì„ ì—´ë©´ ì•„ë˜ì²˜ëŸ¼ ë³¼ ìˆ˜ ìˆì–´:

- ë£¨íŠ¸ ë…¸ë“œ: êµ¬ì„± ë””ë ‰í† ë¦¬
- ë¦¬ì†ŒìŠ¤ ë…¸ë“œë“¤: local_file.pet, random_pet.my_pet
- ì˜ì¡´ì„±: local_file.pet â†’ random_pet.my_pet
    

---

## **ğŸ“Œ ëª…ë ¹ì–´ ìš”ì•½í‘œ**

|**ìƒí™©**|**ëª…ë ¹ì–´**|
|---|---|
|ë¬¸ë²• ì˜¤ë¥˜ í™•ì¸|terraform validate|
|ì½”ë“œ í¬ë§· ì •ë¦¬|terraform fmt|
|ìƒíƒœ ì •ë³´ í™•ì¸|terraform show|
|ì¶œë ¥ ë³€ìˆ˜ í™•ì¸|terraform output|
|Provider ëª©ë¡ ë³´ê¸°|terraform providers|
|Provider ë°”ì´ë„ˆë¦¬ ë³µì‚¬|terraform providers mirror|
|ì‹¤ì œ ì¸í”„ë¼ì™€ ë™ê¸°í™”|terraform refresh|
|ì˜ì¡´ì„± ê·¸ë˜í”„ ìƒì„±|terraform graph|
