
### **Terraform ë³€ìˆ˜ ë¸”ë¡ ì™„ì „ ì •ë³µ**

Terraformì—ì„œ ì¸í”„ë¼ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ê´€ë¦¬í•˜ë ¤ë©´ **ë³€ìˆ˜(variable)**ë¥¼ ì ì ˆíˆ í™œìš©í•˜ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤. ì´ë²ˆ ê¸€ì—ì„œëŠ” variable ë¸”ë¡ì´ ì–´ë–¤ êµ¬ì¡°ë¡œ êµ¬ì„±ë˜ì–´ ìˆëŠ”ì§€, ê·¸ë¦¬ê³  ë‹¤ì–‘í•œ íƒ€ì…ì˜ ë³€ìˆ˜ë¥¼ Terraformì—ì„œ ì–´ë–»ê²Œ ì„ ì–¸í•˜ê³  ì‚¬ìš©í•˜ëŠ”ì§€ë¥¼ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤.

**ğŸ¯ ë³€ìˆ˜ ë¸”ë¡ì˜ ì£¼ìš” ì¸ì**

Terraformì˜ variable ë¸”ë¡ì—ì„œëŠ” ì£¼ë¡œ ë‹¤ìŒ ì„¸ ê°€ì§€ ì¸ìë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:

â€¢ default: ë³€ìˆ˜ì˜ ê¸°ë³¸ê°’ì„ ì§€ì •í•©ë‹ˆë‹¤.
â€¢ type: ë³€ìˆ˜ì˜ íƒ€ì…ì„ ëª…ì‹œí•©ë‹ˆë‹¤. ëª…ì‹œí•˜ì§€ ì•Šìœ¼ë©´ ê¸°ë³¸ì ìœ¼ë¡œ any íƒ€ì…ìœ¼ë¡œ ê°„ì£¼ë©ë‹ˆë‹¤.
â€¢ description: ë³€ìˆ˜ì— ëŒ€í•œ ì„¤ëª…ì„ ì¶”ê°€í•©ë‹ˆë‹¤. ì„ íƒ ì‚¬í•­ì´ì§€ë§Œ ë¬¸ì„œí™” ì¸¡ë©´ì—ì„œ ë§¤ìš° ìœ ìš©í•©ë‹ˆë‹¤.

**ğŸ”¤ ê¸°ë³¸ íƒ€ì…**

Terraformì—ì„œëŠ” ì•„ë˜ì™€ ê°™ì€ **ê¸°ë³¸ íƒ€ì…**ì„ ì§€ì›í•©ë‹ˆë‹¤:

|**íƒ€ì…**|**ì„¤ëª…**|
|---|---|
|string|ë¬¸ìì—´, ì•ŒíŒŒë²³ê³¼ ìˆ«ìì˜ ì¡°í•©|
|number|ì •ìˆ˜ ë˜ëŠ” ì‹¤ìˆ˜ (ì–‘ìˆ˜/ìŒìˆ˜ ê°€ëŠ¥)|
|bool|true ë˜ëŠ” false ê°’|

ì˜ˆì‹œ:

```
variable "name" {
  type    = string
  default = "Terraform"
}
```

**ğŸ“š ë³µí•© íƒ€ì…**

Terraformì€ ë³´ë‹¤ ìœ ì—°í•œ êµ¬ì„±ì„ ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì€ **ë³µí•© íƒ€ì…**ë„ ì œê³µí•©ë‹ˆë‹¤:

**1. list**

ê°’ì„ **ìˆœì„œëŒ€ë¡œ ë‚˜ì—´**í•œ ì»¬ë ‰ì…˜ì…ë‹ˆë‹¤. ì¸ë±ìŠ¤ëŠ” 0ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤.

```
variable "prefix" {
  type    = list(string)
  default = ["Mr", "Mrs", "Sir"]
}
```

ì‚¬ìš© ì˜ˆ:

```
value = var.prefix[0]  # Mr
```

**2. map**

**Key-Value í˜•ì‹**ìœ¼ë¡œ ë°ì´í„°ë¥¼ ì €ì¥í•©ë‹ˆë‹¤.

```
variable "file_content" {
  type = map(string)
  default = {
    statement1 = "Hello"
    statement2 = "World"
  }
}
```

ì‚¬ìš© ì˜ˆ:

```
content = var.file_content["statement2"]  # World
```

**3. set**

listì™€ ìœ ì‚¬í•˜ì§€ë§Œ, **ì¤‘ë³µ ê°’ì´ í—ˆìš©ë˜ì§€ ì•ŠìŒ**.

```
variable "unique_items" {
  type = set(string)
  default = ["apple", "banana", "orange"]
}
```

âŒ ì•„ë˜ì™€ ê°™ì€ ì¤‘ë³µì€ ì˜¤ë¥˜ ë°œìƒ:

```
default = ["apple", "banana", "apple"]  # ì˜¤ë¥˜
```

**4. object**

**ì—¬ëŸ¬ íƒ€ì…ì„ í¬í•¨í•˜ëŠ” êµ¬ì¡°ì²´** í˜•íƒœì…ë‹ˆë‹¤.

```
variable "bella" {
  type = object({
    name         = string
    color        = string
    age          = number
    food         = list(string)
    favorite_pet = bool
  })
  default = {
    name         = "bella"
    color        = "brown"
    age          = 7
    food         = ["fish", "chicken", "turkey"]
    favorite_pet = true
  }
}
```

**5. tuple**

**ì •í•´ì§„ íƒ€ì…ê³¼ ìˆœì„œ**ë¡œ êµ¬ì„±ëœ ë¦¬ìŠ¤íŠ¸ì…ë‹ˆë‹¤.

```
variable "my_tuple" {
  type = tuple([string, number, bool])
  default = ["cat", 7, true]
}
```

â€¢ ê° ìš”ì†Œì˜ íƒ€ì…ê³¼ ìˆœì„œë¥¼ ì •í™•íˆ ë§ì¶°ì•¼ í•©ë‹ˆë‹¤.
â€¢ ê°’ì˜ ê°œìˆ˜ë‚˜ íƒ€ì…ì´ ë‹¤ë¥´ë©´ ì˜¤ë¥˜ ë°œìƒ.

**â›” íƒ€ì… ì œì•½ê³¼ ì—ëŸ¬**

íƒ€ì…ì´ ì§€ì •ëœ ë³€ìˆ˜ì— **ì˜ëª»ëœ íƒ€ì…**ì˜ ê°’ì´ ë“¤ì–´ê°€ë©´ Terraform ëª…ë ¹ì–´(plan, apply) ì‹¤í–‰ ì‹œ ë‹¤ìŒê³¼ ê°™ì€ ì—ëŸ¬ê°€ ë°œìƒí•©ë‹ˆë‹¤:

The default value is not compatible with the variable type constraint

ì˜ˆë¥¼ ë“¤ì–´, list(number) íƒ€ì…ì— ë¬¸ìì—´ì´ ë“¤ì–´ê°€ë©´ ìœ„ì™€ ê°™ì€ ì—ëŸ¬ê°€ ì¶œë ¥ë©ë‹ˆë‹¤.

**ğŸ§ª ë§ˆë¬´ë¦¬ ë° ì‹¤ìŠµ ì•ˆë‚´**

ì´ ê°•ì˜ì—ì„œëŠ” Terraformì—ì„œ ì‚¬ìš© ê°€ëŠ¥í•œ ë‹¤ì–‘í•œ ë³€ìˆ˜ íƒ€ì…ê³¼ ì´ë¥¼ ì„ ì–¸í•˜ê³  ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì„ ë°°ì› ìŠµë‹ˆë‹¤. ì´ì œ ì§ì ‘ ì‹¤ìŠµì„ í†µí•´ list, map, object, tupleê³¼ ê°™ì€ ê³ ê¸‰ íƒ€ì…ë“¤ì„ ìµíˆëŠ” ë‹¨ê³„ë¡œ ë„˜ì–´ê°€ ë´…ì‹œë‹¤.

í•„ìš”í•˜ì‹œë©´ ì´ì–´ì§€ëŠ” ì‹¤ìŠµ ì˜ˆì œë„ ì •ë¦¬í•´ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤ :)
