```java
import static org.mockito.Mockito.mockStatic;

// When  
try (MockedStatic<LocalDateTime> mocked = mockStatic(LocalDateTime.class)) {  
    mocked.when(LocalDateTime::now).thenReturn(now);  
  
    // Then  
    Assertions.assertThat(filter.apply(collection)).isEqualTo(expected);  
}
```

### Junit 의 역사

**JUnit의 역사와 버전별 변화**

  

JUnit은 Java 언어를 위한 단위 테스트 프레임워크로, 1997년에 Kent Beck과 Erich Gamma에 의해 개발되었습니다. 소프트웨어 개발에서 테스트 주도 개발(Test-Driven Development, TDD)을 지원하는 중요한 도구로 자리매김했으며, xUnit 계열 테스트 프레임워크의 일원입니다.

  

**JUnit 1.x (1997년 출시)**

  

• **초기 버전**: JUnit의 초기 버전은 Java에서 반복 가능한 단위 테스트를 작성할 수 있는 간단한 프레임워크로 시작했습니다.

• **기본 구조**: 개발자들이 간단하고 반복 가능한 테스트를 작성할 수 있도록 지원했습니다.

  

**JUnit 2.x**

  

• **기능 개선**: 이전 버전에 비해 기능과 안정성이 향상되었습니다.

  

**JUnit 3.x**

  

• **광범위한 사용**: JUnit 3.x 버전은 Java 커뮤니티에서 널리 사용되었습니다.

• **클래스 상속**: 테스트 클래스가 junit.framework.TestCase를 상속해야 했습니다.

• **메소드 네이밍**: 테스트 메소드는 반드시 test로 시작해야 했습니다 (예: testMethodName).

• **제한된 유연성**: 클래스 구조와 메소드 명명 규칙에 따라야 했습니다.

  

**JUnit 4.x (2006년 출시)**

  

• **주요 업데이트**: Java 5에서 도입된 애노테이션을 활용하여 테스트 작성 방식을 혁신적으로 개선했습니다.

• **클래스 상속 불필요**: 더 이상 TestCase 클래스를 상속할 필요가 없었습니다.

• **애노테이션 도입**:

• @Test: 테스트 메소드를 표시.

• @Before: 각 테스트 전에 실행될 메소드를 표시.

• @After: 각 테스트 후에 실행될 메소드를 표시.

• @BeforeClass: 모든 테스트 전에 한 번 실행될 메소드를 표시 (static 메소드여야 함).

• @AfterClass: 모든 테스트 후에 한 번 실행될 메소드를 표시 (static 메소드여야 함).

• **메소드 네이밍 유연성**: 테스트 메소드는 더 이상 test로 시작할 필요가 없었습니다.

• **새로운 기능 추가**:

• 어설션 메소드가 org.junit.Assert 클래스에 추가되었습니다.

• 파라미터화된 테스트 지원.

• 테스트 카테고리 및 러너 도입.

  

**JUnit 4.7 및 이후 버전**

  

• @Rule **애노테이션**: 테스트 실행을 제어할 수 있는 유연한 방법을 제공.

• **기능 향상 및 버그 수정**: 지속적인 업데이트를 통해 안정성과 기능이 개선되었습니다.

  

**JUnit 5.x (2017년 출시)**

  

• **완전한 재작성**: Java 8의 기능(람다 표현식 등)을 활용하기 위해 JUnit을 완전히 재설계했습니다.

• **모듈화된 구조**:

• **JUnit Platform**: JVM에서 테스트 프레임워크를 실행하기 위한 기반을 제공.

• **JUnit Jupiter**: 새로운 테스트 작성 및 확장 모델을 제공.

• **JUnit Vintage**: 기존 JUnit 3와 JUnit 4 기반의 테스트를 JUnit 5 플랫폼에서 실행할 수 있도록 지원.

• **새로운 애노테이션**:

• @Test: 테스트 메소드 지정 (패키지 위치 변경).

• @BeforeEach: 각 테스트 전에 실행.

• @AfterEach: 각 테스트 후에 실행.

• @BeforeAll: 모든 테스트 전에 한 번 실행 (static 또는 인스턴스 메소드 가능).

• @AfterAll: 모든 테스트 후에 한 번 실행 (static 또는 인스턴스 메소드 가능).

• @DisplayName: 테스트 클래스나 메소드에 커스텀 이름 지정.

• @Nested: 중첩 테스트 클래스 지원.

• @Tag: 테스트 필터링 및 그룹화를 위한 태그 지정.

• @Disabled: 테스트 비활성화 (이전의 @Ignore 대체).

• **어설션 및 전제조건 개선**:

• 향상된 어설션 API 제공.

• 람다를 활용한 지연 계산 메시지 지원.

• **동적 테스트**:

• @TestFactory를 통해 런타임에 테스트 생성 가능.

• **확장 모델**:

• @ExtendWith 애노테이션을 통해 확장 기능 적용.

• 이전의 @RunWith 및 @Rule을 대체하는 보다 강력한 확장성 제공.

• **파라미터화된 테스트**:

• @ParameterizedTest와 다양한 소스 애노테이션 (@ValueSource, @CsvSource 등)을 통해 다양한 입력에 대한 테스트 가능.

• **Java 8 이상 필요**: JUnit 5는 Java 8 이상의 버전에서만 동작합니다.

• **IDE 및 빌드 도구 통합 개선**: 최신 IDE와 빌드 도구와의 통합성이 향상되었습니다.

  

**버전별 변화 요약**

  

• **JUnit 3에서 JUnit 4로**:

• 애노테이션 기반으로 전환하여 테스트 작성 방식 간소화.

• 클래스 상속 및 메소드 명명 규칙의 제약에서 벗어남.

• 테스트 라이프사이클 관리가 용이해짐.

• **JUnit 4에서 JUnit 5로**:

• 모듈화된 아키텍처로 확장성 강화.

• Java 8 기능 활용으로 코드 간결화 및 기능 향상.

• 새로운 확장 모델로 커스터마이징 용이.

• 동적 테스트 및 파라미터화된 테스트로 테스트 유연성 증가.

  

**결론**

  

JUnit은 초기의 간단한 단위 테스트 프레임워크에서 시작하여, Java 언어와 개발자의 요구에 맞춰 지속적으로 발전해 왔습니다. 각 버전의 변화는 개발 생산성 향상과 테스트의 효율성을 높이기 위한 노력이 반영되어 있습니다.